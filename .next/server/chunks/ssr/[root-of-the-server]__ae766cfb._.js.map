{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/AOM/Desktop/Baran%20Proje/EkimSogutma/teklif-formu/src/lib/pdfGenerator.ts"],"sourcesContent":["import jsPDF from 'jspdf';\r\n\r\n// Helper function to load image as base64\r\nconst loadImageAsBase64 = async (imagePath: string): Promise<string> => {\r\n  try {\r\n    const response = await fetch(imagePath);\r\n    const blob = await response.blob();\r\n    \r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      reader.onload = () => resolve(reader.result as string);\r\n      reader.onerror = reject;\r\n      reader.readAsDataURL(blob);\r\n    });\r\n  } catch (error) {\r\n    console.error('Logo y√ºklenirken hata:', error);\r\n    return ''; // Return empty string if logo fails to load\r\n  }\r\n};\r\n\r\nexport interface QuotePDFData {\r\n  quoteId: number;\r\n  customerInfo: {\r\n    name: string;\r\n    company?: string;\r\n    email?: string;\r\n    phone?: string;\r\n    address?: string;\r\n  };\r\n  projectDetails: {\r\n    projectDesign: string;\r\n    projectDescription: string;\r\n  };\r\n  schedule: {\r\n    startDate: string;\r\n    endDate: string;\r\n  };\r\n  conditions: {\r\n    validityPeriod: string;\r\n    deliveryTime: string;\r\n  };\r\n  items: Array<{\r\n    product: {\r\n      name: string;\r\n      customName?: string;\r\n      brand?: string;\r\n      model?: string;\r\n      code?: string;\r\n      description?: string; // Yeni eklenen alan\r\n    };\r\n    quantity: number;\r\n    unitPrice: number;\r\n    total: number;\r\n  }>;\r\n  subtotal: number;\r\n  kdv: number;\r\n  total: number;\r\n  createdAt: string;\r\n}\r\n\r\nexport const generateQuotePDF = async (data: QuotePDFData): Promise<void> => {\r\n  // Load logo as base64\r\n  const logoBase64 = await loadImageAsBase64('/image/49125941466.jpg');\r\n  \r\n  // Create a temporary container for the PDF content\r\n  const tempDiv = document.createElement('div');\r\n  tempDiv.style.position = 'absolute';\r\n  tempDiv.style.left = '-9999px';\r\n  tempDiv.style.top = '0';\r\n  tempDiv.style.width = '794px'; // A4 width in pixels at 96 DPI\r\n  tempDiv.style.backgroundColor = 'white';\r\n  tempDiv.style.fontFamily = 'Arial, sans-serif';\r\n  tempDiv.style.maxHeight = '1050px'; // Tek sayfa i√ßin y√ºkseklik sƒ±nƒ±rƒ± (A4: 1122px, biraz bo≈üluk bƒ±rak)\r\n  tempDiv.style.overflow = 'hidden';\r\n  \r\n  // Create the HTML content for the PDF\r\n  tempDiv.innerHTML = `\r\n  <div style=\"padding: 0; font-family: 'Segoe UI', Arial, sans-serif; color: #2c3e50; line-height: 1.2; font-size: 7px; min-height: 1122px; position: relative;\">\r\n      <!-- Modern Header with Logo -->\r\n  <div style=\"background: #f8fafc; border-bottom: 2.5px solid #1e40af; padding: 0 0 8px 0; margin-bottom: 6px;\">\r\n    <div style=\"display: flex; justify-content: space-between; align-items: flex-end;\">\r\n      <div style=\"padding: 12px 18px 0 18px;\">\r\n        <div style=\"display: flex; align-items: center; gap: 10px;\">\r\n          ${logoBase64 ? `<img src=\"${logoBase64}\" style=\"width: 38px; height: 38px; border-radius: 6px; object-fit: cover; border: 1.5px solid #1e40af; background: white;\" alt=\"Ekim Soƒüutma Logo\" />` : ''}\r\n          <div>\r\n            <h1 style=\"font-size: 13px; margin: 0; font-weight: 800; color: #1e40af; letter-spacing: 0.5px;\">EKƒ∞M SOƒûUTMA</h1>\r\n            <div style=\"font-size: 7px; color: #64748b; font-weight: 500; margin-top: 1px;\">Profesyonel Soƒüutma ve Klima Sistemleri</div>\r\n          </div>\r\n        </div>\r\n        <div style=\"font-size: 6.5px; color: #334155; margin-top: 4px;\">\r\n          <span>üìû +90 (532) 123 45 67</span> &nbsp;|&nbsp; <span>‚úâÔ∏è info@ekimsogutma.com</span> &nbsp;|&nbsp; <span>üåê www.ekimsogutma.com</span>\r\n        </div>\r\n      </div>\r\n      <div style=\"padding: 10px 18px 0 0; text-align: right; min-width: 180px;\">\r\n        <div style=\"font-size: 7.5px; color: #1e40af; font-weight: 700; letter-spacing: 0.2px; margin-bottom: 2px;\">M√ú≈ûTERƒ∞ Bƒ∞LGƒ∞LERƒ∞</div>\r\n        <div style=\"background: white; padding: 6px 8px; border-radius: 6px; box-shadow: 0 1px 4px rgba(30,64,175,0.06);\">\r\n          <div style=\"font-size: 7.5px; font-weight: 700; color: #0f172a; margin-bottom: 1px;\">${data.customerInfo.name}</div>\r\n          ${data.customerInfo.company ? `<div style=\\\"font-size: 6.5px; color: #64748b;\\\">${data.customerInfo.company}</div>` : ''}\r\n          ${data.customerInfo.email ? `<div style=\\\"font-size: 6.5px;\\\">üìß ${data.customerInfo.email}</div>` : ''}\r\n          ${data.customerInfo.phone ? `<div style=\\\"font-size: 6.5px;\\\">üì± ${data.customerInfo.phone}</div>` : ''}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div style=\"display: flex; justify-content: space-between; align-items: flex-end; padding: 0 18px 0 18px; margin-top: 2px;\">\r\n      <div style=\"font-size: 8px; color: #1e40af; font-weight: 700;\">ÔøΩ TEKLƒ∞F</div>\r\n      <div style=\"font-size: 7px; color: #0f172a; font-weight: 500; text-align: right;\">\r\n        <span style=\"margin-right: 10px;\"><strong>Teklif No:</strong> <span style=\"color: #1e40af; font-weight: 700;\">#${data.quoteId}</span></span>\r\n        <span style=\"margin-right: 10px;\"><strong>Tarih:</strong> ${new Date(data.createdAt).toLocaleDateString('tr-TR', { year: 'numeric', month: 'long', day: 'numeric' })}</span>\r\n        <span><strong>Ge√ßerlilik:</strong> <span style=\"color: #dc2626; font-weight: 600;\">${data.conditions.validityPeriod} g√ºn</span></span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n      <!-- Quote Info Section -->\r\n\r\n      <!-- Project Details -->\r\n  <div style=\"background: #f1f5f9; padding: 6px 18px 6px 18px; border-radius: 6px; margin-bottom: 7px; border-left: 3px solid #1e40af; font-size: 7px;\">\r\n    <div style=\"font-size: 8px; color: #0c4a6e; font-weight: 700; margin-bottom: 2px;\">üèóÔ∏è PROJE DETAYLARI</div>\r\n    <div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 7px; font-size: 7px;\">\r\n      <div><strong>Konu:</strong> ${data.projectDetails.projectDesign || '-'}</div>\r\n      <div><strong>Teslimat:</strong> ${data.conditions.deliveryTime || '-'}</div>\r\n      <div><strong>Ba≈ülangƒ±√ß:</strong> ${data.schedule.startDate ? new Date(data.schedule.startDate).toLocaleDateString('tr-TR') : '-'}</div>\r\n      <div><strong>Biti≈ü:</strong> ${data.schedule.endDate ? new Date(data.schedule.endDate).toLocaleDateString('tr-TR') : '-'}</div>\r\n    </div>\r\n    ${data.projectDetails.projectDescription ? `<div style=\"margin-top: 5px; padding-top: 5px; border-top: 1px solid #bae6fd; font-size: 7px;\"><strong>A√ßƒ±klama:</strong><br>${data.projectDetails.projectDescription}</div>` : ''}\r\n  </div>\r\n\r\n      <!-- Items Table -->\r\n  <div style=\"margin-bottom: 4px;\">\r\n    <h3 style=\"color: #1e40af; font-size: 10px; margin: 0 0 6px 0; font-weight: 700;\">üì¶ TEKLƒ∞F KALEMLERƒ∞</h3>\r\n  <table style=\"width: 100%; border-collapse: collapse; border-radius: 1px; overflow: hidden; box-shadow: 0 1px 1px rgba(0,0,0,0.02); table-layout: fixed; font-size: 9.5px;\">\r\n      <thead>\r\n        <tr style=\"background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%); color: white;\">\r\n          <th style=\"padding: 4px 3px; text-align: left; font-size: 10px; font-weight: 700; width: 40%;\">√úR√úN</th>\r\n          <th style=\"padding: 4px 2px; text-align: center; font-size: 10px; font-weight: 700; width: 10%;\">ADET</th>\r\n          <th style=\"padding: 4px 2px; text-align: right; font-size: 10px; font-weight: 700; width: 18%;\">SATI≈û Fƒ∞YATI</th>\r\n          <th style=\"padding: 4px 2px; text-align: right; font-size: 10px; font-weight: 700; width: 18%;\">TOPLAM Fƒ∞YAT</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        ${data.items.map((item, index) => `\r\n          <tr style=\"background: ${index % 2 === 0 ? '#f8fafc' : 'white'}; border-bottom: 1px solid #e5e7eb;\">\r\n            <td style=\"padding: 4px 3px; font-size: 10px; word-wrap: break-word; vertical-align: top;\">\r\n              <div style=\"font-weight: 700; color: #1f2937; line-height: 1.08;\">${item.product.customName || item.product.name}</div>\r\n              ${item.product.name.includes('Tavan') || item.product.name.includes('Zemin') || item.product.name.includes('Duvar') ? \r\n                `<div style=\"font-size: 7px; color: #6b7280; margin-top: 1px;\">${item.product.description || 'Metrekare hesaplamasƒ±'}</div>` : \r\n                `${item.product.brand || item.product.model ? `<div style=\\\"font-size: 7.5px; color: #6b7280; margin-top: 1px;\\\">${item.product.brand || ''} ${item.product.model || ''}</div>` : ''}`\r\n              }\r\n              ${item.product.code ? `<div style=\\\"font-size: 7px; color: #9ca3af; margin-top: 1px;\\\">Kod: ${item.product.code}</div>` : ''}\r\n            </td>\r\n            <td style=\"padding: 4px 2px; text-align: center; font-size: 10px; font-weight: 700; color: #1e40af; vertical-align: middle;\">${item.quantity}</td>\r\n            <td style=\"padding: 4px 2px; text-align: right; font-size: 10px; font-weight: 700; color: #059669; vertical-align: middle; white-space: nowrap;\">‚Ç¨${item.unitPrice.toLocaleString('tr-TR', { minimumFractionDigits: 2 })}</td>\r\n            <td style=\"padding: 4px 2px; text-align: right; font-size: 10px; font-weight: 800; color: #dc2626; vertical-align: middle; white-space: nowrap;\">‚Ç¨${item.total.toLocaleString('tr-TR', { minimumFractionDigits: 2 })}</td>\r\n          </tr>\r\n        `).join('')}\r\n      </tbody>\r\n    </table>\r\n    <div style=\"width: 100%; text-align: right; font-size: 7.5px; font-weight: 800; color: #1e293b; margin-top: 4px; margin-bottom: 0;\">\r\n      Ara Toplam: ‚Ç¨${data.items.reduce((sum, item) => sum + item.total, 0).toLocaleString('tr-TR', { minimumFractionDigits: 2 })}<br/>\r\n      KDV (%20) Dahil Toplam: <span style=\"color:#dc2626;\">‚Ç¨${(data.items.reduce((sum, item) => sum + item.total, 0) * 1.2).toLocaleString('tr-TR', { minimumFractionDigits: 2 })}</span>\r\n    </div>\r\n    <div style=\"font-size: 5px; margin-top: 1px;\">‚Ä¢ √úr√ºnlere <strong>2 yƒ±l garanti</strong></div>\r\n    <div style=\"font-size: 5px;\">‚Ä¢ Teklif sadece belirtilen √ºr√ºnler i√ßin ge√ßerli</div>\r\n    \r\n    <!-- Metrekare hesaplama detaylarƒ± -->\r\n    ${data.items.some(item => item.product.name.includes('Metrekare Hesaplama')) ? `\r\n      <div style=\"margin-top: 10px; padding: 8px; background-color: #f0f9ff; border-radius: 6px; border: 1px solid #bae6fd;\">\r\n        <div style=\"font-size: 8px; font-weight: 700; color: #0c4a6e; margin-bottom: 4px;\">üìê Metrekare Hesaplama Detaylarƒ±:</div>\r\n        <div style=\"font-size: 7px; color: #0c4a6e;\">\r\n          Bu teklif, tavan, zemin ve duvar alanlarƒ±nƒ±n ayrƒ± ayrƒ± hesaplanmasƒ±ndan olu≈ümaktadƒ±r. \r\n          Her bir alan i√ßin en, boy ve adet deƒüerleri girilerek toplam metrekare hesaplanmƒ±≈ütƒ±r.\r\n        </div>\r\n      </div>\r\n    ` : ''}\r\n  </div>\r\n\r\n      <!-- ƒ∞mza i√ßin daha geni≈ü bo≈üluk ve yazƒ±lar -->\r\n      <div style=\"height: 60px; position: relative;\">\r\n        <div style=\"position: absolute; left: 24px; bottom: 6px; font-size: 9px; font-weight: bold; color: #1e293b;\">Ekim Soƒüutma</div>\r\n        <div style=\"position: absolute; right: 24px; bottom: 6px; font-size: 9px; font-weight: bold; color: #1e293b;\">M√º≈üteri Onayƒ±</div>\r\n      </div>\r\n\r\n      <!-- Footer -->\r\n      <div style=\"position: absolute; left: 0; right: 0; bottom: 0; background: linear-gradient(135deg, #1f2937 0%, #374151 100%); color: white; padding: 12px 0 8px 0; border-radius: 10px 10px 0 0; text-align: center; font-size: 10px; width: 100%; margin: 0; z-index: 10; display: block;\">\r\n        <div style=\"font-size: 10px; opacity: 0.9; display: flex; justify-content: center; gap: 10px;\">\r\n          <span>üåê www.ekimsogutma.com</span>\r\n          <span>‚úâÔ∏è info@ekimsogutma.com</span>\r\n          <span>üìû +90 (532) 123 45 67</span>\r\n        </div>\r\n        <p style=\"margin: 4px 0 0 0; font-size: 9px; opacity: 0.7;\">¬© ${new Date().getFullYear()} Ekim Soƒüutma. T√ºm haklarƒ± saklƒ±dƒ±r.</p>\r\n      </div>\r\n    </div>\r\n  `;\r\n\r\n  // Add the temporary div to the document\r\n  document.body.appendChild(tempDiv);\r\n\r\n  try {\r\n    // Convert HTML to canvas (tek sayfa i√ßin y√ºkseklik sƒ±nƒ±rƒ±)\r\n    const canvas = await html2canvas(tempDiv, {\r\n      useCORS: true,\r\n      allowTaint: true,\r\n  background: '#ffffff',\r\n      width: 794,\r\n      height: 1050 // Tek sayfa i√ßin sabit y√ºkseklik\r\n    });\r\n\r\n    // Create PDF (tek sayfa)\r\n    const imgData = canvas.toDataURL('image/png');\r\n    const pdf = new jsPDF('p', 'mm', 'a4');\r\n    const imgWidth = 210; // A4 width in mm\r\n    const imgHeight = 297; // A4 height in mm\r\n    pdf.addImage(imgData, 'PNG', 0, 0, imgWidth, imgHeight);\r\n\r\n    // Download the PDF\r\n    pdf.save(`Teklif_${data.quoteId}_${data.customerInfo.name.replace(/[^a-zA-Z0-9]/g, '_')}.pdf`);\r\n  } finally {\r\n    // Clean up: remove the temporary div\r\n    document.body.removeChild(tempDiv);\r\n  }\r\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 224, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/AOM/Desktop/Baran%20Proje/EkimSogutma/teklif-formu/src/components/Header.tsx"],"sourcesContent":["import Image from 'next/image';\r\nimport Link from 'next/link';\r\n\r\nexport default function Header() {\r\n  return (\r\n    <header className=\"bg-white/95 backdrop-blur-lg shadow-premium border-b border-gray-200/50 sticky top-0 z-50\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"flex justify-between items-center py-4\">\r\n          <Link href=\"/\" className=\"flex items-center space-x-4 group\">\r\n            <div className=\"relative\">\r\n              <Image\r\n                src=\"/image/49125941466.jpg\"\r\n                alt=\"Ekim Soƒüutma Logo\"\r\n                width={220}\r\n                height={220}\r\n                className=\"rounded-xl shadow-lg border-2 border-blue-100 hover:border-blue-300 transition-all duration-300 group-hover:scale-105\"\r\n              />\r\n            </div>\r\n          </Link>\r\n          \r\n          <nav className=\"hidden md:flex items-center space-x-8\">\r\n            {/* Enhanced Navigation Links */}\r\n            <Link \r\n              href=\"/products\" \r\n              className=\"group relative px-3 py-2 rounded-xl transition-all duration-300 hover:bg-gradient-to-r hover:from-green-50 hover:to-emerald-50 hover:shadow-lg\"\r\n            >\r\n              <div className=\"flex items-center space-x-2\">\r\n                <span className=\"text-xl group-hover:scale-110 transition-transform duration-300\">üì¶</span>\r\n                <span className=\"font-bold text-sm text-gray-800 group-hover:text-green-600 transition-colors duration-300\">√úr√ºnler</span>\r\n              </div>\r\n              <div className=\"absolute bottom-0 left-1/2 w-0 h-0.5 bg-gradient-to-r from-green-500 to-emerald-600 transition-all duration-300 group-hover:w-full group-hover:left-0\"></div>\r\n            </Link>\r\n            \r\n            <Link \r\n              href=\"/customers\" \r\n              className=\"group relative px-3 py-2 rounded-xl transition-all duration-300 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 hover:shadow-lg\"\r\n            >\r\n              <div className=\"flex items-center space-x-2\">\r\n                <span className=\"text-xl group-hover:scale-110 transition-transform duration-300\">üë•</span>\r\n                <span className=\"font-bold text-sm text-gray-800 group-hover:text-blue-600 transition-colors duration-300\">M√º≈üteriler</span>\r\n              </div>\r\n              <div className=\"absolute bottom-0 left-1/2 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-indigo-600 transition-all duration-300 group-hover:w-full group-hover:left-0\"></div>\r\n            </Link>\r\n            \r\n            <Link \r\n              href=\"/quotes\" \r\n              className=\"group relative px-3 py-2 rounded-xl transition-all duration-300 hover:bg-gradient-to-r hover:from-purple-50 hover:to-pink-50 hover:shadow-lg\"\r\n            >\r\n              <div className=\"flex items-center space-x-2\">\r\n                <span className=\"text-xl group-hover:scale-110 transition-transform duration-300\">üìã</span>\r\n                <span className=\"font-bold text-sm text-gray-800 group-hover:text-purple-600 transition-colors duration-300\">Teklifler</span>\r\n              </div>\r\n              <div className=\"absolute bottom-0 left-1/2 w-0 h-0.5 bg-gradient-to-r from-purple-500 to-pink-600 transition-all duration-300 group-hover:w-full group-hover:left-0\"></div>\r\n            </Link>\r\n\r\n            <Link \r\n              href=\"/tedarikciler\" \r\n              className=\"group relative px-3 py-2 rounded-xl transition-all duration-300 hover:bg-gradient-to-r hover:from-orange-50 hover:to-red-50 hover:shadow-lg\"\r\n            >\r\n              <div className=\"flex items-center space-x-2\">\r\n                <span className=\"text-xl group-hover:scale-110 transition-transform duration-300\">üè≠</span>\r\n                <span className=\"font-bold text-sm text-gray-800 group-hover:text-orange-600 transition-colors duration-300\">Tedarik√ßiler</span>\r\n              </div>\r\n              <div className=\"absolute bottom-0 left-1/2 w-0 h-0.5 bg-gradient-to-r from-orange-500 to-red-600 transition-all duration-300 group-hover:w-full group-hover:left-0\"></div>\r\n            </Link>\r\n\r\n            <Link \r\n              href=\"/projeler\" \r\n              className=\"group relative px-3 py-2 rounded-xl transition-all duration-300 hover:bg-gradient-to-r hover:from-yellow-50 hover:to-orange-50 hover:shadow-lg\"\r\n            >\r\n              <div className=\"flex items-center space-x-2\">\r\n                <span className=\"text-xl group-hover:scale-110 transition-transform duration-300\">üèóÔ∏è</span>\r\n                <span className=\"font-bold text-sm text-gray-800 group-hover:text-yellow-600 transition-colors duration-300\">Tanƒ±mlƒ± Projeler</span>\r\n              </div>\r\n              <div className=\"absolute bottom-0 left-1/2 w-0 h-0.5 bg-gradient-to-r from-yellow-500 to-orange-500 transition-all duration-300 group-hover:w-full group-hover:left-0\"></div>\r\n            </Link>\r\n          </nav>\r\n\r\n          {/* Enhanced Mobile menu button */}\r\n          <div className=\"md:hidden\">\r\n            <button className=\"group relative p-3 rounded-xl bg-gradient-to-r from-gray-100 to-gray-200 hover:from-blue-100 hover:to-indigo-100 transition-all duration-300 shadow-lg hover:shadow-xl\">\r\n              <svg className=\"h-6 w-6 text-gray-700 group-hover:text-blue-600 transition-colors duration-300\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\r\n              </svg>\r\n              <div className=\"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-500 rounded-xl opacity-0 group-hover:opacity-20 transition-opacity duration-300\"></div>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEe,SAAS;IACtB,qBACE,iQAAC;QAAO,WAAU;kBAChB,cAAA,iQAAC;YAAI,WAAU;sBACb,cAAA,iQAAC;gBAAI,WAAU;;kCACb,iQAAC,0LAAI;wBAAC,MAAK;wBAAI,WAAU;kCACvB,cAAA,iQAAC;4BAAI,WAAU;sCACb,cAAA,iQAAC,2JAAK;gCACJ,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,QAAQ;gCACR,WAAU;;;;;;;;;;;;;;;;kCAKhB,iQAAC;wBAAI,WAAU;;0CAEb,iQAAC,0LAAI;gCACH,MAAK;gCACL,WAAU;;kDAEV,iQAAC;wCAAI,WAAU;;0DACb,iQAAC;gDAAK,WAAU;0DAAkE;;;;;;0DAClF,iQAAC;gDAAK,WAAU;0DAA4F;;;;;;;;;;;;kDAE9G,iQAAC;wCAAI,WAAU;;;;;;;;;;;;0CAGjB,iQAAC,0LAAI;gCACH,MAAK;gCACL,WAAU;;kDAEV,iQAAC;wCAAI,WAAU;;0DACb,iQAAC;gDAAK,WAAU;0DAAkE;;;;;;0DAClF,iQAAC;gDAAK,WAAU;0DAA2F;;;;;;;;;;;;kDAE7G,iQAAC;wCAAI,WAAU;;;;;;;;;;;;0CAGjB,iQAAC,0LAAI;gCACH,MAAK;gCACL,WAAU;;kDAEV,iQAAC;wCAAI,WAAU;;0DACb,iQAAC;gDAAK,WAAU;0DAAkE;;;;;;0DAClF,iQAAC;gDAAK,WAAU;0DAA6F;;;;;;;;;;;;kDAE/G,iQAAC;wCAAI,WAAU;;;;;;;;;;;;0CAGjB,iQAAC,0LAAI;gCACH,MAAK;gCACL,WAAU;;kDAEV,iQAAC;wCAAI,WAAU;;0DACb,iQAAC;gDAAK,WAAU;0DAAkE;;;;;;0DAClF,iQAAC;gDAAK,WAAU;0DAA6F;;;;;;;;;;;;kDAE/G,iQAAC;wCAAI,WAAU;;;;;;;;;;;;0CAGjB,iQAAC,0LAAI;gCACH,MAAK;gCACL,WAAU;;kDAEV,iQAAC;wCAAI,WAAU;;0DACb,iQAAC;gDAAK,WAAU;0DAAkE;;;;;;0DAClF,iQAAC;gDAAK,WAAU;0DAA6F;;;;;;;;;;;;kDAE/G,iQAAC;wCAAI,WAAU;;;;;;;;;;;;;;;;;;kCAKnB,iQAAC;wBAAI,WAAU;kCACb,cAAA,iQAAC;4BAAO,WAAU;;8CAChB,iQAAC;oCAAI,WAAU;oCAAiF,MAAK;oCAAO,SAAQ;oCAAY,QAAO;8CACrI,cAAA,iQAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAa;wCAAG,GAAE;;;;;;;;;;;8CAEvE,iQAAC;oCAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO7B","debugId":null}},
    {"offset": {"line": 551, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/AOM/Desktop/Baran%20Proje/EkimSogutma/teklif-formu/src/app/projeler/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { generateQuotePDF } from '@/lib/pdfGenerator';\r\nimport { useRouter, useParams } from \"next/navigation\";\r\nimport Header from \"@/components/Header\";\r\nimport { Product } from \"@/lib/database\";\r\nimport Link from \"next/link\";\r\n\r\nexport default function ProjectDetailPage() {\r\n  const params = useParams();\r\n  const projectId = Number(params?.id);\r\n  const [project, setProject] = useState<any>(null);\r\n  const [editProjectName, setEditProjectName] = useState<string>(\"\");\r\n  const [projectProducts, setProjectProducts] = useState<any[]>([]);\r\n  // Inline edit state (her h√ºcre i√ßin ayrƒ±)\r\n  const [editingCell, setEditingCell] = useState<{row: number, field: string} | null>(null);\r\n  const [editCellValue, setEditCellValue] = useState<string | number>('');\r\n  const [addProductId, setAddProductId] = useState<number>(0);\r\n  const [addQuantity, setAddQuantity] = useState<number>(1);\r\n  const [categoryFilter, setCategoryFilter] = useState<string>('');\r\n  const [productSearch, setProductSearch] = useState<string>('');\r\n  const [allProducts, setAllProducts] = useState<Product[]>([]);\r\n  const [isLoadingProducts, setIsLoadingProducts] = useState(false);\r\n  const router = useRouter();\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  // Projeyi kaydet (her zaman g√ºncel √ºr√ºnlerle kaydeder)\r\n  async function handleSaveProject() {\r\n    setIsSaving(true);\r\n    try {\r\n      const res = await fetch(`/api/projects/${projectId}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          name: editProjectName || `Proje ${projectId}`,\r\n          products: projectProducts.map(p => ({\r\n            productId: p.id ?? p.productId, // Hem yeni eklenen hem eski formatƒ± destekle\r\n            quantity: p.quantity,\r\n            discount: p.discount ?? 0,\r\n            margin: p.margin ?? 0,\r\n          }))\r\n        })\r\n      });\r\n      if (!res.ok) throw new Error('Kayƒ±t ba≈üarƒ±sƒ±z');\r\n      router.push('/projeler');\r\n    } catch (e) {\r\n      alert('Proje kaydedilemedi!');\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  }\r\n  // Teklif PDF i√ßin m√º≈üteri modalƒ±\r\n  const [showCustomerModal, setShowCustomerModal] = useState(false);\r\n  const [customerList, setCustomerList] = useState<any[]>([]);\r\n  const [selectedCustomerId, setSelectedCustomerId] = useState<number | null>(null);\r\n  const [customerName, setCustomerName] = useState('');\r\n  const [customerCompany, setCustomerCompany] = useState('');\r\n  const [customerEmail, setCustomerEmail] = useState('');\r\n  const [customerPhone, setCustomerPhone] = useState('');\r\n  // Teklif ge√ßerlilik ve teslim s√ºresi\r\n  const [validityPeriod, setValidityPeriod] = useState('15');\r\n  const [deliveryTime, setDeliveryTime] = useState('2 hafta');\r\n\r\n  // M√º≈üteri listesini √ßek\r\n  useEffect(() => {\r\n    if (showCustomerModal) {\r\n      fetch('/api/customers')\r\n        .then(res => res.json())\r\n        .then(data => setCustomerList(data));\r\n    }\r\n  }, [showCustomerModal]);\r\n\r\n  // Proje ve √ºr√ºnleri y√ºkle\r\n  useEffect(() => {\r\n    async function fetchProjectAndProducts() {\r\n      try {\r\n        // Hem projeyi hem √ºr√ºnleri paralel √ßek\r\n        const [projectRes, productsRes] = await Promise.all([\r\n          fetch(`/api/projects/${projectId}`),\r\n          fetch('/api/products')\r\n        ]);\r\n        if (!projectRes.ok) throw new Error('Proje bulunamadƒ±');\r\n        const projectData = await projectRes.json();\r\n        const allProductsData = productsRes.ok ? await productsRes.json() : [];\r\n  setProject({ id: projectData.id, name: projectData.name });\r\n  setEditProjectName(projectData.name || \"\");\r\n        // Proje √ºr√ºnlerini detaylarla birle≈ütir\r\n        const mergedProducts = Array.isArray(projectData.products)\r\n          ? projectData.products.map((p: any) => {\r\n              const prod = allProductsData.find((ap: any) => ap.id === (p.productId ?? p.id));\r\n              return {\r\n                ...prod,\r\n                ...p,\r\n                id: p.productId ?? p.id,\r\n              };\r\n            })\r\n          : [];\r\n        setProjectProducts(mergedProducts);\r\n      } catch {\r\n        setProject({ id: projectId, name: `Proje ${projectId}` });\r\n        setProjectProducts([]);\r\n      }\r\n    }\r\n    fetchProjectAndProducts();\r\n  }, [projectId]);\r\n\r\n  // √úr√ºnleri API'den √ßek\r\n  useEffect(() => {\r\n    async function fetchProducts() {\r\n      setIsLoadingProducts(true);\r\n      try {\r\n        const res = await fetch('/api/products');\r\n        const data = await res.json();\r\n        setAllProducts(data);\r\n      } catch (err) {\r\n        setAllProducts([]);\r\n      } finally {\r\n        setIsLoadingProducts(false);\r\n      }\r\n    }\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  // √úr√ºn ekle\r\n  function addProductToProject() {\r\n    if (!addProductId) return;\r\n    const prod = allProducts.find((p) => p.id === addProductId);\r\n    if (!prod) return;\r\n    setProjectProducts((prev) => [\r\n      ...prev,\r\n      {\r\n        ...prod,\r\n        quantity: addQuantity,\r\n        discount: 0,\r\n        margin: 0,\r\n      },\r\n    ]);\r\n    setAddProductId(0);\r\n    setAddQuantity(1);\r\n    setProductSearch('');\r\n  }\r\n\r\n  // Inline edit handlers (her h√ºcre i√ßin)\r\n  function startEditCell(row: number, field: string, value: number) {\r\n    setEditingCell({ row, field });\r\n    setEditCellValue(value);\r\n  }\r\n  function saveEditCell(row: number, field: string) {\r\n    setProjectProducts(prev => prev.map((item, i) => i === row ? {\r\n      ...item,\r\n      [field]: Number(editCellValue)\r\n    } : item));\r\n    setEditingCell(null);\r\n    setEditCellValue('');\r\n  }\r\n\r\n  // Hesaplamalar\r\n  const totalCost = projectProducts.reduce(\r\n    (sum, p) => sum + (p.price * p.quantity * (1 - p.discount / 100)),\r\n    0\r\n  );\r\n  const totalSales = projectProducts.reduce(\r\n    (sum, p) =>\r\n      sum + (p.price * p.quantity * (1 - p.discount / 100) * (1 + p.margin / 100)),\r\n    0\r\n  );\r\n  const totalProfit = totalSales - totalCost;\r\n\r\n  // Proje √ºr√ºn√ºnden silme fonksiyonu\r\n  function handleDeleteProjectProduct(index: number) {\r\n    setProjectProducts(prev => prev.filter((_, i) => i !== index));\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-yellow-50 via-orange-50 to-white py-10 px-2 md:px-8\">\r\n      <Header />\r\n      <div className=\"max-w-4xl mx-auto flex flex-col gap-8\">\r\n        <div className=\"bg-white/95 rounded-3xl shadow-premium p-8 border border-white/20\">\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"text-2xl font-black text-gray-900 bg-white border-b-2 border-yellow-300 focus:border-orange-500 outline-none px-2 py-1 rounded transition-all min-w-[180px]\"\r\n              value={editProjectName}\r\n              onChange={e => setEditProjectName(e.target.value)}\r\n              placeholder=\"Proje Adƒ±\"\r\n              style={{maxWidth:'70%'}}\r\n            />\r\n            <Link href=\"/projeler\" className=\"text-sm text-orange-600 font-bold\">‚Üê Projelere D√∂n</Link>\r\n          </div>\r\n\r\n          {/* √úr√ºn ekleme */}\r\n          <div className=\"mb-6 flex flex-col md:flex-row gap-2 md:gap-4 items-end relative\">\r\n            {/* Kategori se√ßimi */}\r\n            <select\r\n              className=\"w-48 border px-3 py-2 rounded-lg text-sm text-gray-900 bg-white\"\r\n              value={categoryFilter}\r\n              onChange={e => setCategoryFilter(e.target.value)}\r\n            >\r\n              <option value=\"\">T√ºm Kategoriler</option>\r\n              {[...new Set(allProducts.map(p => p.category).filter(Boolean))].map(cat => (\r\n                <option key={cat} value={cat}>{cat}</option>\r\n              ))}\r\n            </select>\r\n            {/* √úr√ºn arama inputu */}\r\n            <input\r\n              type=\"text\"\r\n              value={productSearch}\r\n              onChange={e => setProductSearch(e.target.value)}\r\n              className=\"w-64 border px-3 py-2 rounded-lg text-sm text-gray-900\"\r\n              placeholder=\"√úr√ºn ara...\"\r\n            />\r\n            {/* Autocomplete dropdown sadece arama varsa */}\r\n            {productSearch && (\r\n              <div className=\"absolute left-0 right-0 top-full bg-white border border-gray-200 rounded-lg shadow z-20 max-h-60 overflow-y-auto\">\r\n                {allProducts\r\n                  .filter(p =>\r\n                    (!categoryFilter || p.category === categoryFilter) &&\r\n                    p.name.toLowerCase().includes(productSearch.toLowerCase())\r\n                  )\r\n                  .slice(0, 15)\r\n                  .map(p => (\r\n                    <div\r\n                      key={p.id}\r\n                      className={`px-4 py-2 cursor-pointer hover:bg-yellow-100 ${addProductId === p.id ? 'bg-yellow-50' : ''}`}\r\n                      onClick={() => {\r\n                        setAddProductId(p.id!);\r\n                        setProductSearch(p.name);\r\n                      }}\r\n                    >\r\n                      <span className=\"block text-gray-900 font-bold text-base leading-tight\">{p.name}</span>\r\n                      <span className=\"block text-xs text-gray-500 font-mono\">{p.code}</span>\r\n                    </div>\r\n                  ))}\r\n                {/* Hi√ß √ºr√ºn yoksa */}\r\n                {allProducts.filter(p => (!categoryFilter || p.category === categoryFilter) && p.name.toLowerCase().includes(productSearch.toLowerCase())).length === 0 && (\r\n                  <div className=\"px-4 py-2 text-gray-400\">√úr√ºn bulunamadƒ±</div>\r\n                )}\r\n              </div>\r\n            )}\r\n            {/* Adet inputu */}\r\n            <input\r\n              type=\"number\"\r\n              min={1}\r\n              value={addQuantity}\r\n              onChange={e => setAddQuantity(Number(e.target.value))}\r\n              className=\"w-20 border px-3 py-2 rounded-lg text-sm text-gray-900\"\r\n              placeholder=\"Adet\"\r\n            />\r\n            <button\r\n              onClick={addProductToProject}\r\n              className=\"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white px-4 py-2 rounded-lg font-bold text-sm\"\r\n              disabled={!addProductId || addQuantity < 1}\r\n            >\r\n              Ekle\r\n            </button>\r\n          </div>\r\n\r\n          {/* √úr√ºn listesi */}\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full text-sm border rounded-xl overflow-hidden\">\r\n              <thead>\r\n                <tr className=\"bg-yellow-100 text-gray-800\">\r\n                  <th className=\"px-4 py-2\">√úr√ºn</th>\r\n                  <th className=\"px-4 py-2\">Kod</th>\r\n                  <th className=\"px-4 py-2\">Adet</th>\r\n                  <th className=\"px-4 py-2\">Liste Fiyatƒ±</th>\r\n                  <th className=\"px-4 py-2\">ƒ∞skonto (%)</th>\r\n                  <th className=\"px-4 py-2\">Kar Marjƒ± (%)</th>\r\n                  <th className=\"px-4 py-2\">Satƒ±≈ü Fiyatƒ±</th>\r\n                  <th className=\"px-4 py-2\">Toplam</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {projectProducts.map((p, i) => (\r\n                  <tr key={i} className=\"border-b\">\r\n                    <td className=\"px-4 py-2 font-bold text-gray-900\">{p.name}</td>\r\n                    <td className=\"px-4 py-2 text-gray-700\">{p.code}</td>\r\n                    {/* Adet */}\r\n                    <td className=\"px-4 py-2 text-center\">\r\n                      {editingCell?.row === i && editingCell.field === 'quantity' ? (\r\n                        <input\r\n                          type=\"number\"\r\n                          min={1}\r\n                          value={editCellValue}\r\n                          onChange={e => setEditCellValue(e.target.value)}\r\n                          onBlur={() => saveEditCell(i, 'quantity')}\r\n                          onKeyDown={e => { if (e.key === 'Enter') saveEditCell(i, 'quantity'); }}\r\n                          className=\"w-16 border px-2 py-1 rounded text-gray-900 font-bold text-center\"\r\n                          autoFocus\r\n                        />\r\n                      ) : (\r\n                        <span className=\"font-bold text-gray-900 cursor-pointer\" onClick={() => startEditCell(i, 'quantity', p.quantity)}>{p.quantity}</span>\r\n                      )}\r\n                    </td>\r\n                    {/* Fiyat */}\r\n                    <td className=\"px-4 py-2 text-right\">\r\n                      {editingCell?.row === i && editingCell.field === 'price' ? (\r\n                        <input\r\n                          type=\"number\"\r\n                          min={0}\r\n                          value={editCellValue}\r\n                          onChange={e => setEditCellValue(e.target.value)}\r\n                          onBlur={() => saveEditCell(i, 'price')}\r\n                          onKeyDown={e => { if (e.key === 'Enter') saveEditCell(i, 'price'); }}\r\n                          className=\"w-24 border px-2 py-1 rounded text-green-800 font-bold text-right\"\r\n                          autoFocus\r\n                        />\r\n                      ) : (\r\n                        <span className=\"font-bold text-green-800 cursor-pointer\" onClick={() => startEditCell(i, 'price', p.price)}>\r\n                          ‚Ç¨{p.price?.toLocaleString(\"tr-TR\", { minimumFractionDigits: 2 })}\r\n                        </span>\r\n                      )}\r\n                    </td>\r\n                    {/* ƒ∞skonto */}\r\n                    <td className=\"px-4 py-2 text-center\">\r\n                      {editingCell?.row === i && editingCell.field === 'discount' ? (\r\n                        <input\r\n                          type=\"number\"\r\n                          min={0}\r\n                          max={100}\r\n                          value={editCellValue}\r\n                          onChange={e => setEditCellValue(e.target.value)}\r\n                          onBlur={() => saveEditCell(i, 'discount')}\r\n                          onKeyDown={e => { if (e.key === 'Enter') saveEditCell(i, 'discount'); }}\r\n                          className=\"w-14 border px-2 py-1 rounded text-blue-800 font-bold text-center\"\r\n                          autoFocus\r\n                        />\r\n                      ) : (\r\n                        <span className=\"font-bold text-blue-800 cursor-pointer\" onClick={() => startEditCell(i, 'discount', p.discount ?? 0)}>{p.discount ?? 0}</span>\r\n                      )}\r\n                    </td>\r\n                    {/* Kar Marjƒ± */}\r\n                    <td className=\"px-4 py-2 text-center\">\r\n                      {editingCell?.row === i && editingCell.field === 'margin' ? (\r\n                        <input\r\n                          type=\"number\"\r\n                          min={0}\r\n                          max={100}\r\n                          value={editCellValue}\r\n                          onChange={e => setEditCellValue(e.target.value)}\r\n                          onBlur={() => saveEditCell(i, 'margin')}\r\n                          onKeyDown={e => { if (e.key === 'Enter') saveEditCell(i, 'margin'); }}\r\n                          className=\"w-14 border px-2 py-1 rounded text-orange-800 font-bold text-center\"\r\n                          autoFocus\r\n                        />\r\n                      ) : (\r\n                        <span className=\"font-bold text-orange-800 cursor-pointer\" onClick={() => startEditCell(i, 'margin', p.margin ?? 0)}>{p.margin ?? 0}</span>\r\n                      )}\r\n                    </td>\r\n                    {/* Satƒ±≈ü Fiyatƒ± */}\r\n                    <td className=\"px-4 py-2 text-right font-bold text-green-700\">\r\n                      ‚Ç¨{(p.price * (1 - (p.discount ?? 0) / 100) * (1 + (p.margin ?? 0) / 100)).toLocaleString(\"tr-TR\", { minimumFractionDigits: 2 })}\r\n                    </td>\r\n                    {/* Toplam */}\r\n                    <td className=\"px-4 py-2 text-right font-bold text-blue-700\">\r\n                      ‚Ç¨{(p.price * p.quantity * (1 - (p.discount ?? 0) / 100) * (1 + (p.margin ?? 0) / 100)).toLocaleString(\"tr-TR\", { minimumFractionDigits: 2 })}\r\n                    </td>\r\n                    {/* Sil butonu */}\r\n                    <td className=\"px-2 py-2 text-center\">\r\n                      <button\r\n                        onClick={() => handleDeleteProjectProduct(i)}\r\n                        className=\"bg-red-50 hover:bg-red-100 text-red-700 font-bold py-1 px-2 rounded text-xs border border-red-200 transition-all\"\r\n                        title=\"√úr√ºn√º projeden √ßƒ±kar\"\r\n                      >Sil</button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n                {projectProducts.length === 0 && (\r\n                  <tr>\r\n                    <td colSpan={8} className=\"text-center text-gray-400 py-8\">Hen√ºz √ºr√ºn eklenmedi.</td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n\r\n          {/* Ara Toplam, KDV ve Genel Toplam */}\r\n          <div className=\"flex flex-col items-end gap-1 mt-6 text-base font-bold\">\r\n            {/* Ara Toplam (satƒ±≈ü fiyatƒ± √ºzerinden) */}\r\n            <div className=\"text-blue-700\">\r\n              Ara Toplam: ‚Ç¨{\r\n                projectProducts.reduce((sum, p) => sum + (p.price * (1 - (p.discount ?? 0) / 100) * (1 + (p.margin ?? 0) / 100) * p.quantity), 0)\r\n                .toLocaleString(\"tr-TR\", { minimumFractionDigits: 2 })\r\n              }\r\n            </div>\r\n            {/* KDV */}\r\n            <div className=\"text-orange-700\">\r\n              KDV (%20): ‚Ç¨{\r\n                (projectProducts.reduce((sum, p) => sum + (p.price * (1 - (p.discount ?? 0) / 100) * (1 + (p.margin ?? 0) / 100) * p.quantity), 0) * 0.2)\r\n                .toLocaleString(\"tr-TR\", { minimumFractionDigits: 2 })\r\n              }\r\n            </div>\r\n            {/* Genel Toplam */}\r\n            <div className=\"text-green-700\">\r\n              Genel Toplam: ‚Ç¨{\r\n                (projectProducts.reduce((sum, p) => sum + (p.price * (1 - (p.discount ?? 0) / 100) * (1 + (p.margin ?? 0) / 100) * p.quantity), 0) * 1.2)\r\n                .toLocaleString(\"tr-TR\", { minimumFractionDigits: 2 })\r\n              }\r\n            </div>\r\n          </div>\r\n\r\n          {/* Projeyi Kaydet ve Teklif olu≈ütur butonlarƒ± */}\r\n          <div className=\"flex flex-col md:flex-row justify-end gap-4 mt-8\">\r\n            <button\r\n              className=\"bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 text-white px-8 py-3 rounded-xl font-black text-lg shadow-lg disabled:opacity-60 disabled:cursor-not-allowed\"\r\n              onClick={handleSaveProject}\r\n              disabled={isSaving || projectProducts.length === 0}\r\n            >\r\n              {isSaving ? 'Kaydediliyor...' : 'Projeyi Kaydet'}\r\n            </button>\r\n            <button\r\n              className=\"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white px-8 py-3 rounded-xl font-black text-lg shadow-lg\"\r\n              onClick={() => setShowCustomerModal(true)}\r\n            >\r\n              Teklif Olu≈ütur (PDF)\r\n            </button>\r\n          </div>\r\n          {/* M√º≈üteri Bilgisi Modalƒ± */}\r\n          {showCustomerModal && (\r\n            <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/30\">\r\n              <div className=\"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md\">\r\n                <h3 className=\"text-xl font-bold mb-4 text-blue-900\">M√º≈üteri Se√ßimi</h3>\r\n                <div className=\"mb-4\">\r\n                  <label className=\"block text-xs font-bold text-gray-700 mb-1\">Kayƒ±tlƒ± M√º≈üteriler</label>\r\n                  <select\r\n                    className=\"w-full border px-3 py-2 rounded-lg text-sm text-gray-900 font-semibold bg-white\"\r\n                    value={selectedCustomerId ?? ''}\r\n                    onChange={e => {\r\n                      const id = Number(e.target.value);\r\n                      setSelectedCustomerId(id);\r\n                      const cust = customerList.find(c => c.id === id);\r\n                      setCustomerName(cust?.name || '');\r\n                      setCustomerCompany(cust?.company || '');\r\n                      setCustomerEmail(cust?.email || '');\r\n                      setCustomerPhone(cust?.phone || '');\r\n                    }}\r\n                  >\r\n                    <option value=\"\" className=\"text-gray-500 font-normal\">M√º≈üteri Se√ßin</option>\r\n                    {customerList.map(c => (\r\n                      <option key={c.id} value={c.id} className=\"text-gray-900 font-semibold\">{c.name} {c.company ? `(${c.company})` : ''}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                {/* Se√ßili m√º≈üteri bilgileri ve teklif detaylarƒ± */}\r\n                {selectedCustomerId && (\r\n                  <>\r\n                  <div className=\"space-y-2 mb-2 text-sm bg-white rounded-lg p-3 border border-gray-200 shadow-sm\">\r\n                    <div className=\"text-gray-900\"><b>Ad Soyad:</b> {customerName}</div>\r\n                    {customerCompany && <div className=\"text-gray-900\"><b>Firma:</b> {customerCompany}</div>}\r\n                    {customerEmail && <div className=\"text-gray-900\"><b>E-posta:</b> {customerEmail}</div>}\r\n                    {customerPhone && <div className=\"text-gray-900\"><b>Telefon:</b> {customerPhone}</div>}\r\n                  </div>\r\n                  <div className=\"flex gap-2 mb-2\">\r\n                    <div className=\"flex-1\">\r\n                      <label className=\"block text-xs font-bold text-gray-700 mb-1\">Teklif Ge√ßerlilik S√ºresi (g√ºn)</label>\r\n                      <input type=\"text\" className=\"w-full border px-3 py-2 rounded-lg text-sm text-gray-900\" value={validityPeriod} onChange={e=>setValidityPeriod(e.target.value)} placeholder=\"√ñrn: 15\" />\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                      <label className=\"block text-xs font-bold text-gray-700 mb-1\">Teslim S√ºresi</label>\r\n                      <input type=\"text\" className=\"w-full border px-3 py-2 rounded-lg text-sm text-gray-900\" value={deliveryTime} onChange={e=>setDeliveryTime(e.target.value)} placeholder=\"√ñrn: 2 hafta\" />\r\n                    </div>\r\n                  </div>\r\n                  </>\r\n                )}\r\n                <div className=\"flex justify-end gap-2 mt-6\">\r\n                  <button className=\"px-4 py-2 rounded-lg bg-gray-200 text-gray-700 font-bold\" onClick={()=>setShowCustomerModal(false)}>Vazge√ß</button>\r\n                  <button\r\n                    className=\"px-4 py-2 rounded-lg bg-blue-600 text-white font-bold disabled:opacity-60\"\r\n                    disabled={!selectedCustomerId}\r\n                    onClick={async()=>{\r\n                      setShowCustomerModal(false);\r\n                      const cust = customerList.find(c => c.id === selectedCustomerId);\r\n                      await generateQuotePDF({\r\n                        quoteId: projectId,\r\n                        customerInfo: {\r\n                          name: cust?.name || '',\r\n                          company: cust?.company || '',\r\n                          email: cust?.email || '',\r\n                          phone: cust?.phone || '',\r\n                        },\r\n                        projectDetails: {\r\n                          projectDesign: project?.name || `Proje ${projectId}`,\r\n                          projectDescription: '',\r\n                        },\r\n                        schedule: {\r\n                          startDate: '',\r\n                          endDate: '',\r\n                        },\r\n                        conditions: {\r\n                          validityPeriod: validityPeriod,\r\n                          deliveryTime: deliveryTime,\r\n                        },\r\n                        items: projectProducts.map(p => {\r\n                          const salesUnit = p.price * (1 - (p.discount ?? 0) / 100) * (1 + (p.margin ?? 0) / 100);\r\n                          return {\r\n                            product: {\r\n                              name: p.name,\r\n                              brand: p.brand,\r\n                              model: p.model,\r\n                              code: p.code,\r\n                            },\r\n                            quantity: p.quantity,\r\n                            unitPrice: salesUnit,\r\n                            total: salesUnit * p.quantity,\r\n                          };\r\n                        }),\r\n                        subtotal: projectProducts.reduce((sum, p) => sum + (p.price * (1 - (p.discount ?? 0) / 100) * (1 + (p.margin ?? 0) / 100) * p.quantity), 0),\r\n                        kdv: 0,\r\n                        total: projectProducts.reduce((sum, p) => sum + (p.price * (1 - (p.discount ?? 0) / 100) * (1 + (p.margin ?? 0) / 100) * p.quantity), 0),\r\n                        createdAt: new Date().toISOString(),\r\n                      });\r\n                    }}\r\n                  >PDF Olu≈ütur</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}