{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/sahanhasret/Desktop/EkimSogutma/teklif-formu/src/components/Header.tsx"],"sourcesContent":["import Image from 'next/image';\r\nimport Link from 'next/link';\r\n\r\nexport default function Header() {\r\n  return (\r\n    <header className=\"bg-white/95 backdrop-blur-lg shadow-premium border-b border-gray-200/50 sticky top-0 z-50\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"flex justify-between items-center py-4\">\r\n          <Link href=\"/\" className=\"flex items-center space-x-4 group\">\r\n            <div className=\"relative\">\r\n              <Image\r\n                src=\"/image/49125941466.jpg\"\r\n                alt=\"Ekim Soƒüutma Logo\"\r\n                width={220}\r\n                height={220}\r\n                className=\"rounded-xl shadow-lg border-2 border-blue-100 hover:border-blue-300 transition-all duration-300 group-hover:scale-105\"\r\n              />\r\n            </div>\r\n          </Link>\r\n          \r\n          <nav className=\"hidden md:flex items-center space-x-8\">\r\n            {/* Enhanced Navigation Links */}\r\n            <Link \r\n              href=\"/products\" \r\n              className=\"group relative px-3 py-2 rounded-xl transition-all duration-300 hover:bg-gradient-to-r hover:from-green-50 hover:to-emerald-50 hover:shadow-lg\"\r\n            >\r\n              <div className=\"flex items-center space-x-2\">\r\n                <span className=\"text-xl group-hover:scale-110 transition-transform duration-300\">üì¶</span>\r\n                <span className=\"font-bold text-sm text-gray-800 group-hover:text-green-600 transition-colors duration-300\">√úr√ºnler</span>\r\n              </div>\r\n              <div className=\"absolute bottom-0 left-1/2 w-0 h-0.5 bg-gradient-to-r from-green-500 to-emerald-600 transition-all duration-300 group-hover:w-full group-hover:left-0\"></div>\r\n            </Link>\r\n            \r\n            <Link \r\n              href=\"/customers\" \r\n              className=\"group relative px-3 py-2 rounded-xl transition-all duration-300 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 hover:shadow-lg\"\r\n            >\r\n              <div className=\"flex items-center space-x-2\">\r\n                <span className=\"text-xl group-hover:scale-110 transition-transform duration-300\">üë•</span>\r\n                <span className=\"font-bold text-sm text-gray-800 group-hover:text-blue-600 transition-colors duration-300\">M√º≈üteriler</span>\r\n              </div>\r\n              <div className=\"absolute bottom-0 left-1/2 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-indigo-600 transition-all duration-300 group-hover:w-full group-hover:left-0\"></div>\r\n            </Link>\r\n            \r\n            <Link \r\n              href=\"/quotes\" \r\n              className=\"group relative px-3 py-2 rounded-xl transition-all duration-300 hover:bg-gradient-to-r hover:from-purple-50 hover:to-pink-50 hover:shadow-lg\"\r\n            >\r\n              <div className=\"flex items-center space-x-2\">\r\n                <span className=\"text-xl group-hover:scale-110 transition-transform duration-300\">üìã</span>\r\n                <span className=\"font-bold text-sm text-gray-800 group-hover:text-purple-600 transition-colors duration-300\">Teklifler</span>\r\n              </div>\r\n              <div className=\"absolute bottom-0 left-1/2 w-0 h-0.5 bg-gradient-to-r from-purple-500 to-pink-600 transition-all duration-300 group-hover:w-full group-hover:left-0\"></div>\r\n            </Link>\r\n\r\n            <Link \r\n              href=\"/tedarikciler\" \r\n              className=\"group relative px-3 py-2 rounded-xl transition-all duration-300 hover:bg-gradient-to-r hover:from-orange-50 hover:to-red-50 hover:shadow-lg\"\r\n            >\r\n              <div className=\"flex items-center space-x-2\">\r\n                <span className=\"text-xl group-hover:scale-110 transition-transform duration-300\">üè≠</span>\r\n                <span className=\"font-bold text-sm text-gray-800 group-hover:text-orange-600 transition-colors duration-300\">Tedarik√ßiler</span>\r\n              </div>\r\n              <div className=\"absolute bottom-0 left-1/2 w-0 h-0.5 bg-gradient-to-r from-orange-500 to-red-600 transition-all duration-300 group-hover:w-full group-hover:left-0\"></div>\r\n            </Link>\r\n\r\n            <Link \r\n              href=\"/projeler\" \r\n              className=\"group relative px-3 py-2 rounded-xl transition-all duration-300 hover:bg-gradient-to-r hover:from-yellow-50 hover:to-orange-50 hover:shadow-lg\"\r\n            >\r\n              <div className=\"flex items-center space-x-2\">\r\n                <span className=\"text-xl group-hover:scale-110 transition-transform duration-300\">üèóÔ∏è</span>\r\n                <span className=\"font-bold text-sm text-gray-800 group-hover:text-yellow-600 transition-colors duration-300\">Tanƒ±mlƒ± Projeler</span>\r\n              </div>\r\n              <div className=\"absolute bottom-0 left-1/2 w-0 h-0.5 bg-gradient-to-r from-yellow-500 to-orange-500 transition-all duration-300 group-hover:w-full group-hover:left-0\"></div>\r\n            </Link>\r\n          </nav>\r\n\r\n          {/* Enhanced Mobile menu button */}\r\n          <div className=\"md:hidden\">\r\n            <button className=\"group relative p-3 rounded-xl bg-gradient-to-r from-gray-100 to-gray-200 hover:from-blue-100 hover:to-indigo-100 transition-all duration-300 shadow-lg hover:shadow-xl\">\r\n              <svg className=\"h-6 w-6 text-gray-700 group-hover:text-blue-600 transition-colors duration-300\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\r\n              </svg>\r\n              <div className=\"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-500 rounded-xl opacity-0 group-hover:opacity-20 transition-opacity duration-300\"></div>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEe,SAAS;IACtB,qBACE,gNAAC;QAAO,WAAU;kBAChB,cAAA,gNAAC;YAAI,WAAU;sBACb,cAAA,gNAAC;gBAAI,WAAU;;kCACb,gNAAC,6LAAI;wBAAC,MAAK;wBAAI,WAAU;kCACvB,cAAA,gNAAC;4BAAI,WAAU;sCACb,cAAA,gNAAC,8JAAK;gCACJ,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,QAAQ;gCACR,WAAU;;;;;;;;;;;;;;;;kCAKhB,gNAAC;wBAAI,WAAU;;0CAEb,gNAAC,6LAAI;gCACH,MAAK;gCACL,WAAU;;kDAEV,gNAAC;wCAAI,WAAU;;0DACb,gNAAC;gDAAK,WAAU;0DAAkE;;;;;;0DAClF,gNAAC;gDAAK,WAAU;0DAA4F;;;;;;;;;;;;kDAE9G,gNAAC;wCAAI,WAAU;;;;;;;;;;;;0CAGjB,gNAAC,6LAAI;gCACH,MAAK;gCACL,WAAU;;kDAEV,gNAAC;wCAAI,WAAU;;0DACb,gNAAC;gDAAK,WAAU;0DAAkE;;;;;;0DAClF,gNAAC;gDAAK,WAAU;0DAA2F;;;;;;;;;;;;kDAE7G,gNAAC;wCAAI,WAAU;;;;;;;;;;;;0CAGjB,gNAAC,6LAAI;gCACH,MAAK;gCACL,WAAU;;kDAEV,gNAAC;wCAAI,WAAU;;0DACb,gNAAC;gDAAK,WAAU;0DAAkE;;;;;;0DAClF,gNAAC;gDAAK,WAAU;0DAA6F;;;;;;;;;;;;kDAE/G,gNAAC;wCAAI,WAAU;;;;;;;;;;;;0CAGjB,gNAAC,6LAAI;gCACH,MAAK;gCACL,WAAU;;kDAEV,gNAAC;wCAAI,WAAU;;0DACb,gNAAC;gDAAK,WAAU;0DAAkE;;;;;;0DAClF,gNAAC;gDAAK,WAAU;0DAA6F;;;;;;;;;;;;kDAE/G,gNAAC;wCAAI,WAAU;;;;;;;;;;;;0CAGjB,gNAAC,6LAAI;gCACH,MAAK;gCACL,WAAU;;kDAEV,gNAAC;wCAAI,WAAU;;0DACb,gNAAC;gDAAK,WAAU;0DAAkE;;;;;;0DAClF,gNAAC;gDAAK,WAAU;0DAA6F;;;;;;;;;;;;kDAE/G,gNAAC;wCAAI,WAAU;;;;;;;;;;;;;;;;;;kCAKnB,gNAAC;wBAAI,WAAU;kCACb,cAAA,gNAAC;4BAAO,WAAU;;8CAChB,gNAAC;oCAAI,WAAU;oCAAiF,MAAK;oCAAO,SAAQ;oCAAY,QAAO;8CACrI,cAAA,gNAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAa;wCAAG,GAAE;;;;;;;;;;;8CAEvE,gNAAC;oCAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO7B;KAxFwB","debugId":null}},
    {"offset": {"line": 337, "column": 0}, "map": {"version":3,"sources":["file:///Users/sahanhasret/Desktop/EkimSogutma/teklif-formu/src/components/Footer.tsx"],"sourcesContent":["import Image from 'next/image';\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer className=\"bg-white border-t border-gray-200 mt-12\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        <div className=\"text-center\">\r\n          <div className=\"flex justify-center items-center space-x-2 mb-4\">\r\n            <Image\r\n              src=\"/image/49125941466.jpg\"\r\n              alt=\"Ekim Soƒüutma\"\r\n              width={32}\r\n              height={32}\r\n              className=\"rounded-lg\"\r\n            />\r\n            <span className=\"font-black text-gray-900\">Ekim Soƒüutma</span>\r\n          </div>\r\n          <p className=\"font-bold text-gray-800\">Profesyonel soƒüutma sistemleri ve √ß√∂z√ºmleri</p>\r\n          <p className=\"text-sm font-semibold text-gray-700 mt-2\">¬© 2024 Ekim Soƒüutma. T√ºm haklarƒ± saklƒ±dƒ±r.</p>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAAA;;;AAEe,SAAS;IACtB,qBACE,gNAAC;QAAO,WAAU;kBAChB,cAAA,gNAAC;YAAI,WAAU;sBACb,cAAA,gNAAC;gBAAI,WAAU;;kCACb,gNAAC;wBAAI,WAAU;;0CACb,gNAAC,8JAAK;gCACJ,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,QAAQ;gCACR,WAAU;;;;;;0CAEZ,gNAAC;gCAAK,WAAU;0CAA2B;;;;;;;;;;;;kCAE7C,gNAAC;wBAAE,WAAU;kCAA0B;;;;;;kCACvC,gNAAC;wBAAE,WAAU;kCAA2C;;;;;;;;;;;;;;;;;;;;;;AAKlE;KArBwB","debugId":null}},
    {"offset": {"line": 424, "column": 0}, "map": {"version":3,"sources":["file:///Users/sahanhasret/Desktop/EkimSogutma/teklif-formu/src/lib/pdfGenerator.ts"],"sourcesContent":["import jsPDF from 'jspdf';\r\nimport html2canvas from 'html2canvas';\r\n\r\n// Helper function to load image as base64\r\nconst loadImageAsBase64 = async (imagePath: string): Promise<string> => {\r\n  try {\r\n    // Tam URL olu≈ütur\r\n    const fullPath = window.location.origin + imagePath;\r\n    console.log('Logo y√ºkleniyor:', fullPath);\r\n    \r\n    const response = await fetch(fullPath);\r\n    if (!response.ok) {\r\n      console.warn('Logo y√ºklenemedi, HTTP status:', response.status);\r\n      return '';\r\n    }\r\n    \r\n    const blob = await response.blob();\r\n    \r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      reader.onload = () => {\r\n        console.log('Logo ba≈üarƒ±yla y√ºklendi');\r\n        resolve(reader.result as string);\r\n      };\r\n      reader.onerror = (err) => {\r\n        console.error('FileReader hatasƒ±:', err);\r\n        resolve(''); // Hata durumunda bo≈ü string d√∂nd√ºr\r\n      };\r\n      reader.readAsDataURL(blob);\r\n    });\r\n  } catch (error) {\r\n    console.error('Logo y√ºklenirken hata:', error);\r\n    return ''; // Return empty string if logo fails to load\r\n  }\r\n};\r\n\r\nexport interface QuotePDFData {\r\n  quoteId: number;\r\n  customerInfo: {\r\n    name: string;\r\n    company?: string;\r\n    email?: string;\r\n    phone?: string;\r\n    address?: string;\r\n  };\r\n  projectDetails: {\r\n    projectDesign: string;\r\n    projectDescription: string;\r\n  };\r\n  schedule: {\r\n    startDate: string;\r\n    endDate: string;\r\n  };\r\n  conditions: {\r\n    validityPeriod: string;\r\n    deliveryTime: string;\r\n  };\r\n  items: Array<{\r\n    product: {\r\n      name: string;\r\n      customName?: string;\r\n      brand?: string;\r\n      model?: string;\r\n      code?: string;\r\n      description?: string; // Yeni eklenen alan\r\n    };\r\n    quantity: number;\r\n    unitPrice: number;\r\n    total: number;\r\n  }>;\r\n  subtotal: number;\r\n  kdv: number;\r\n  total: number;\r\n  createdAt: string;\r\n}\r\n\r\nexport const generateQuotePDF = async (data: QuotePDFData): Promise<void> => {\r\n  try {\r\n    console.log('PDF olu≈üturma ba≈üladƒ±...');\r\n    \r\n    // Load logo as base64\r\n    console.log('Logo y√ºkleniyor...');\r\n    const logoBase64 = await loadImageAsBase64('/image/49125941466.jpg');\r\n    console.log('Logo y√ºkleme tamamlandƒ±:', logoBase64 ? 'Ba≈üarƒ±lƒ±' : 'Logo yok');\r\n    \r\n    // Create a temporary container for the PDF content\r\n    const tempDiv = document.createElement('div');\r\n  tempDiv.style.position = 'absolute';\r\n  tempDiv.style.left = '-9999px';\r\n  tempDiv.style.top = '0';\r\n  tempDiv.style.width = '794px'; // A4 width in pixels at 96 DPI\r\n  tempDiv.style.backgroundColor = 'white';\r\n  tempDiv.style.fontFamily = 'Arial, sans-serif';\r\n  tempDiv.style.maxHeight = '1050px'; // Tek sayfa i√ßin y√ºkseklik sƒ±nƒ±rƒ± (A4: 1122px, biraz bo≈üluk bƒ±rak)\r\n  tempDiv.style.overflow = 'hidden';\r\n  \r\n  // Create the HTML content for the PDF\r\n  tempDiv.innerHTML = `\r\n  <div style=\"padding: 0; font-family: 'Segoe UI', Arial, sans-serif; color: #2c3e50; line-height: 1.2; font-size: 7px; min-height: 1122px; position: relative;\">\r\n      <!-- Modern Header with Logo -->\r\n  <div style=\"background: #f8fafc; border-bottom: 2.5px solid #1e40af; padding: 0 0 8px 0; margin-bottom: 6px;\">\r\n    <div style=\"display: flex; justify-content: space-between; align-items: flex-end;\">\r\n      <div style=\"padding: 12px 18px 0 18px;\">\r\n        <div style=\"display: flex; align-items: center; gap: 10px;\">\r\n          ${logoBase64 ? `\r\n            <div style=\"text-align: center;\">\r\n              <img src=\"${logoBase64}\" style=\"width: 38px; height: 38px; border-radius: 6px; object-fit: cover; border: 1.5px solid #1e40af; background: white; display: block;\" alt=\"Ekim Soƒüutma Logo\" />\r\n              <div style=\"font-size: 5px; color: #64748b; font-weight: 600; margin-top: 2px; letter-spacing: 0.3px;\">MET GRUP MARKASIDIR</div>\r\n            </div>\r\n          ` : ''}\r\n          <div>\r\n            <h1 style=\"font-size: 13px; margin: 0; font-weight: 800; color: #1e40af; letter-spacing: 0.5px;\">EKƒ∞M SOƒûUTMA</h1>\r\n            <div style=\"font-size: 7px; color: #64748b; font-weight: 500; margin-top: 1px;\">Profesyonel Soƒüutma ve Klima Sistemleri</div>\r\n          </div>\r\n        </div>\r\n        <div style=\"font-size: 6.5px; color: #334155; margin-top: 4px;\">\r\n          <span>üìû +90 (532) 123 45 67</span> &nbsp;|&nbsp; <span>‚úâÔ∏è info@ekimsogutma.com</span> &nbsp;|&nbsp; <span>üåê www.ekimsogutma.com</span>\r\n        </div>\r\n      </div>\r\n      <div style=\"padding: 10px 18px 0 0; text-align: right; min-width: 180px;\">\r\n        <div style=\"font-size: 7.5px; color: #1e40af; font-weight: 700; letter-spacing: 0.2px; margin-bottom: 2px;\">M√ú≈ûTERƒ∞ Bƒ∞LGƒ∞LERƒ∞</div>\r\n        <div style=\"background: white; padding: 6px 8px; border-radius: 6px; box-shadow: 0 1px 4px rgba(30,64,175,0.06);\">\r\n          <div style=\"font-size: 7.5px; font-weight: 700; color: #0f172a; margin-bottom: 1px;\">${data.customerInfo.name}</div>\r\n          ${data.customerInfo.company ? `<div style=\\\"font-size: 6.5px; color: #64748b;\\\">${data.customerInfo.company}</div>` : ''}\r\n          ${data.customerInfo.email ? `<div style=\\\"font-size: 6.5px;\\\">üìß ${data.customerInfo.email}</div>` : ''}\r\n          ${data.customerInfo.phone ? `<div style=\\\"font-size: 6.5px;\\\">üì± ${data.customerInfo.phone}</div>` : ''}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div style=\"display: flex; justify-content: space-between; align-items: flex-end; padding: 0 18px 0 18px; margin-top: 2px;\">\r\n      <div style=\"font-size: 8px; color: #1e40af; font-weight: 700;\">ÔøΩ TEKLƒ∞F</div>\r\n      <div style=\"font-size: 7px; color: #0f172a; font-weight: 500; text-align: right;\">\r\n        <span style=\"margin-right: 10px;\"><strong>Teklif No:</strong> <span style=\"color: #1e40af; font-weight: 700;\">#${data.quoteId}</span></span>\r\n        <span style=\"margin-right: 10px;\"><strong>Tarih:</strong> ${new Date(data.createdAt).toLocaleDateString('tr-TR', { year: 'numeric', month: 'long', day: 'numeric' })}</span>\r\n        <span><strong>Ge√ßerlilik:</strong> <span style=\"color: #dc2626; font-weight: 600;\">${data.conditions.validityPeriod} g√ºn</span></span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n      <!-- Quote Info Section -->\r\n\r\n      <!-- Project Details -->\r\n  <div style=\"background: #f1f5f9; padding: 6px 18px 6px 18px; border-radius: 6px; margin-bottom: 7px; border-left: 3px solid #1e40af; font-size: 7px;\">\r\n    <div style=\"font-size: 8px; color: #0c4a6e; font-weight: 700; margin-bottom: 2px;\">üèóÔ∏è PROJE DETAYLARI</div>\r\n    <div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 7px; font-size: 7px;\">\r\n      <div><strong>Konu:</strong> ${data.projectDetails.projectDesign || '-'}</div>\r\n      <div><strong>Teslimat:</strong> ${data.conditions.deliveryTime || '-'}</div>\r\n      <div><strong>Ba≈ülangƒ±√ß:</strong> ${data.schedule.startDate ? new Date(data.schedule.startDate).toLocaleDateString('tr-TR') : '-'}</div>\r\n      <div><strong>Biti≈ü:</strong> ${data.schedule.endDate ? new Date(data.schedule.endDate).toLocaleDateString('tr-TR') : '-'}</div>\r\n    </div>\r\n    ${data.projectDetails.projectDescription ? `<div style=\"margin-top: 5px; padding-top: 5px; border-top: 1px solid #bae6fd; font-size: 7px;\"><strong>A√ßƒ±klama:</strong><br>${data.projectDetails.projectDescription}</div>` : ''}\r\n  </div>\r\n\r\n      <!-- Items Table -->\r\n  <div style=\"margin-bottom: 4px;\">\r\n    <h3 style=\"color: #1e40af; font-size: 10px; margin: 0 0 6px 0; font-weight: 700;\">üì¶ TEKLƒ∞F KALEMLERƒ∞</h3>\r\n  <table style=\"width: 100%; border-collapse: collapse; border-radius: 1px; overflow: hidden; box-shadow: 0 1px 1px rgba(0,0,0,0.02); table-layout: fixed; font-size: 9.5px;\">\r\n      <thead>\r\n        <tr style=\"background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%); color: white;\">\r\n          <th style=\"padding: 4px 3px; text-align: left; font-size: 10px; font-weight: 700; width: 40%;\">√úR√úN</th>\r\n          <th style=\"padding: 4px 2px; text-align: center; font-size: 10px; font-weight: 700; width: 10%;\">ADET</th>\r\n          <th style=\"padding: 4px 2px; text-align: right; font-size: 10px; font-weight: 700; width: 18%;\">SATI≈û Fƒ∞YATI</th>\r\n          <th style=\"padding: 4px 2px; text-align: right; font-size: 10px; font-weight: 700; width: 18%;\">TOPLAM Fƒ∞YAT</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        ${data.items.map((item, index) => `\r\n          <tr style=\"background: ${index % 2 === 0 ? '#f8fafc' : 'white'}; border-bottom: 1px solid #e5e7eb;\">\r\n            <td style=\"padding: 4px 3px; font-size: 10px; word-wrap: break-word; vertical-align: top;\">\r\n              <div style=\"font-weight: 700; color: #1f2937; line-height: 1.08;\">${item.product.customName || item.product.name}</div>\r\n              ${item.product.name.includes('Tavan') || item.product.name.includes('Zemin') || item.product.name.includes('Duvar') ? \r\n                `<div style=\"font-size: 7px; color: #6b7280; margin-top: 1px;\">${item.product.description || 'Metrekare hesaplamasƒ±'}</div>` : \r\n                `${item.product.brand || item.product.model ? `<div style=\\\"font-size: 7.5px; color: #6b7280; margin-top: 1px;\\\">${item.product.brand || ''} ${item.product.model || ''}</div>` : ''}`\r\n              }\r\n              ${item.product.code ? `<div style=\\\"font-size: 7px; color: #9ca3af; margin-top: 1px;\\\">Kod: ${item.product.code}</div>` : ''}\r\n            </td>\r\n            <td style=\"padding: 4px 2px; text-align: center; font-size: 10px; font-weight: 700; color: #1e40af; vertical-align: middle;\">${item.quantity}</td>\r\n            <td style=\"padding: 4px 2px; text-align: right; font-size: 10px; font-weight: 700; color: #059669; vertical-align: middle; white-space: nowrap;\">‚Ç¨${item.unitPrice.toLocaleString('tr-TR', { minimumFractionDigits: 2 })}</td>\r\n            <td style=\"padding: 4px 2px; text-align: right; font-size: 10px; font-weight: 800; color: #dc2626; vertical-align: middle; white-space: nowrap;\">‚Ç¨${item.total.toLocaleString('tr-TR', { minimumFractionDigits: 2 })}</td>\r\n          </tr>\r\n        `).join('')}\r\n      </tbody>\r\n    </table>\r\n    <div style=\"width: 100%; text-align: right; font-size: 7.5px; font-weight: 800; color: #1e293b; margin-top: 4px; margin-bottom: 0;\">\r\n      Ara Toplam: ‚Ç¨${data.items.reduce((sum, item) => sum + item.total, 0).toLocaleString('tr-TR', { minimumFractionDigits: 2 })}<br/>\r\n      KDV (%20) Dahil Toplam: <span style=\"color:#dc2626;\">‚Ç¨${(data.items.reduce((sum, item) => sum + item.total, 0) * 1.2).toLocaleString('tr-TR', { minimumFractionDigits: 2 })}</span>\r\n    </div>\r\n    <div style=\"font-size: 5px; margin-top: 1px;\">‚Ä¢ √úr√ºnlere <strong>2 yƒ±l garanti</strong></div>\r\n    <div style=\"font-size: 5px;\">‚Ä¢ Teklif sadece belirtilen √ºr√ºnler i√ßin ge√ßerli</div>\r\n    \r\n    <!-- Metrekare hesaplama detaylarƒ± -->\r\n    ${data.items.some(item => item.product.name.includes('Metrekare Hesaplama')) ? `\r\n      <div style=\"margin-top: 10px; padding: 8px; background-color: #f0f9ff; border-radius: 6px; border: 1px solid #bae6fd;\">\r\n        <div style=\"font-size: 8px; font-weight: 700; color: #0c4a6e; margin-bottom: 4px;\">üìê Metrekare Hesaplama Detaylarƒ±:</div>\r\n        <div style=\"font-size: 7px; color: #0c4a6e;\">\r\n          Bu teklif, tavan, zemin ve duvar alanlarƒ±nƒ±n ayrƒ± ayrƒ± hesaplanmasƒ±ndan olu≈ümaktadƒ±r. \r\n          Her bir alan i√ßin en, boy ve adet deƒüerleri girilerek toplam metrekare hesaplanmƒ±≈ütƒ±r.\r\n        </div>\r\n      </div>\r\n    ` : ''}\r\n  </div>\r\n\r\n      <!-- ƒ∞mza i√ßin daha geni≈ü bo≈üluk ve yazƒ±lar -->\r\n      <div style=\"height: 60px; position: relative;\">\r\n        <div style=\"position: absolute; left: 24px; bottom: 6px; font-size: 9px; font-weight: bold; color: #1e293b;\">Ekim Soƒüutma</div>\r\n        <div style=\"position: absolute; right: 24px; bottom: 6px; font-size: 9px; font-weight: bold; color: #1e293b;\">M√º≈üteri Onayƒ±</div>\r\n      </div>\r\n\r\n      <!-- Footer -->\r\n      <div style=\"position: absolute; left: 0; right: 0; bottom: 0; background: linear-gradient(135deg, #1f2937 0%, #374151 100%); color: white; padding: 12px 0 8px 0; border-radius: 10px 10px 0 0; text-align: center; font-size: 10px; width: 100%; margin: 0; z-index: 10; display: block;\">\r\n        <div style=\"font-size: 10px; opacity: 0.9; display: flex; justify-content: center; gap: 10px;\">\r\n          <span>üåê www.ekimsogutma.com</span>\r\n          <span>‚úâÔ∏è info@ekimsogutma.com</span>\r\n          <span>üìû +90 (532) 123 45 67</span>\r\n        </div>\r\n        <p style=\"margin: 4px 0 0 0; font-size: 9px; opacity: 0.7;\">¬© ${new Date().getFullYear()} Ekim Soƒüutma. T√ºm haklarƒ± saklƒ±dƒ±r.</p>\r\n      </div>\r\n    </div>\r\n  `;\r\n\r\n  // Add the temporary div to the document\r\n  document.body.appendChild(tempDiv);\r\n\r\n  try {\r\n    // Convert HTML to canvas (tek sayfa i√ßin y√ºkseklik sƒ±nƒ±rƒ±)\r\n    console.log('HTML canvas\\'a d√∂n√º≈üt√ºr√ºl√ºyor...');\r\n    const canvas = await html2canvas(tempDiv, {\r\n      useCORS: true,\r\n      allowTaint: true,\r\n      background: '#ffffff',\r\n      width: 794,\r\n      height: 1050 // Tek sayfa i√ßin sabit y√ºkseklik\r\n    });\r\n    console.log('Canvas olu≈üturuldu');\r\n\r\n    // Create PDF (tek sayfa)\r\n    console.log('PDF olu≈üturuluyor...');\r\n    const imgData = canvas.toDataURL('image/png');\r\n    const pdf = new jsPDF('p', 'mm', 'a4');\r\n    const imgWidth = 210; // A4 width in mm\r\n    const imgHeight = 297; // A4 height in mm\r\n    pdf.addImage(imgData, 'PNG', 0, 0, imgWidth, imgHeight);\r\n\r\n    // Download the PDF\r\n    const fileName = `Teklif_${data.quoteId}_${data.customerInfo.name.replace(/[^a-zA-Z0-9]/g, '_')}.pdf`;\r\n    console.log('PDF indiriliyor:', fileName);\r\n    pdf.save(fileName);\r\n    console.log('PDF ba≈üarƒ±yla olu≈üturuldu!');\r\n  } catch (error) {\r\n    console.error('PDF olu≈üturma hatasƒ±:', error);\r\n    throw error;\r\n  } finally {\r\n    // Clean up: remove the temporary div\r\n    document.body.removeChild(tempDiv);\r\n  }\r\n  } catch (error) {\r\n    console.error('generateQuotePDF genel hatasƒ±:', error);\r\n    throw error;\r\n  }\r\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 536, "column": 0}, "map": {"version":3,"sources":["file:///Users/sahanhasret/Desktop/EkimSogutma/teklif-formu/src/app/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport Image from 'next/image';\r\nimport Header from '@/components/Header';\r\nimport Footer from '@/components/Footer';\r\nimport { Product, Quote, QuoteItem, Customer } from '@/lib/database';\r\nimport { generateQuotePDF, QuotePDFData } from '@/lib/pdfGenerator';\r\n\r\n// Types and Interfaces\r\ninterface CartItem {\r\n  product: Product;\r\n  quantity: number;\r\n  unitPrice: number;\r\n  discount?: number;\r\n  margin?: number;\r\n  customName?: string;\r\n  salesPrice?: number;\r\n  manualSalesPrice?: boolean;\r\n  isGrouped?: boolean;\r\n  groupName?: string;\r\n  groupItems?: CartItem[];\r\n}\r\n\r\n// Constants and Steps\r\nconst steps = [\r\n  { id: 1, title: 'M√º≈üteri', icon: 'üë•' },\r\n  { id: 2, title: 'Proje', icon: 'üìù' },\r\n  { id: 3, title: '√úr√ºnler', icon: 'üõí' },\r\n  { id: 4, title: '√ñzet', icon: '‚úì' },\r\n];\r\n\r\nexport default function Home() {\r\n  // States for navigation and UI\r\n  const [activeStep, setActiveStep] = useState(1);\r\n  const [selectedCustomer, setSelectedCustomer] = useState('');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedCategory, setSelectedCategory] = useState('');\r\n  const [categories, setCategories] = useState<string[]>([]);\r\n  const [subtotal, setSubtotal] = useState(0);\r\n  const [kdv, setKdv] = useState(0);\r\n  const [total, setTotal] = useState(0);\r\n  const [products, setProducts] = useState<Product[]>([]);\r\n  const [customers, setCustomers] = useState<Customer[]>([]);\r\n  const [cart, setCart] = useState<CartItem[]>([]);\r\n  const [selectedProducts, setSelectedProducts] = useState<number[]>([]);\r\n  const [isGrouping, setIsGrouping] = useState(false);\r\n  const [groupName, setGroupName] = useState('');\r\n  const [viewingGroup, setViewingGroup] = useState<CartItem | null>(null);\r\n  const [customerInfo, setCustomerInfo] = useState({\r\n    name: '',\r\n    email: '',\r\n    phone: '',\r\n    company: '',\r\n    address: ''\r\n  });\r\n  const [projectDetails, setProjectDetails] = useState({\r\n    projectDesign: '',\r\n    projectDescription: ''\r\n  });\r\n  const [schedule, setSchedule] = useState({\r\n    startDate: '',\r\n    endDate: ''\r\n  });\r\n  const [conditions, setConditions] = useState({\r\n    validityPeriod: '30',\r\n    deliveryTime: ''\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [editingQuoteId, setEditingQuoteId] = useState<number | null>(null);\r\n  const [viewingGroupId, setViewingGroupId] = useState<number | null>(null);\r\n  \r\n  // Tavan hesaplama i√ßin state'ler\r\n  const [ceilingWidth, setCeilingWidth] = useState<number>(0);\r\n  const [ceilingHeight, setCeilingHeight] = useState<number>(0);\r\n  const [ceilingCount, setCeilingCount] = useState<number>(1);\r\n  const [ceilingPricePerSquareMeter, setCeilingPricePerSquareMeter] = useState<number>(0);\r\n  \r\n  // Zemin hesaplama i√ßin state'ler\r\n  const [floorWidth, setFloorWidth] = useState<number>(0);\r\n  const [floorHeight, setFloorHeight] = useState<number>(0);\r\n  const [floorCount, setFloorCount] = useState<number>(1);\r\n  const [floorPricePerSquareMeter, setFloorPricePerSquareMeter] = useState<number>(0);\r\n  \r\n  // Duvar hesaplama i√ßin state'ler\r\n  const [wallWidth, setWallWidth] = useState<number>(0);\r\n  const [wallHeight, setWallHeight] = useState<number>(0);\r\n  const [wallCount, setWallCount] = useState<number>(1);\r\n  const [wallPricePerSquareMeter, setWallPricePerSquareMeter] = useState<number>(0);\r\n  \r\n  // Tedarik√ßi bazlƒ± √ºr√ºn se√ßimi i√ßin state'ler\r\n  const [suppliers, setSuppliers] = useState<any[]>([]);\r\n  const [selectedSupplierId, setSelectedSupplierId] = useState<number | null>(null);\r\n  const [supplierCategories, setSupplierCategories] = useState<string[]>([]);\r\n  const [supplierSelectedCategory, setSupplierSelectedCategory] = useState('');\r\n  const [categoryProducts, setCategoryProducts] = useState<Product[]>([]);\r\n  \r\n  // Tavan, zemin ve duvar i√ßin ayrƒ± hesaplama fonksiyonlarƒ±\r\n  const ceilingSquareMeters = ceilingWidth * ceilingHeight * ceilingCount;\r\n  const ceilingTotalPrice = ceilingSquareMeters * ceilingPricePerSquareMeter;\r\n  \r\n  const floorSquareMeters = floorWidth * floorHeight * floorCount;\r\n  const floorTotalPrice = floorSquareMeters * floorPricePerSquareMeter;\r\n  \r\n  const wallSquareMeters = wallWidth * wallHeight * wallCount;\r\n  const wallTotalPrice = wallSquareMeters * wallPricePerSquareMeter;\r\n\r\n  // Memoized filtered products\r\n  const getFilteredProducts = () => products.filter((product) => {\r\n    const matchesSearch = \r\n      !searchTerm ||\r\n      product.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      (product.brand && product.brand.toLowerCase().includes(searchTerm.toLowerCase())) ||\r\n      (product.model && product.model.toLowerCase().includes(searchTerm.toLowerCase()));\r\n    \r\n    const matchesCategory = !selectedCategory || product.category === selectedCategory;\r\n    \r\n    return matchesSearch && matchesCategory;\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchProducts();\r\n    fetchCustomers();\r\n    loadSuppliers();\r\n  }, []);\r\n\r\n  // Supplier loading functions\r\n  const loadSuppliers = async () => {\r\n    try {\r\n      const response = await fetch('/api/suppliers');\r\n      const data = await response.json();\r\n      setSuppliers(data);\r\n    } catch (error) {\r\n      console.error('Tedarik√ßiler y√ºklenirken hata:', error);\r\n    }\r\n  };\r\n\r\n  const loadSupplierProducts = async (supplierId: number) => {\r\n    try {\r\n      const response = await fetch(`/api/suppliers/${supplierId}/products`);\r\n      const data = await response.json();\r\n      const cats = Object.keys(data.categories).sort();\r\n      setSupplierCategories(cats);\r\n    } catch (error) {\r\n      console.error('Tedarik√ßi √ºr√ºnleri y√ºklenirken hata:', error);\r\n    }\r\n  };\r\n\r\n  const loadCategoryProducts = async (supplierId: number, category: string) => {\r\n    try {\r\n      const response = await fetch(`/api/suppliers/${supplierId}/products`);\r\n      const data = await response.json();\r\n      setCategoryProducts(data.categories[category] || []);\r\n    } catch (error) {\r\n      console.error('Kategori √ºr√ºnleri y√ºklenirken hata:', error);\r\n    }\r\n  };\r\n\r\n  const handleSupplierChange = (supplierId: number) => {\r\n    setSelectedSupplierId(supplierId);\r\n    setSupplierSelectedCategory('');\r\n    setCategoryProducts([]);\r\n    setSupplierCategories([]);\r\n    if (supplierId) {\r\n      loadSupplierProducts(supplierId);\r\n    }\r\n  };\r\n\r\n  const handleSupplierCategoryChange = (category: string) => {\r\n    setSupplierSelectedCategory(category);\r\n    if (selectedSupplierId && category) {\r\n      loadCategoryProducts(selectedSupplierId, category);\r\n    }\r\n  };\r\n\r\n  // Data fetching functions\r\n  const fetchProducts = async () => {\r\n    try {\r\n      const response = await fetch('/api/products');\r\n      const data = await response.json();\r\n      setProducts(data);\r\n    } catch (error) {\r\n      console.error('√úr√ºnler y√ºklenirken hata:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchCustomers = async () => {\r\n    try {\r\n      const response = await fetch('/api/customers');\r\n      const data = await response.json();\r\n      setCustomers(data);\r\n    } catch (error) {\r\n      console.error('M√º≈üteriler y√ºklenirken hata:', error);\r\n    }\r\n  };\r\n\r\n  // Group functions\r\n  const handleGroupProducts = () => {\r\n    if (selectedProducts.length < 1) {\r\n      alert('En az 1 √ºr√ºn se√ßmelisiniz');\r\n      return;\r\n    }\r\n    setIsGrouping(true);\r\n  };\r\n\r\n  const createGroup = () => {\r\n    if (!groupName) {\r\n      alert('Grup adƒ± giriniz');\r\n      return;\r\n    }\r\n\r\n    const selectedItems = cart.filter(item => selectedProducts.includes(item.product.id));\r\n    \r\n    // Calculate total price for the group\r\n    const totalPrice = selectedItems.reduce((sum, item) => {\r\n      const salesPrice = item.salesPrice ?? item.unitPrice;\r\n      return sum + (salesPrice * item.quantity);\r\n    }, 0);\r\n\r\n    const groupHeader: CartItem = {\r\n      product: {\r\n        id: Date.now(),\r\n        name: groupName,\r\n        price: totalPrice,\r\n        category: 'Grup',\r\n        stock_quantity: 1\r\n      },\r\n      quantity: 1,\r\n      unitPrice: totalPrice,\r\n      isGrouped: true,\r\n      groupItems: selectedItems,\r\n      salesPrice: totalPrice,\r\n      manualSalesPrice: false\r\n    };\r\n\r\n    setCart(prev => [\r\n      ...prev.filter(item => !selectedProducts.includes(item.product.id)),\r\n      groupHeader\r\n    ]);\r\n\r\n    setSelectedProducts([]);\r\n    setIsGrouping(false);\r\n    setGroupName('');\r\n  };\r\n\r\n  // Cart management functions\r\n  const addToCart = (product: Product) => {\r\n    const existingItem = cart.find(item => item.product.id === product.id);\r\n    if (existingItem) {\r\n      setCart(cart.map(item => \r\n        item.product.id === product.id \r\n          ? { ...item, quantity: item.quantity + 1 }\r\n          : item\r\n      ));\r\n    } else {\r\n      setCart([\r\n        ...cart,\r\n        {\r\n          product,\r\n          quantity: 1,\r\n          unitPrice: product.price || 0,\r\n          discount: 0,\r\n          margin: 0,\r\n          customName: '',\r\n          salesPrice: product.price || 0,\r\n          manualSalesPrice: false\r\n        }\r\n      ]);\r\n    }\r\n  };\r\n\r\n  // Tavan hesaplamasƒ±nƒ± sepete ekle\r\n  const addCeilingToCart = () => {\r\n    if (ceilingSquareMeters <= 0) {\r\n      alert('L√ºtfen ge√ßerli tavan metrekare deƒüerleri girin');\r\n      return;\r\n    }\r\n    \r\n    if (ceilingPricePerSquareMeter <= 0) {\r\n      alert('L√ºtfen tavan metrekare ba≈üƒ±na fiyat girin');\r\n      return;\r\n    }\r\n    \r\n    const detailedDescription = `Tavan: ${ceilingSquareMeters.toFixed(2)} m¬≤`;\r\n    \r\n    const ceilingProduct: Product = {\r\n      id: Date.now() + 1, // Benzersiz ID i√ßin timestamp kullanƒ±yoruz\r\n      name: `Tavan (${ceilingSquareMeters.toFixed(2)} m¬≤)`,\r\n      price: ceilingTotalPrice,\r\n      category: 'Metrekare Hesaplama',\r\n      stock_quantity: 1,\r\n      unit: 'm¬≤',\r\n      description: detailedDescription\r\n    };\r\n    \r\n    setCart([\r\n      ...cart,\r\n      {\r\n        product: ceilingProduct,\r\n        quantity: 1,\r\n        unitPrice: ceilingTotalPrice,\r\n        discount: 0,\r\n        margin: 0,\r\n        customName: `Tavan (${ceilingSquareMeters.toFixed(2)} m¬≤)`,\r\n        salesPrice: ceilingTotalPrice,\r\n        manualSalesPrice: false\r\n      }\r\n    ]);\r\n    \r\n    // Tavan alanlarƒ±nƒ± sƒ±fƒ±rla\r\n    setCeilingWidth(0);\r\n    setCeilingHeight(0);\r\n    setCeilingCount(1);\r\n    setCeilingPricePerSquareMeter(0);\r\n  };\r\n  \r\n  // Zemin hesaplamasƒ±nƒ± sepete ekle\r\n  const addFloorToCart = () => {\r\n    if (floorSquareMeters <= 0) {\r\n      alert('L√ºtfen ge√ßerli zemin metrekare deƒüerleri girin');\r\n      return;\r\n    }\r\n    \r\n    if (floorPricePerSquareMeter <= 0) {\r\n      alert('L√ºtfen zemin metrekare ba≈üƒ±na fiyat girin');\r\n      return;\r\n    }\r\n    \r\n    const detailedDescription = `Zemin: ${floorSquareMeters.toFixed(2)} m¬≤`;\r\n    \r\n    const floorProduct: Product = {\r\n      id: Date.now() + 2, // Benzersiz ID i√ßin timestamp kullanƒ±yoruz\r\n      name: `Zemin (${floorSquareMeters.toFixed(2)} m¬≤)`,\r\n      price: floorTotalPrice,\r\n      category: 'Metrekare Hesaplama',\r\n      stock_quantity: 1,\r\n      unit: 'm¬≤',\r\n      description: detailedDescription\r\n    };\r\n    \r\n    setCart([\r\n      ...cart,\r\n      {\r\n        product: floorProduct,\r\n        quantity: 1,\r\n        unitPrice: floorTotalPrice,\r\n        discount: 0,\r\n        margin: 0,\r\n        customName: `Zemin (${floorSquareMeters.toFixed(2)} m¬≤)`,\r\n        salesPrice: floorTotalPrice,\r\n        manualSalesPrice: false\r\n      }\r\n    ]);\r\n    \r\n    // Zemin alanlarƒ±nƒ± sƒ±fƒ±rla\r\n    setFloorWidth(0);\r\n    setFloorHeight(0);\r\n    setFloorCount(1);\r\n    setFloorPricePerSquareMeter(0);\r\n  };\r\n  \r\n  // Duvar hesaplamasƒ±nƒ± sepete ekle\r\n  const addWallToCart = () => {\r\n    if (wallSquareMeters <= 0) {\r\n      alert('L√ºtfen ge√ßerli duvar metrekare deƒüerleri girin');\r\n      return;\r\n    }\r\n    \r\n    if (wallPricePerSquareMeter <= 0) {\r\n      alert('L√ºtfen duvar metrekare ba≈üƒ±na fiyat girin');\r\n      return;\r\n    }\r\n    \r\n    const detailedDescription = `Duvar: ${wallSquareMeters.toFixed(2)} m¬≤`;\r\n    \r\n    const wallProduct: Product = {\r\n      id: Date.now() + 3, // Benzersiz ID i√ßin timestamp kullanƒ±yoruz\r\n      name: `Duvar (${wallSquareMeters.toFixed(2)} m¬≤)`,\r\n      price: wallTotalPrice,\r\n      category: 'Metrekare Hesaplama',\r\n      stock_quantity: 1,\r\n      unit: 'm¬≤',\r\n      description: detailedDescription\r\n    };\r\n    \r\n    setCart([\r\n      ...cart,\r\n      {\r\n        product: wallProduct,\r\n        quantity: 1,\r\n        unitPrice: wallTotalPrice,\r\n        discount: 0,\r\n        margin: 0,\r\n        customName: `Duvar (${wallSquareMeters.toFixed(2)} m¬≤)`,\r\n        salesPrice: wallTotalPrice,\r\n        manualSalesPrice: false\r\n      }\r\n    ]);\r\n    \r\n    // Duvar alanlarƒ±nƒ± sƒ±fƒ±rla\r\n    setWallWidth(0);\r\n    setWallHeight(0);\r\n    setWallCount(1);\r\n    setWallPricePerSquareMeter(0);\r\n  };\r\n  \r\n  // Cart item update functions\r\n  const updateProductName = (productId: number, customName: string) => {\r\n    setCart(cart.map(item =>\r\n      item.product.id === productId\r\n        ? { ...item, customName }\r\n        : item\r\n    ));\r\n  };\r\n\r\n  const removeFromCart = (productId: number) => {\r\n    setCart(cart.filter(item => item.product.id !== productId));\r\n  };\r\n\r\n  const updateQuantity = (productId: number, quantity: number) => {\r\n    if (quantity <= 0) {\r\n      removeFromCart(productId);\r\n      return;\r\n    }\r\n    setCart(cart.map(item => \r\n      item.product.id === productId \r\n        ? { ...item, quantity }\r\n        : item\r\n    ));\r\n  };\r\n\r\n  const updateUnitPrice = (productId: number, unitPrice: number) => {\r\n    setCart(cart.map(item => {\r\n      if (item.product.id === productId) {\r\n        let newSalesPrice = item.manualSalesPrice\r\n          ? item.salesPrice\r\n          : calculateSalesPrice(unitPrice, item.discount || 0, item.margin || 0);\r\n        return { ...item, unitPrice, salesPrice: newSalesPrice };\r\n      }\r\n      return item;\r\n    }));\r\n  };\r\n\r\n  const updateDiscount = (productId: number, discount: number) => {\r\n    setCart(cart.map(item => {\r\n      if (item.product.id === productId) {\r\n        let newSalesPrice = item.manualSalesPrice\r\n          ? item.salesPrice\r\n          : calculateSalesPrice(item.unitPrice, discount, item.margin || 0);\r\n        return { ...item, discount, salesPrice: newSalesPrice };\r\n      }\r\n      return item;\r\n    }));\r\n  };\r\n\r\n  const updateMargin = (productId: number, margin: number) => {\r\n    setCart(cart.map(item => {\r\n      if (item.product.id === productId) {\r\n        let newSalesPrice = item.manualSalesPrice\r\n          ? item.salesPrice\r\n          : calculateSalesPrice(item.unitPrice, item.discount || 0, margin);\r\n        return { ...item, margin, salesPrice: newSalesPrice };\r\n      }\r\n      return item;\r\n    }));\r\n  };\r\n\r\n  const updateSalesPrice = (productId: number, salesPrice: number) => {\r\n    setCart(cart.map(item => {\r\n      if (item.product.id === productId) {\r\n        return { ...item, salesPrice, manualSalesPrice: true };\r\n      }\r\n      return item;\r\n    }));\r\n  };\r\n\r\n  // Cart item update functions for grouped items\r\n  const updateGroupedItem = (groupId: number, updates: Partial<CartItem>) => {\r\n    setCart(cart.map(item => {\r\n      if (item.product.id === groupId && item.isGrouped) {\r\n        // Update the group header (excluding product name changes)\r\n        const { product, ...otherUpdates } = updates;\r\n        const updatedItem = { ...item, ...otherUpdates };\r\n        \r\n        // If we're updating unitPrice, salesPrice, discount, or margin, recalculate\r\n        if (updates.unitPrice !== undefined || updates.discount !== undefined || updates.margin !== undefined) {\r\n          const newUnitPrice = updates.unitPrice !== undefined ? updates.unitPrice : (item.unitPrice || 0);\r\n          const newDiscount = updates.discount !== undefined ? updates.discount : (item.discount || 0);\r\n          const newMargin = updates.margin !== undefined ? updates.margin : (item.margin || 0);\r\n          \r\n          // Recalculate sales price\r\n          const discounted = newUnitPrice * (1 - (newDiscount || 0) / 100);\r\n          const withMargin = discounted * (1 + (newMargin || 0) / 100);\r\n          const newSalesPrice = parseFloat(withMargin.toFixed(2));\r\n          \r\n          updatedItem.unitPrice = newUnitPrice;\r\n          updatedItem.salesPrice = newSalesPrice;\r\n          updatedItem.discount = newDiscount;\r\n          updatedItem.margin = newMargin;\r\n        }\r\n        \r\n        return updatedItem;\r\n      }\r\n      return item;\r\n    }));\r\n  };\r\n\r\n  const removeGroupedItem = (groupId: number) => {\r\n    setCart(cart.filter(item => item.product.id !== groupId));\r\n  };\r\n\r\n  // Helper functions\r\n  const calculateSalesPrice = (unitPrice: number, discount: number, margin: number) => {\r\n    const discounted = unitPrice * (1 - (discount || 0) / 100);\r\n    const withMargin = discounted * (1 + (margin || 0) / 100);\r\n    return parseFloat(withMargin.toFixed(2));\r\n  };\r\n\r\n  // Quote management functions\r\n  const handleCustomerSelect = (customerId: string) => {\r\n    setSelectedCustomer(customerId);\r\n    if (customerId) {\r\n      const customer = customers.find(c => c.id?.toString() === customerId);\r\n      if (customer) {\r\n        setCustomerInfo({\r\n          name: customer.name,\r\n          email: customer.email || '',\r\n          phone: customer.phone || '',\r\n          company: customer.company || '',\r\n          address: customer.address || ''\r\n        });\r\n      }\r\n    } else {\r\n      setCustomerInfo({\r\n        name: '',\r\n        email: '',\r\n        phone: '',\r\n        company: '',\r\n        address: ''\r\n      });\r\n    }\r\n  };\r\n\r\n  const loadQuoteForEditing = async (quoteData: any) => {\r\n    try {\r\n      setEditingQuoteId(quoteData.id);\r\n      \r\n      setCustomerInfo({\r\n        name: quoteData.customer_name || '',\r\n        email: quoteData.customer_email || '',\r\n        phone: quoteData.customer_phone || '',\r\n        company: quoteData.company || '',\r\n        address: ''\r\n      });\r\n      \r\n      const notes = quoteData.notes || '';\r\n      const projectDesign = notes.match(/Proje Tasarƒ±m: ([^\\n]*)/)?.[1] || '';\r\n      const projectDescription = notes.match(/Proje A√ßƒ±klama: ([^\\n]*)/)?.[1] || '';\r\n      const startDate = notes.match(/Ba≈ülangƒ±√ß: ([^\\n]*)/)?.[1] || '';\r\n      const endDate = notes.match(/Biti≈ü: ([^\\n]*)/)?.[1] || '';\r\n      const validityPeriod = notes.match(/Ge√ßerlilik: ([^\\n]*)/)?.[1] || '30';\r\n      const deliveryTime = notes.match(/Teslim: ([^\\n]*)/)?.[1] || '';\r\n      \r\n      setProjectDetails({\r\n        projectDesign,\r\n        projectDescription\r\n      });\r\n      \r\n      setSchedule({\r\n        startDate,\r\n        endDate\r\n      });\r\n      \r\n      setConditions({\r\n        validityPeriod: validityPeriod.replace(' g√ºn', ''),\r\n        deliveryTime\r\n      });\r\n      \r\n      const response = await fetch(`/api/quotes/${quoteData.id}`);\r\n      if (response.ok) {\r\n        const details = await response.json();\r\n        const cartItems: CartItem[] = details.items?.map((item: any) => ({\r\n          product: {\r\n            id: item.product_id,\r\n            name: item.product_name || 'Unknown Product',\r\n            brand: item.brand || '',\r\n            model: item.model || '',\r\n            code: item.code || '',\r\n            category: '',\r\n            price: item.unit_price,\r\n            description: '',\r\n            specifications: '',\r\n            stock_quantity: 0,\r\n            unit: 'adet'\r\n          },\r\n          quantity: item.quantity,\r\n          unitPrice: item.unit_price\r\n        })) || [];\r\n        \r\n        setCart(cartItems);\r\n      }\r\n      \r\n      setActiveStep(1);\r\n    } catch (error) {\r\n      console.error('Quote loading error:', error);\r\n      alert('Teklif y√ºklenirken hata olu≈ütu!');\r\n    }\r\n  };\r\n\r\n  const createQuote = async () => {\r\n    if (!customerInfo.name.trim()) {\r\n      alert('M√º≈üteri adƒ± zorunludur!');\r\n      return;\r\n    }\r\n\r\n    if (cart.length === 0) {\r\n      alert('Sepette √ºr√ºn bulunmuyor!');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const totalAmount = cart.reduce((sum, item) => \r\n        sum + item.unitPrice * item.quantity, 0\r\n      );\r\n\r\n      const quote: Quote = {\r\n        customer_name: customerInfo.name,\r\n        customer_email: customerInfo.email || undefined,\r\n        customer_phone: customerInfo.phone || undefined,\r\n        company: customerInfo.company || undefined,\r\n        total_amount: totalAmount,\r\n        status: 'draft',\r\n        notes: `Proje Tasarƒ±m: ${projectDetails.projectDesign}\r\nProje A√ßƒ±klama: ${projectDetails.projectDescription}\r\nBa≈ülangƒ±√ß: ${schedule.startDate}\r\nBiti≈ü: ${schedule.endDate}\r\nGe√ßerlilik: ${conditions.validityPeriod} g√ºn\r\nTeslim: ${conditions.deliveryTime}`\r\n      };\r\n\r\n      const items: QuoteItem[] = cart\r\n        .filter(item => !item.isGrouped) // Gruplanmƒ±≈ü √ºr√ºnleri veritabanƒ±na kaydetme\r\n        .map(item => ({\r\n          product_id: item.product.id!,\r\n          quantity: item.quantity,\r\n          unit_price: item.unitPrice,\r\n          total_price: item.unitPrice * item.quantity,\r\n          quote_id: 0\r\n        }));\r\n      \r\n      const response = await fetch('/api/quotes', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ quote, items }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        const quoteId = result.quoteId;\r\n\r\n        const pdfData: QuotePDFData = {\r\n          quoteId: quoteId,\r\n          customerInfo: {\r\n            name: customerInfo.name,\r\n            company: customerInfo.company,\r\n            email: customerInfo.email,\r\n            phone: customerInfo.phone,\r\n            address: customerInfo.address\r\n          },\r\n          projectDetails: {\r\n            projectDesign: projectDetails.projectDesign,\r\n            projectDescription: projectDetails.projectDescription\r\n          },\r\n          schedule: {\r\n            startDate: schedule.startDate,\r\n            endDate: schedule.endDate\r\n          },\r\n          conditions: {\r\n            validityPeriod: conditions.validityPeriod,\r\n            deliveryTime: conditions.deliveryTime\r\n          },\r\n          items: cart.map(item => ({\r\n            product: {\r\n              name: item.customName || item.product.name,\r\n              brand: item.isGrouped ? '' : item.product.brand,\r\n              model: item.isGrouped ? '' : item.product.model,\r\n              code: item.isGrouped ? '' : item.product.code,\r\n              description: item.isGrouped ? 'Grup' : item.product.description,\r\n            },\r\n            quantity: item.quantity,\r\n            unitPrice: item.salesPrice ?? item.unitPrice,\r\n            total: (item.salesPrice ?? item.unitPrice) * item.quantity,\r\n          })),\r\n          subtotal: cart.reduce((sum, item) => sum + (item.salesPrice ?? item.unitPrice) * item.quantity, 0),\r\n          kdv: cart.reduce((sum, item) => sum + (item.salesPrice ?? item.unitPrice) * item.quantity, 0) * 0.20,\r\n          total: cart.reduce((sum, item) => sum + (item.salesPrice ?? item.unitPrice) * item.quantity, 0) * 1.20,\r\n          createdAt: new Date().toISOString()\r\n        };\r\n\r\n        await generateQuotePDF(pdfData);\r\n\r\n        alert('Teklif ba≈üarƒ±yla olu≈üturuldu ve PDF indirildi!');\r\n\r\n        setCart([]);\r\n        setCustomerInfo({\r\n          name: '',\r\n          email: '',\r\n          phone: '',\r\n          company: '',\r\n          address: ''\r\n        });\r\n        setProjectDetails({\r\n          projectDesign: '',\r\n          projectDescription: ''\r\n        });\r\n        setSchedule({\r\n          startDate: '',\r\n          endDate: ''\r\n        });\r\n        setConditions({\r\n          validityPeriod: '30',\r\n          deliveryTime: ''\r\n        });\r\n        setSelectedCustomer('');\r\n        setActiveStep(1);\r\n      } else {\r\n        alert('Teklif olu≈üturulurken hata olu≈ütu!');\r\n      }\r\n    } catch (error) {\r\n      console.error('Teklif olu≈üturma hatasƒ±:', error);\r\n      alert('Teklif olu≈üturulurken hata olu≈ütu!');\r\n    }\r\n  };\r\n\r\n  // Get computed values\r\n  useEffect(() => {\r\n    // Update categories\r\n    setCategories([...new Set(products.map(p => p.category).filter((cat): cat is string => cat !== undefined && cat !== null))]);\r\n    \r\n    // Update financial calculations\r\n    const calculatedSubtotal = cart.reduce((sum, item) => \r\n      sum + (item.salesPrice ?? item.unitPrice) * item.quantity, 0);\r\n    setSubtotal(calculatedSubtotal);\r\n    \r\n    const calculatedKdv = calculatedSubtotal * 0.20;\r\n    setKdv(calculatedKdv);\r\n    \r\n    setTotal(calculatedSubtotal + calculatedKdv);\r\n  }, [products, cart]);\r\n  const calculatedTotal = subtotal + kdv;\r\n\r\n  const totalCost = cart.reduce((sum, item) => {\r\n    const discount = item.discount ?? 0;\r\n    const discountedUnit = item.unitPrice * (1 - discount / 100);\r\n    return sum + discountedUnit * item.quantity;\r\n  }, 0);\r\n\r\n  const totalProfit = cart.reduce((sum, item) => {\r\n    const discount = item.discount ?? 0;\r\n    const margin = item.margin ?? 0;\r\n    const discountedUnit = item.unitPrice * (1 - discount / 100);\r\n    const profitPerUnit = discountedUnit * (margin / 100);\r\n    return sum + profitPerUnit * item.quantity;\r\n  }, 0);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-xl\">Y√ºkleniyor...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 relative overflow-hidden\">\r\n      <Header />\r\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10\">\r\n        {/* Steps Progress */}\r\n        <div className=\"bg-white/80 backdrop-blur-sm border-b border-gray-200/50 sticky top-0 z-40\">\r\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              {steps.map((step, index) => (\r\n                <div key={step.id} className=\"flex items-center group\">\r\n                  <button\r\n                    onClick={() => setActiveStep(step.id)}\r\n                    className={`flex items-center space-x-3 px-6 py-4 rounded-2xl transition-all duration-300 transform hover:scale-105 hover:shadow-xl ${\r\n                      activeStep === step.id\r\n                        ? 'bg-gradient-to-r from-blue-600 to-blue-700 text-gray-800 shadow-xl scale-105'\r\n                        : activeStep > step.id\r\n                        ? 'bg-gradient-to-r from-green-500 to-emerald-600 text-gray-800 shadow-lg'\r\n                        : 'bg-white text-gray-600 shadow-md hover:bg-gray-50'\r\n                    }`}\r\n                  >\r\n                    <span className={`text-2xl ${activeStep === step.id ? 'animate-bounce' : ''}`}>\r\n                      {step.icon}\r\n                    </span>\r\n                    <span className=\"font-semibold hidden sm:inline text-sm\">{step.title}</span>\r\n                  </button>\r\n                  {index < steps.length - 1 && (\r\n                    <div className={`w-12 h-1 mx-4 rounded-full transition-all duration-500 ${\r\n                      activeStep > step.id \r\n                        ? 'bg-gradient-to-r from-green-400 to-emerald-500' \r\n                        : activeStep === step.id\r\n                        ? 'bg-gradient-to-r from-blue-400 to-blue-500'\r\n                        : 'bg-gray-200'\r\n                    }`} />\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Main Content */}\r\n        <div className=\"mt-8\">\r\n          {/* Step 1: M√º≈üteri Bilgileri */}\r\n          {activeStep === 1 && (\r\n            <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl shadow-lg p-6 border border-blue-100\">\r\n              <h2 className=\"text-2xl font-bold mb-6 text-blue-800\">M√º≈üteri Bilgileri</h2>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div className=\"bg-white p-4 rounded-lg shadow-sm\">\r\n                  <label className=\"block text-sm font-medium mb-2 text-blue-700\">M√º≈üteri Se√ßimi</label>\r\n                  <select\r\n                    value={selectedCustomer}\r\n                    onChange={(e) => handleCustomerSelect(e.target.value)}\r\n                    className=\"w-full p-2 border rounded-lg select-text bg-blue-50 border-blue-200\"\r\n                  >\r\n                    <option value=\"\">Yeni M√º≈üteri</option>\r\n                    {customers.map((customer) => (\r\n                      <option key={customer.id} value={customer.id} className=\"text-gray-800\">\r\n                        {customer.name}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div className=\"bg-white p-4 rounded-lg shadow-sm\">\r\n                  <label className=\"block text-sm font-medium mb-2 text-blue-700\">M√º≈üteri Adƒ±</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={customerInfo.name}\r\n                    onChange={(e) => setCustomerInfo({ ...customerInfo, name: e.target.value })}\r\n                    className=\"w-full p-2 border rounded-lg form-input bg-blue-50 border-blue-200\"\r\n                    placeholder=\"M√º≈üteri adƒ±nƒ± girin\"\r\n                  />\r\n                </div>\r\n                <div className=\"bg-white p-4 rounded-lg shadow-sm\">\r\n                  <label className=\"block text-sm font-medium mb-2 text-blue-700\">E-posta</label>\r\n                  <input\r\n                    type=\"email\"\r\n                    value={customerInfo.email}\r\n                    onChange={(e) => setCustomerInfo({ ...customerInfo, email: e.target.value })}\r\n                    className=\"w-full p-2 border rounded-lg form-input bg-blue-50 border-blue-200\"\r\n                    placeholder=\"ornek@firma.com\"\r\n                  />\r\n                </div>\r\n                <div className=\"bg-white p-4 rounded-lg shadow-sm\">\r\n                  <label className=\"block text-sm font-medium mb-2 text-blue-700\">Telefon</label>\r\n                  <input\r\n                    type=\"tel\"\r\n                    value={customerInfo.phone}\r\n                    onChange={(e) => setCustomerInfo({ ...customerInfo, phone: e.target.value })}\r\n                    className=\"w-full p-2 border rounded-lg form-input bg-blue-50 border-blue-200\"\r\n                    placeholder=\"+90\"\r\n                  />\r\n                </div>\r\n                <div className=\"md:col-span-2 bg-white p-4 rounded-lg shadow-sm\">\r\n                  <label className=\"block text-sm font-medium mb-2 text-blue-700\">Firma Adƒ±</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={customerInfo.company}\r\n                    onChange={(e) => setCustomerInfo({ ...customerInfo, company: e.target.value })}\r\n                    className=\"w-full p-2 border rounded-lg form-input bg-blue-50 border-blue-200\"\r\n                    placeholder=\"Firma adƒ±nƒ± girin\"\r\n                  />\r\n                </div>\r\n                <div className=\"md:col-span-2 bg-white p-4 rounded-lg shadow-sm\">\r\n                  <label className=\"block text-sm font-medium mb-2 text-blue-700\">Adres</label>\r\n                  <textarea\r\n                    value={customerInfo.address}\r\n                    onChange={(e) => setCustomerInfo({ ...customerInfo, address: e.target.value })}\r\n                    className=\"w-full p-2 border rounded-lg form-input bg-blue-50 border-blue-200\"\r\n                    rows={3}\r\n                    placeholder=\"Firma adresini girin\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Step 2: Proje Detaylarƒ± */}\r\n          {activeStep === 2 && (\r\n            <div className=\"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl shadow-lg p-6 border border-green-100\">\r\n              <h2 className=\"text-2xl font-bold mb-6 text-green-800\">Proje Detaylarƒ±</h2>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div className=\"bg-white p-4 rounded-lg shadow-sm\">\r\n                  <label className=\"block text-sm font-medium mb-2 text-green-700\">Proje Tasarƒ±mƒ±</label>\r\n                  <textarea\r\n                    value={projectDetails.projectDesign}\r\n                    onChange={(e) =>\r\n                      setProjectDetails({ ...projectDetails, projectDesign: e.target.value })\r\n                    }\r\n                    className=\"w-full p-2 border rounded-lg form-input bg-green-50 border-green-200\"\r\n                    rows={4}\r\n                    placeholder=\"Proje tasarƒ±mƒ±nƒ± a√ßƒ±klayƒ±n\"\r\n                  />\r\n                </div>\r\n                <div className=\"bg-white p-4 rounded-lg shadow-sm\">\r\n                  <label className=\"block text-sm font-medium mb-2 text-green-700\">Proje A√ßƒ±klamasƒ±</label>\r\n                  <textarea\r\n                    value={projectDetails.projectDescription}\r\n                    onChange={(e) =>\r\n                      setProjectDetails({ ...projectDetails, projectDescription: e.target.value })\r\n                    }\r\n                    className=\"w-full p-2 border rounded-lg form-input bg-green-50 border-green-200\"\r\n                    rows={4}\r\n                    placeholder=\"Proje detaylarƒ±nƒ± a√ßƒ±klayƒ±n\"\r\n                  />\r\n                </div>\r\n                <div className=\"bg-white p-4 rounded-lg shadow-sm\">\r\n                  <label className=\"block text-sm font-medium mb-2 text-green-700\">Ba≈ülangƒ±√ß Tarihi</label>\r\n                  <input\r\n                    type=\"date\"\r\n                    value={schedule.startDate}\r\n                    onChange={(e) => setSchedule({ ...schedule, startDate: e.target.value })}\r\n                    className=\"w-full p-2 border rounded-lg form-input bg-green-50 border-green-200\"\r\n                  />\r\n                </div>\r\n                <div className=\"bg-white p-4 rounded-lg shadow-sm\">\r\n                  <label className=\"block text-sm font-medium mb-2 text-green-700\">Biti≈ü Tarihi</label>\r\n                  <input\r\n                    type=\"date\"\r\n                    value={schedule.endDate}\r\n                    onChange={(e) => setSchedule({ ...schedule, endDate: e.target.value })}\r\n                    className=\"w-full p-2 border rounded-lg form-input bg-green-50 border-green-200\"\r\n                  />\r\n                </div>\r\n                <div className=\"bg-white p-4 rounded-lg shadow-sm\">\r\n                  <label className=\"block text-sm font-medium mb-2 text-green-700\">Ge√ßerlilik S√ºresi (G√ºn)</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={conditions.validityPeriod}\r\n                    onChange={(e) => setConditions({ ...conditions, validityPeriod: e.target.value })}\r\n                    className=\"w-full p-2 border rounded-lg form-input bg-green-50 border-green-200\"\r\n                    min=\"1\"\r\n                  />\r\n                </div>\r\n                <div className=\"bg-white p-4 rounded-lg shadow-sm\">\r\n                  <label className=\"block text-sm font-medium mb-2 text-green-700\">Teslimat S√ºresi</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={conditions.deliveryTime}\r\n                    onChange={(e) => setConditions({ ...conditions, deliveryTime: e.target.value })}\r\n                    className=\"w-full p-2 border rounded-lg form-input bg-green-50 border-green-200\"\r\n                    placeholder=\"√ñrn: 15 i≈ü g√ºn√º\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Step 3: √úr√ºn Se√ßimi */}\r\n          {activeStep === 3 && (\r\n            <div className=\"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl shadow-lg p-6 border border-amber-100\">\r\n              <h2 className=\"text-2xl font-bold mb-6 text-amber-800\">√úr√ºn Se√ßimi</h2>\r\n              <div className=\"mb-6\">\r\n                {/* Square Meter Calculator */}\r\n                <div className=\"bg-white p-4 rounded-lg shadow-sm mb-4 border border-amber-200\">\r\n                  <h3 className=\"text-md font-semibold mb-3 text-amber-700\">Metrekare Hesaplama</h3>\r\n                  \r\n                  {/* Tavan hesaplama */}\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-5 gap-3\">\r\n                    <div>\r\n                      <label className=\"block text-xs font-medium mb-1 text-amber-700\">Tavan En (m)</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={ceilingWidth || ''}\r\n                        onChange={(e) => setCeilingWidth(parseFloat(e.target.value) || 0)}\r\n                        className=\"w-full p-2 border rounded-lg form-input bg-amber-50 border-amber-200\"\r\n                        placeholder=\"0\"\r\n                        step=\"0.01\"\r\n                        min=\"0\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-xs font-medium mb-1 text-amber-700\">Tavan Boy (m)</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={ceilingHeight || ''}\r\n                        onChange={(e) => setCeilingHeight(parseFloat(e.target.value) || 0)}\r\n                        className=\"w-full p-2 border rounded-lg form-input bg-amber-50 border-amber-200\"\r\n                        placeholder=\"0\"\r\n                        step=\"0.01\"\r\n                        min=\"0\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-xs font-medium mb-1 text-amber-700\">Tavan Adet</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={ceilingCount || ''}\r\n                        onChange={(e) => setCeilingCount(parseInt(e.target.value) || 1)}\r\n                        className=\"w-full p-2 border rounded-lg form-input bg-amber-50 border-amber-200\"\r\n                        placeholder=\"1\"\r\n                        min=\"1\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-xs font-medium mb-1 text-amber-700\">Tavan m¬≤ Fiyatƒ± (‚Ç¨)</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={ceilingPricePerSquareMeter || ''}\r\n                        onChange={(e) => setCeilingPricePerSquareMeter(parseFloat(e.target.value) || 0)}\r\n                        className=\"w-full p-2 border rounded-lg form-input bg-amber-50 border-amber-200\"\r\n                        placeholder=\"0\"\r\n                        step=\"0.01\"\r\n                        min=\"0\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"flex items-end\">\r\n                      <div className=\"bg-amber-100 p-2 rounded-lg w-full text-center\">\r\n                        <p className=\"text-sm font-semibold text-amber-800\">\r\n                          Tavan: {(ceilingWidth * ceilingHeight * ceilingCount).toFixed(2)} m¬≤\r\n                        </p>\r\n                        <p className=\"text-xs text-amber-700\">\r\n                          Fiyat: ‚Ç¨{((ceilingWidth * ceilingHeight * ceilingCount) * ceilingPricePerSquareMeter).toFixed(2)}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {/* Zemin hesaplama */}\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-5 gap-3 mt-3\">\r\n                    <div>\r\n                      <label className=\"block text-xs font-medium mb-1 text-amber-700\">Zemin En (m)</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={floorWidth || ''}\r\n                        onChange={(e) => setFloorWidth(parseFloat(e.target.value) || 0)}\r\n                        className=\"w-full p-2 border rounded-lg form-input bg-amber-50 border-amber-200\"\r\n                        placeholder=\"0\"\r\n                        step=\"0.01\"\r\n                        min=\"0\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-xs font-medium mb-1 text-amber-700\">Zemin Boy (m)</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={floorHeight || ''}\r\n                        onChange={(e) => setFloorHeight(parseFloat(e.target.value) || 0)}\r\n                        className=\"w-full p-2 border rounded-lg form-input bg-amber-50 border-amber-200\"\r\n                        placeholder=\"0\"\r\n                        step=\"0.01\"\r\n                        min=\"0\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-xs font-medium mb-1 text-amber-700\">Zemin Adet</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={floorCount || ''}\r\n                        onChange={(e) => setFloorCount(parseInt(e.target.value) || 1)}\r\n                        className=\"w-full p-2 border rounded-lg form-input bg-amber-50 border-amber-200\"\r\n                        placeholder=\"1\"\r\n                        min=\"1\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-xs font-medium mb-1 text-amber-700\">Zemin m¬≤ Fiyatƒ± (‚Ç¨)</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={floorPricePerSquareMeter || ''}\r\n                        onChange={(e) => setFloorPricePerSquareMeter(parseFloat(e.target.value) || 0)}\r\n                        className=\"w-full p-2 border rounded-lg form-input bg-amber-50 border-amber-200\"\r\n                        placeholder=\"0\"\r\n                        step=\"0.01\"\r\n                        min=\"0\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"flex items-end\">\r\n                      <div className=\"bg-amber-100 p-2 rounded-lg w-full text-center\">\r\n                        <p className=\"text-sm font-semibold text-amber-800\">\r\n                          Zemin: {(floorWidth * floorHeight * floorCount).toFixed(2)} m¬≤\r\n                        </p>\r\n                        <p className=\"text-xs text-amber-700\">\r\n                          Fiyat: ‚Ç¨{((floorWidth * floorHeight * floorCount) * floorPricePerSquareMeter).toFixed(2)}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {/* Duvar hesaplama */}\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-5 gap-3 mt-3\">\r\n                    <div>\r\n                      <label className=\"block text-xs font-medium mb-1 text-amber-700\">Duvar En (m)</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={wallWidth || ''}\r\n                        onChange={(e) => setWallWidth(parseFloat(e.target.value) || 0)}\r\n                        className=\"w-full p-2 border rounded-lg form-input bg-amber-50 border-amber-200\"\r\n                        placeholder=\"0\"\r\n                        step=\"0.01\"\r\n                        min=\"0\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-xs font-medium mb-1 text-amber-700\">Duvar Boy (m)</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={wallHeight || ''}\r\n                        onChange={(e) => setWallHeight(parseFloat(e.target.value) || 0)}\r\n                        className=\"w-full p-2 border rounded-lg form-input bg-amber-50 border-amber-200\"\r\n                        placeholder=\"0\"\r\n                        step=\"0.01\"\r\n                        min=\"0\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-xs font-medium mb-1 text-amber-700\">Duvar Adet</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={wallCount || ''}\r\n                        onChange={(e) => setWallCount(parseInt(e.target.value) || 1)}\r\n                        className=\"w-full p-2 border rounded-lg form-input bg-amber-50 border-amber-200\"\r\n                        placeholder=\"1\"\r\n                        min=\"1\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-xs font-medium mb-1 text-amber-700\">Duvar m¬≤ Fiyatƒ± (‚Ç¨)</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={wallPricePerSquareMeter || ''}\r\n                        onChange={(e) => setWallPricePerSquareMeter(parseFloat(e.target.value) || 0)}\r\n                        className=\"w-full p-2 border rounded-lg form-input bg-amber-50 border-amber-200\"\r\n                        placeholder=\"0\"\r\n                        step=\"0.01\"\r\n                        min=\"0\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"flex items-end\">\r\n                      <div className=\"bg-amber-100 p-2 rounded-lg w-full text-center\">\r\n                        <p className=\"text-sm font-semibold text-amber-800\">\r\n                          Duvar: {(wallWidth * wallHeight * wallCount).toFixed(2)} m¬≤\r\n                        </p>\r\n                        <p className=\"text-xs text-amber-700\">\r\n                          Fiyat: ‚Ç¨{((wallWidth * wallHeight * wallCount) * wallPricePerSquareMeter).toFixed(2)}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {/* Sepete ekle butonlarƒ± */}\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3 mt-3\">\r\n                    <button\r\n                      onClick={() => addCeilingToCart()}\r\n                      className=\"bg-amber-500 hover:bg-amber-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors\"\r\n                    >\r\n                      Tavanƒ± Sepete Ekle\r\n                    </button>\r\n                    <button\r\n                      onClick={() => addFloorToCart()}\r\n                      className=\"bg-amber-500 hover:bg-amber-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors\"\r\n                    >\r\n                      Zemini Sepete Ekle\r\n                    </button>\r\n                    <button\r\n                      onClick={() => addWallToCart()}\r\n                      className=\"bg-amber-500 hover:bg-amber-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors\"\r\n                    >\r\n                      Duvarƒ± Sepete Ekle\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                \r\n                {/* Supplier-based Product Selection */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\r\n                  <div className=\"bg-white p-4 rounded-lg shadow-sm\">\r\n                    <label className=\"block text-sm font-medium mb-2 text-amber-700\">1Ô∏è‚É£ Tedarik√ßi Se√ß</label>\r\n                    <select\r\n                      className=\"w-full p-2 border rounded-lg bg-amber-50 border-amber-200 text-gray-800\"\r\n                      value={selectedSupplierId || ''}\r\n                      onChange={(e) => handleSupplierChange(parseInt(e.target.value))}\r\n                    >\r\n                      <option value=\"\">Tedarik√ßi se√ßin...</option>\r\n                      {suppliers.map(supplier => (\r\n                        <option key={supplier.id} value={supplier.id}>{supplier.name}</option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                  \r\n                  <div className=\"bg-white p-4 rounded-lg shadow-sm\">\r\n                    <label className=\"block text-sm font-medium mb-2 text-amber-700\">2Ô∏è‚É£ Kategori Se√ß</label>\r\n                    <select\r\n                      className=\"w-full p-2 border rounded-lg bg-amber-50 border-amber-200 text-gray-800\"\r\n                      value={supplierSelectedCategory}\r\n                      onChange={(e) => handleSupplierCategoryChange(e.target.value)}\r\n                      disabled={!selectedSupplierId}\r\n                    >\r\n                      <option value=\"\">Kategori se√ßin...</option>\r\n                      {supplierCategories.map(cat => (\r\n                        <option key={cat} value={cat}>{cat}</option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                  \r\n                  <div className=\"bg-white p-4 rounded-lg shadow-sm\">\r\n                    <label className=\"block text-sm font-medium mb-2 text-amber-700\">3Ô∏è‚É£ √úr√ºn Se√ß</label>\r\n                    <select\r\n                      className=\"w-full p-2 border rounded-lg bg-amber-50 border-amber-200 text-gray-800\"\r\n                      onChange={(e) => {\r\n                        const productId = parseInt(e.target.value);\r\n                        const product = categoryProducts.find(p => p.id === productId);\r\n                        if (product) {\r\n                          addToCart(product);\r\n                          e.target.value = '';\r\n                        }\r\n                      }}\r\n                      disabled={!supplierSelectedCategory || categoryProducts.length === 0}\r\n                    >\r\n                      <option value=\"\">√úr√ºn se√ßin...</option>\r\n                      {categoryProducts.map(product => (\r\n                        <option key={product.id} value={product.id}>\r\n                          {product.name} {product.price && product.price > 0 ? `- ‚Ç¨${product.price.toFixed(2)}` : ''}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n                \r\n                {selectedSupplierId && !supplierSelectedCategory && (\r\n                  <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-6 text-sm text-blue-700\">\r\n                    üí° L√ºtfen bir kategori se√ßin\r\n                  </div>\r\n                )}\r\n                \r\n                {supplierSelectedCategory && categoryProducts.length === 0 && (\r\n                  <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-6 text-sm text-yellow-700\">\r\n                    ‚ö†Ô∏è Bu kategoride √ºr√ºn bulunmuyor\r\n                  </div>\r\n                )}\r\n\r\n                {/* Manuel √úr√ºn Arama */}\r\n                <div className=\"bg-white p-4 rounded-lg shadow-sm mt-6 relative\">\r\n                  <label className=\"block text-sm font-medium mb-2 text-amber-700\">\r\n                    üîç Manuel √úr√ºn Ara\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                    className=\"w-full p-3 border rounded-lg form-input bg-amber-50 border-amber-200 text-gray-800\"\r\n                    placeholder=\"√úr√ºn adƒ±, marka veya model yazƒ±n...\"\r\n                  />\r\n                  {/* Arama sonu√ßlarƒ± dropdown */}\r\n                  {searchTerm && (\r\n                    <div className=\"absolute left-4 right-4 top-full mt-1 bg-white border border-amber-200 rounded-lg shadow-xl z-50 max-h-80 overflow-y-auto\">\r\n                      {getFilteredProducts().length === 0 ? (\r\n                        <div className=\"p-4 text-center text-amber-600\">\r\n                          √úr√ºn bulunamadƒ±\r\n                        </div>\r\n                      ) : (\r\n                        <div className=\"py-2\">\r\n                          {getFilteredProducts().map((product) => (\r\n                            <button\r\n                              key={product.id}\r\n                              onClick={() => {\r\n                                addToCart(product);\r\n                                setSearchTerm(''); // Aramayƒ± temizle\r\n                              }}\r\n                              className=\"w-full px-4 py-3 hover:bg-amber-50 transition-colors text-left border-b border-amber-100 last:border-b-0\"\r\n                            >\r\n                              <div className=\"flex items-center justify-between\">\r\n                                <div className=\"flex-1\">\r\n                                  <div className=\"font-semibold text-amber-800\">{product.name}</div>\r\n                                  <div className=\"text-sm text-amber-600 mt-1\">\r\n                                    {product.brand} {product.model}\r\n                                    {product.category && <span className=\"text-amber-500\"> ‚Ä¢ {product.category}</span>}\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"text-right ml-4\">\r\n                                  <div className=\"text-lg font-bold text-amber-700\">‚Ç¨{product.price?.toFixed(2)}</div>\r\n                                  <div className=\"text-xs text-amber-600\">Stok: {product.stock_quantity}</div>\r\n                                </div>\r\n                              </div>\r\n                            </button>\r\n                          ))}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Cart Summary */}\r\n              <div className=\"bg-white rounded-lg shadow-sm border border-amber-100 mt-6\">\r\n                <div className=\"p-4 border-b border-amber-100 flex justify-between items-center\">\r\n                  <h3 className=\"text-lg font-semibold text-amber-800\">Sepet ({cart.length} √úr√ºn)</h3>\r\n                  {selectedProducts.length > 0 && (\r\n                    <button\r\n                      onClick={handleGroupProducts}\r\n                      className=\"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold transition-colors flex items-center gap-2\"\r\n                    >\r\n                      <span>üì¶</span>\r\n                      <span>Se√ßilenleri Grupla ({selectedProducts.length})</span>\r\n                    </button>\r\n                  )}\r\n                </div>\r\n                <div className=\"p-4\">\r\n                  {cart.length === 0 ? (\r\n                    <p className=\"text-center text-amber-700 py-4\">Sepetiniz bo≈ü</p>\r\n                  ) : (\r\n                    <>\r\n                      <div className=\"overflow-x-auto\">\r\n                        <table className=\"w-full text-sm\">\r\n                          <thead>\r\n                            <tr className=\"border-b-2 border-amber-200\">\r\n                              <th className=\"text-center p-2 text-amber-800 w-10\">\r\n                                <input\r\n                                  type=\"checkbox\"\r\n                                  onChange={(e) => {\r\n                                    if (e.target.checked) {\r\n                                      setSelectedProducts(cart.map(item => item.product.id!));\r\n                                    } else {\r\n                                      setSelectedProducts([]);\r\n                                    }\r\n                                  }}\r\n                                  checked={selectedProducts.length === cart.length && cart.length > 0}\r\n                                  className=\"w-4 h-4 cursor-pointer\"\r\n                                />\r\n                              </th>\r\n                              <th className=\"text-left p-2 text-amber-800\">√úr√ºn</th>\r\n                              <th className=\"text-center p-2 text-amber-800\">Adet</th>\r\n                              <th className=\"text-right p-2 text-amber-800\">√úr√ºn Fiyatƒ±</th>\r\n                              <th className=\"text-right p-2 text-amber-800\">ƒ∞skonto (%)</th>\r\n                              <th className=\"text-right p-2 text-amber-800\">ƒ∞sk. Sonrasƒ±</th>\r\n                              <th className=\"text-right p-2 text-amber-800\">Kar Marjƒ± (%)</th>\r\n                              <th className=\"text-right p-2 text-amber-800\">Satƒ±≈ü Fiyatƒ±</th>\r\n                              <th className=\"text-right p-2 text-amber-800\">Toplam</th>\r\n                              <th className=\"text-center p-2 text-amber-800\">ƒ∞≈ülem</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {cart.map((item) => {\r\n                              const discountedPrice = item.unitPrice * (1 - (item.discount || 0) / 100);\r\n                              const calculatedSalesPrice = item.manualSalesPrice \r\n                                ? item.salesPrice || item.unitPrice\r\n                                : discountedPrice * (1 + (item.margin || 0) / 100);\r\n                              const lineTotal = calculatedSalesPrice * item.quantity;\r\n                              \r\n                              return (\r\n                                <tr key={item.product.id} className=\"border-b border-amber-100 hover:bg-amber-50\">\r\n                                  <td className=\"p-2 text-center\">\r\n                                    <input\r\n                                      type=\"checkbox\"\r\n                                      checked={selectedProducts.includes(item.product.id!)}\r\n                                      onChange={(e) => {\r\n                                        if (e.target.checked) {\r\n                                          setSelectedProducts([...selectedProducts, item.product.id!]);\r\n                                        } else {\r\n                                          setSelectedProducts(selectedProducts.filter(id => id !== item.product.id));\r\n                                        }\r\n                                      }}\r\n                                      className=\"w-4 h-4 cursor-pointer\"\r\n                                    />\r\n                                  </td>\r\n                                  <td className=\"p-2\">\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                      <input\r\n                                        type=\"text\"\r\n                                        value={item.customName || item.product.name}\r\n                                        onChange={(e) => updateProductName(item.product.id!, e.target.value)}\r\n                                        className=\"flex-1 p-1 border rounded font-medium text-amber-800 form-input bg-white border-amber-200\"\r\n                                        placeholder=\"√úr√ºn adƒ±\"\r\n                                      />\r\n                                      {item.isGrouped && item.groupItems && (\r\n                                        <button\r\n                                          onClick={() => setViewingGroupId(item.product.id!)}\r\n                                          className=\"p-1 bg-blue-100 hover:bg-blue-200 text-blue-600 rounded transition-colors\"\r\n                                          title=\"Grup i√ßeriƒüini g√∂r√ºnt√ºle\"\r\n                                        >\r\n                                          üëÅÔ∏è\r\n                                        </button>\r\n                                      )}\r\n                                    </div>\r\n                                    <div className=\"text-xs text-amber-600 mt-1\">\r\n                                      {item.isGrouped ? `${item.groupItems?.length || 0} √ºr√ºn i√ßerir` : `${item.product.brand} ${item.product.model}`}\r\n                                    </div>\r\n                                  </td>\r\n                                  <td className=\"p-2 text-center\">\r\n                                    <input\r\n                                      type=\"number\"\r\n                                      min=\"1\"\r\n                                      value={item.quantity}\r\n                                      onChange={(e) => updateQuantity(item.product.id!, parseInt(e.target.value) || 1)}\r\n                                      className=\"w-16 p-1 border rounded text-center form-input bg-white border-amber-200\"\r\n                                    />\r\n                                  </td>\r\n                                  <td className=\"p-2 text-right\">\r\n                                    <input\r\n                                      type=\"number\"\r\n                                      step=\"0.01\"\r\n                                      min=\"0\"\r\n                                      value={item.unitPrice}\r\n                                      onChange={(e) => updateUnitPrice(item.product.id!, parseFloat(e.target.value) || 0)}\r\n                                      className=\"w-24 p-1 border rounded text-right form-input bg-white border-amber-200\"\r\n                                    />\r\n                                  </td>\r\n                                  <td className=\"p-2 text-right\">\r\n                                    <input\r\n                                      type=\"number\"\r\n                                      step=\"0.1\"\r\n                                      min=\"0\"\r\n                                      max=\"100\"\r\n                                      value={item.discount || 0}\r\n                                      onChange={(e) => updateDiscount(item.product.id!, parseFloat(e.target.value) || 0)}\r\n                                      className=\"w-20 p-1 border rounded text-right form-input bg-white border-amber-200\"\r\n                                    />\r\n                                  </td>\r\n                                  <td className=\"p-2 text-right font-medium text-amber-700\">\r\n                                    ‚Ç¨{discountedPrice.toFixed(2)}\r\n                                  </td>\r\n                                  <td className=\"p-2 text-right\">\r\n                                    <input\r\n                                      type=\"number\"\r\n                                      step=\"0.1\"\r\n                                      min=\"0\"\r\n                                      value={item.margin || 0}\r\n                                      onChange={(e) => updateMargin(item.product.id!, parseFloat(e.target.value) || 0)}\r\n                                      className=\"w-20 p-1 border rounded text-right form-input bg-white border-amber-200\"\r\n                                    />\r\n                                  </td>\r\n                                  <td className=\"p-2 text-right\">\r\n                                    <input\r\n                                      type=\"number\"\r\n                                      step=\"0.01\"\r\n                                      min=\"0\"\r\n                                      value={calculatedSalesPrice.toFixed(2)}\r\n                                      onChange={(e) => updateSalesPrice(item.product.id!, parseFloat(e.target.value) || 0)}\r\n                                      className=\"w-24 p-1 border rounded text-right form-input bg-amber-50 border-amber-300 font-semibold\"\r\n                                    />\r\n                                  </td>\r\n                                  <td className=\"p-2 text-right font-bold text-amber-800\">\r\n                                    ‚Ç¨{lineTotal.toFixed(2)}\r\n                                  </td>\r\n                                  <td className=\"p-2 text-center\">\r\n                                    <button\r\n                                      onClick={() => removeFromCart(item.product.id!)}\r\n                                      className=\"text-red-500 hover:text-red-700 font-bold\"\r\n                                    >\r\n                                      ‚úï\r\n                                    </button>\r\n                                  </td>\r\n                                </tr>\r\n                              );\r\n                            })}\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                      <div className=\"border-t border-amber-200 mt-4 pt-4\">\r\n                        <div className=\"flex justify-between\">\r\n                          <span className=\"font-medium text-amber-800\">Ara Toplam:</span>\r\n                          <span className=\"font-medium text-amber-800\">‚Ç¨{subtotal.toFixed(2)}</span>\r\n                        </div>\r\n                        <div className=\"flex justify-between mt-1\">\r\n                          <span className=\"font-medium text-amber-800\">KDV (%20):</span>\r\n                          <span className=\"font-medium text-amber-800\">‚Ç¨{kdv.toFixed(2)}</span>\r\n                        </div>\r\n                        <div className=\"flex justify-between mt-2 pt-2 border-t border-amber-200\">\r\n                          <span className=\"font-bold text-lg text-amber-800\">Toplam:</span>\r\n                          <span className=\"font-bold text-lg text-amber-800\">‚Ç¨{total.toFixed(2)}</span>\r\n                        </div>\r\n                      </div>\r\n                    </>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Step 4: √ñzet & Onay */}\r\n          {activeStep === 4 && (\r\n            <div className=\"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl shadow-lg p-6 border border-gray-100\">\r\n              <h2 className=\"text-2xl font-bold mb-6 text-gray-800\">√ñzet & Onay</h2>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div className=\"bg-white p-4 rounded-lg shadow-sm\">\r\n                  <h3 className=\"text-lg font-semibold mb-3 text-gray-700\">M√º≈üteri Bilgileri</h3>\r\n                  <p className=\"text-gray-600\">Adƒ±: {customerInfo.name}</p>\r\n                  <p className=\"text-gray-600\">E-posta: {customerInfo.email}</p>\r\n                  <p className=\"text-gray-600\">Telefon: {customerInfo.phone}</p>\r\n                  <p className=\"text-gray-600\">Firma Adƒ±: {customerInfo.company}</p>\r\n                  <p className=\"text-gray-600\">Adres: {customerInfo.address}</p>\r\n                </div>\r\n                <div className=\"bg-white p-4 rounded-lg shadow-sm\">\r\n                  <h3 className=\"text-lg font-semibold mb-3 text-gray-700\">Proje Detaylarƒ±</h3>\r\n                  <p className=\"text-gray-600\">Proje Tasarƒ±mƒ±: {projectDetails.projectDesign}</p>\r\n                  <p className=\"text-gray-600\">Proje A√ßƒ±klamasƒ±: {projectDetails.projectDescription}</p>\r\n                  <p className=\"text-gray-600\">Ba≈ülangƒ±√ß Tarihi: {schedule.startDate}</p>\r\n                  <p className=\"text-gray-600\">Biti≈ü Tarihi: {schedule.endDate}</p>\r\n                  <p className=\"text-gray-600\">Ge√ßerlilik S√ºresi: {conditions.validityPeriod} g√ºn</p>\r\n                  <p className=\"text-gray-600\">Teslimat S√ºresi: {conditions.deliveryTime}</p>\r\n                </div>\r\n                <div className=\"md:col-span-2 bg-white p-4 rounded-lg shadow-sm\">\r\n                  <h3 className=\"text-lg font-semibold mb-3 text-gray-700\">Sepet</h3>\r\n                  <div className=\"space-y-2 max-h-60 overflow-y-auto\">\r\n                    {cart.map((item, index) => (\r\n                      <div key={index} className=\"flex justify-between items-center py-2 border-b border-gray-100\">\r\n                        <div>\r\n                          <span className=\"font-medium text-gray-800\">{item.customName || item.product.name}</span>\r\n                          <span className=\"text-sm text-gray-600 ml-2\">x {item.quantity}</span>\r\n                        </div>\r\n                        <span className=\"font-medium text-gray-800\">\r\n                          ‚Ç¨{((item.salesPrice ?? item.unitPrice) * item.quantity).toFixed(2)}\r\n                        </span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                  <div className=\"mt-4 pt-4 border-t border-gray-200 space-y-2\">\r\n                    {/* Maliyet ve Kar Bilgisi */}\r\n                    <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3\">\r\n                      <div className=\"flex justify-between text-sm mb-1\">\r\n                        <span className=\"font-medium text-blue-800\">üí∞ Toplam Maliyet (ƒ∞skonto Sonrasƒ±):</span>\r\n                        <span className=\"font-bold text-blue-900\">‚Ç¨{totalCost.toFixed(2)}</span>\r\n                      </div>\r\n                      <div className=\"flex justify-between text-sm\">\r\n                        <span className=\"font-medium text-green-800\">üìà Toplam Kar (Marj):</span>\r\n                        <span className=\"font-bold text-green-900\">‚Ç¨{totalProfit.toFixed(2)}</span>\r\n                      </div>\r\n                      <div className=\"flex justify-between text-xs text-gray-600 mt-2 pt-2 border-t border-blue-200\">\r\n                        <span>Kar Oranƒ±:</span>\r\n                        <span className=\"font-semibold\">\r\n                          {totalCost > 0 ? ((totalProfit / totalCost) * 100).toFixed(2) : '0.00'}%\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* M√º≈üteriye G√∂sterilecek Tutarlar */}\r\n                    <div className=\"bg-white border border-gray-200 rounded-lg p-3\">\r\n                      <div className=\"flex justify-between\">\r\n                        <span className=\"font-medium text-gray-800\">Ara Toplam:</span>\r\n                        <span className=\"font-medium text-gray-800\">‚Ç¨{subtotal.toFixed(2)}</span>\r\n                      </div>\r\n                      <div className=\"flex justify-between mt-1\">\r\n                        <span className=\"font-medium text-gray-800\">KDV (%20):</span>\r\n                        <span className=\"font-medium text-gray-800\">‚Ç¨{kdv.toFixed(2)}</span>\r\n                      </div>\r\n                      <div className=\"flex justify-between mt-2 pt-2 border-t border-gray-200\">\r\n                        <span className=\"font-bold text-lg text-gray-800\">Genel Toplam:</span>\r\n                        <span className=\"font-bold text-lg text-gray-800\">‚Ç¨{total.toFixed(2)}</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"mt-6 flex justify-end space-x-3\">\r\n                <button\r\n                  onClick={() => setActiveStep(3)}\r\n                  className=\"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors\"\r\n                >\r\n                  Geri\r\n                </button>\r\n                <button\r\n                  onClick={createQuote}\r\n                  className=\"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\r\n                >\r\n                  Teklif Olu≈ütur ve PDF ƒ∞ndir\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Navigation Buttons */}\r\n          <div className=\"mt-8 flex justify-between\">\r\n            <button\r\n              onClick={() => setActiveStep(Math.max(1, activeStep - 1))}\r\n              disabled={activeStep === 1}\r\n              className={`px-6 py-2 rounded-lg ${\r\n                activeStep === 1\r\n                  ? 'bg-gray-300 cursor-not-allowed'\r\n                  : 'bg-blue-600 text-gray-800 hover:bg-blue-700'\r\n              }`}\r\n            >\r\n              Geri\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveStep(Math.min(4, activeStep + 1))}\r\n              disabled={activeStep === 4}\r\n              className={`px-6 py-2 rounded-lg ${\r\n                activeStep === 4\r\n                  ? 'bg-gray-300 cursor-not-allowed'\r\n                  : 'bg-blue-600 text-gray-800 hover:bg-blue-700'\r\n              }`}\r\n            >\r\n              ƒ∞leri\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </main>\r\n      <Footer />\r\n\r\n      {/* Gruplama Modal */}\r\n      {isGrouping && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-xl shadow-2xl p-6 max-w-md w-full mx-4\">\r\n            <h3 className=\"text-xl font-bold text-gray-800 mb-4\">√úr√ºnleri Grupla</h3>\r\n            <p className=\"text-sm text-gray-600 mb-4\">\r\n              {selectedProducts.length} √ºr√ºn se√ßildi. Bu √ºr√ºnler i√ßin bir grup adƒ± girin:\r\n            </p>\r\n            <input\r\n              type=\"text\"\r\n              value={groupName}\r\n              onChange={(e) => setGroupName(e.target.value)}\r\n              placeholder=\"√ñrn: Soƒüuk Hava Deposu Ekipmanlarƒ±\"\r\n              className=\"w-full p-3 border border-gray-300 rounded-lg mb-4 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-800\"\r\n              autoFocus\r\n            />\r\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4\">\r\n              <p className=\"text-xs text-blue-800\">\r\n                üí° <strong>Not:</strong> Se√ßilen √ºr√ºnler tek bir grup adƒ± altƒ±nda birle≈ütirilecek. \r\n                Grup i√ßindeki √ºr√ºnler PDF'de gizli olacak, sadece grup adƒ± ve toplam fiyat g√∂r√ºnecek.\r\n              </p>\r\n            </div>\r\n            <div className=\"flex justify-end space-x-3\">\r\n              <button\r\n                onClick={() => {\r\n                  setIsGrouping(false);\r\n                  setGroupName('');\r\n                }}\r\n                className=\"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors\"\r\n              >\r\n                ƒ∞ptal\r\n              </button>\r\n              <button\r\n                onClick={createGroup}\r\n                disabled={!groupName.trim()}\r\n                className={`px-4 py-2 rounded-lg transition-colors ${\r\n                  groupName.trim()\r\n                    ? 'bg-blue-500 text-white hover:bg-blue-600'\r\n                    : 'bg-gray-300 text-gray-500 cursor-not-allowed'\r\n                }`}\r\n              >\r\n                Grupla\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Grup ƒ∞√ßeriƒüi G√∂r√ºnt√ºleme Modal */}\r\n      {viewingGroupId !== null && (() => {\r\n        const groupItem = cart.find(item => item.product.id === viewingGroupId);\r\n        if (!groupItem || !groupItem.groupItems) return null;\r\n        \r\n        return (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n            <div className=\"bg-white rounded-xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col\">\r\n              {/* Header */}\r\n              <div className=\"p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50\">\r\n                <div className=\"flex justify-between items-center\">\r\n                  <div>\r\n                    <h3 className=\"text-2xl font-bold text-gray-800\">üì¶ {groupItem.customName || groupItem.product.name}</h3>\r\n                    <p className=\"text-sm text-gray-600 mt-1\">{groupItem.groupItems.length} √ºr√ºn i√ßerir</p>\r\n                  </div>\r\n                  <button\r\n                    onClick={() => setViewingGroupId(null)}\r\n                    className=\"text-gray-500 hover:text-gray-700 text-2xl font-bold\"\r\n                  >\r\n                    ‚úï\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Content */}\r\n              <div className=\"flex-1 overflow-auto p-6\">\r\n                {/* √úr√ºn Ekleme B√∂l√ºm√º */}\r\n                <div className=\"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg\">\r\n                  <h4 className=\"font-semibold text-green-800 mb-3\">‚ûï Gruba Yeni √úr√ºn Ekle</h4>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n                    <div>\r\n                      <label className=\"text-xs text-gray-600 block mb-1\">Kategori</label>\r\n                      <select\r\n                        value={selectedCategory}\r\n                        onChange={(e) => setSelectedCategory(e.target.value)}\r\n                        className=\"w-full p-2 border rounded bg-white text-gray-800\"\r\n                      >\r\n                        <option value=\"\">T√ºm Kategoriler</option>\r\n                        {categories.map((category) => (\r\n                          <option key={category} value={category}>\r\n                            {category}\r\n                          </option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                    <div className=\"relative\">\r\n                      <label className=\"text-xs text-gray-600 block mb-1\">√úr√ºn Ara ve Ekle</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={searchTerm}\r\n                        onChange={(e) => setSearchTerm(e.target.value)}\r\n                        className=\"w-full p-2 border rounded bg-white text-gray-800\"\r\n                        placeholder=\"√úr√ºn adƒ±, marka yazƒ±n...\"\r\n                      />\r\n                      {/* Arama sonu√ßlarƒ± dropdown */}\r\n                      {searchTerm && (\r\n                        <div className=\"absolute left-0 right-0 top-full mt-1 bg-white border border-green-300 rounded-lg shadow-xl z-50 max-h-80 overflow-y-auto\">\r\n                          {getFilteredProducts().length === 0 ? (\r\n                            <div className=\"p-4 text-center text-gray-600\">\r\n                              √úr√ºn bulunamadƒ±\r\n                            </div>\r\n                          ) : (\r\n                            <div className=\"py-2\">\r\n                              {getFilteredProducts().map((product) => (\r\n                                <button\r\n                                  key={product.id}\r\n                                  onClick={() => {\r\n                                    if (viewingGroupId !== null) {\r\n                                      const groupItem = cart.find(item => item.product.id === viewingGroupId);\r\n                                      if (groupItem && groupItem.groupItems) {\r\n                                        const newItem: CartItem = {\r\n                                          product,\r\n                                          quantity: 1,\r\n                                          unitPrice: product.price || 0,\r\n                                          discount: 0,\r\n                                          margin: 0,\r\n                                          salesPrice: product.price || 0,\r\n                                          manualSalesPrice: false\r\n                                        };\r\n                                        const updatedGroupItems = [...groupItem.groupItems, newItem];\r\n                                        setCart(cart.map(item => \r\n                                          item.product.id === viewingGroupId \r\n                                            ? { ...item, groupItems: updatedGroupItems }\r\n                                            : item\r\n                                        ));\r\n                                      }\r\n                                      setSearchTerm(''); // Aramayƒ± temizle\r\n                                    }\r\n                                  }}\r\n                                  className=\"w-full px-4 py-3 hover:bg-green-50 transition-colors text-left border-b border-green-100 last:border-b-0\"\r\n                                >\r\n                                  <div className=\"flex items-center justify-between\">\r\n                                    <div className=\"flex-1\">\r\n                                      <div className=\"font-semibold text-gray-800\">{product.name}</div>\r\n                                      <div className=\"text-sm text-gray-600 mt-1\">\r\n                                        {product.brand} {product.model}\r\n                                        {product.category && <span className=\"text-gray-500\"> ‚Ä¢ {product.category}</span>}\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"text-right ml-4\">\r\n                                      <div className=\"text-lg font-bold text-green-600\">‚Ç¨{product.price?.toFixed(2)}</div>\r\n                                      <div className=\"text-xs text-gray-600\">Stok: {product.stock_quantity}</div>\r\n                                    </div>\r\n                                  </div>\r\n                                </button>\r\n                              ))}\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Mevcut √úr√ºnler */}\r\n                <div className=\"space-y-4\">\r\n                  {groupItem.groupItems.map((subItem, index) => (\r\n                    <div key={index} className=\"border border-gray-200 rounded-lg p-4 bg-gray-50 hover:bg-gray-100 transition-colors\">\r\n                      <div className=\"grid grid-cols-1 md:grid-cols-12 gap-4 items-center\">\r\n                        {/* √úr√ºn Adƒ± */}\r\n                        <div className=\"md:col-span-3\">\r\n                          <input\r\n                            type=\"text\"\r\n                            value={subItem.customName || subItem.product.name}\r\n                            onChange={(e) => {\r\n                              const updatedGroupItems = [...groupItem.groupItems!];\r\n                              updatedGroupItems[index] = { ...subItem, customName: e.target.value };\r\n                              setCart(cart.map(item => \r\n                                item.product.id === viewingGroupId \r\n                                  ? { ...item, groupItems: updatedGroupItems }\r\n                                  : item\r\n                              ));\r\n                            }}\r\n                            className=\"w-full p-2 border rounded font-medium text-gray-800 bg-white\"\r\n                            placeholder=\"√úr√ºn adƒ±\"\r\n                          />\r\n                          <div className=\"text-xs text-gray-500 mt-1\">\r\n                            {subItem.product.brand} {subItem.product.model}\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* Adet */}\r\n                        <div className=\"md:col-span-1\">\r\n                          <label className=\"text-xs text-gray-600 block mb-1\">Adet</label>\r\n                          <input\r\n                            type=\"number\"\r\n                            min=\"1\"\r\n                            value={subItem.quantity}\r\n                            onChange={(e) => {\r\n                              const updatedGroupItems = [...groupItem.groupItems!];\r\n                              updatedGroupItems[index] = { ...subItem, quantity: parseInt(e.target.value) || 1 };\r\n                              setCart(cart.map(item => \r\n                                item.product.id === viewingGroupId \r\n                                  ? { ...item, groupItems: updatedGroupItems }\r\n                                  : item\r\n                              ));\r\n                            }}\r\n                            className=\"w-full p-2 border rounded text-center bg-white text-gray-800\"\r\n                          />\r\n                        </div>\r\n\r\n                        {/* √úr√ºn Fiyatƒ± */}\r\n                        <div className=\"md:col-span-2\">\r\n                          <label className=\"text-xs text-gray-600 block mb-1\">√úr√ºn Fiyatƒ±</label>\r\n                          <input\r\n                            type=\"number\"\r\n                            step=\"0.01\"\r\n                            value={subItem.unitPrice}\r\n                            onChange={(e) => {\r\n                              const newPrice = parseFloat(e.target.value) || 0;\r\n                              const updatedGroupItems = [...groupItem.groupItems!];\r\n                              updatedGroupItems[index] = { \r\n                                ...subItem, \r\n                                unitPrice: newPrice,\r\n                                salesPrice: calculateSalesPrice(newPrice, subItem.discount || 0, subItem.margin || 0)\r\n                              };\r\n                              setCart(cart.map(item => \r\n                                item.product.id === viewingGroupId \r\n                                  ? { ...item, groupItems: updatedGroupItems }\r\n                                  : item\r\n                              ));\r\n                            }}\r\n                            className=\"w-full p-2 border rounded text-right bg-white text-gray-800\"\r\n                          />\r\n                        </div>\r\n\r\n                        {/* ƒ∞skonto */}\r\n                        <div className=\"md:col-span-1\">\r\n                          <label className=\"text-xs text-gray-600 block mb-1\">ƒ∞sk. %</label>\r\n                          <input\r\n                            type=\"number\"\r\n                            step=\"0.1\"\r\n                            value={subItem.discount || 0}\r\n                            onChange={(e) => {\r\n                              const newDiscount = parseFloat(e.target.value) || 0;\r\n                              const updatedGroupItems = [...groupItem.groupItems!];\r\n                              updatedGroupItems[index] = { \r\n                                ...subItem, \r\n                                discount: newDiscount,\r\n                                salesPrice: calculateSalesPrice(subItem.unitPrice, newDiscount, subItem.margin || 0)\r\n                              };\r\n                              setCart(cart.map(item => \r\n                                item.product.id === viewingGroupId \r\n                                  ? { ...item, groupItems: updatedGroupItems }\r\n                                  : item\r\n                              ));\r\n                            }}\r\n                            className=\"w-full p-2 border rounded text-right bg-white text-gray-800\"\r\n                          />\r\n                        </div>\r\n\r\n                        {/* Kar Marjƒ± */}\r\n                        <div className=\"md:col-span-1\">\r\n                          <label className=\"text-xs text-gray-600 block mb-1\">Kar %</label>\r\n                          <input\r\n                            type=\"number\"\r\n                            step=\"0.1\"\r\n                            value={subItem.margin || 0}\r\n                            onChange={(e) => {\r\n                              const newMargin = parseFloat(e.target.value) || 0;\r\n                              const updatedGroupItems = [...groupItem.groupItems!];\r\n                              updatedGroupItems[index] = { \r\n                                ...subItem, \r\n                                margin: newMargin,\r\n                                salesPrice: calculateSalesPrice(subItem.unitPrice, subItem.discount || 0, newMargin)\r\n                              };\r\n                              setCart(cart.map(item => \r\n                                item.product.id === viewingGroupId \r\n                                  ? { ...item, groupItems: updatedGroupItems }\r\n                                  : item\r\n                              ));\r\n                            }}\r\n                            className=\"w-full p-2 border rounded text-right bg-white text-gray-800\"\r\n                          />\r\n                        </div>\r\n\r\n                        {/* Satƒ±≈ü Fiyatƒ± */}\r\n                        <div className=\"md:col-span-2\">\r\n                          <label className=\"text-xs text-gray-600 block mb-1\">Satƒ±≈ü Fiyatƒ±</label>\r\n                          <input\r\n                            type=\"number\"\r\n                            step=\"0.01\"\r\n                            value={(subItem.salesPrice || subItem.unitPrice).toFixed(2)}\r\n                            onChange={(e) => {\r\n                              const updatedGroupItems = [...groupItem.groupItems!];\r\n                              updatedGroupItems[index] = { \r\n                                ...subItem, \r\n                                salesPrice: parseFloat(e.target.value) || 0,\r\n                                manualSalesPrice: true\r\n                              };\r\n                              setCart(cart.map(item => \r\n                                item.product.id === viewingGroupId \r\n                                  ? { ...item, groupItems: updatedGroupItems }\r\n                                  : item\r\n                              ));\r\n                            }}\r\n                            className=\"w-full p-2 border rounded text-right bg-amber-50 font-semibold text-gray-800\"\r\n                          />\r\n                        </div>\r\n\r\n                        {/* Toplam */}\r\n                        <div className=\"md:col-span-1\">\r\n                          <label className=\"text-xs text-gray-600 block mb-1\">Toplam</label>\r\n                          <div className=\"p-2 bg-gray-200 rounded text-right font-bold text-gray-800\">\r\n                            ‚Ç¨{((subItem.salesPrice || subItem.unitPrice) * subItem.quantity).toFixed(2)}\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* Sil Butonu */}\r\n                        <div className=\"md:col-span-1 flex items-end justify-center\">\r\n                          <button\r\n                            onClick={() => {\r\n                              if (groupItem.groupItems!.length <= 1) {\r\n                                alert('Grupta en az 1 √ºr√ºn olmalƒ±dƒ±r!');\r\n                                return;\r\n                              }\r\n                              const updatedGroupItems = groupItem.groupItems!.filter((_, i) => i !== index);\r\n                              setCart(cart.map(item => \r\n                                item.product.id === viewingGroupId \r\n                                  ? { ...item, groupItems: updatedGroupItems }\r\n                                  : item\r\n                              ));\r\n                            }}\r\n                            className=\"p-2 bg-red-100 hover:bg-red-200 text-red-600 rounded transition-colors font-bold\"\r\n                            title=\"√úr√ºnden √ßƒ±kar\"\r\n                          >\r\n                            üóëÔ∏è\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n\r\n                {/* Grup Toplamƒ± */}\r\n                <div className=\"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <span className=\"text-lg font-bold text-gray-800\">Grup Toplamƒ±:</span>\r\n                    <span className=\"text-2xl font-bold text-blue-600\">\r\n                      ‚Ç¨{groupItem.groupItems.reduce((sum, item) => \r\n                        sum + (item.salesPrice || item.unitPrice) * item.quantity, 0\r\n                      ).toFixed(2)}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Footer */}\r\n              <div className=\"p-6 border-t border-gray-200 bg-gray-50\">\r\n                <button\r\n                  onClick={() => setViewingGroupId(null)}\r\n                  className=\"w-full bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg font-semibold transition-colors\"\r\n                >\r\n                  Kapat\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      })()}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AAEA;;;AAPA;;;;;AAwBA,sBAAsB;AACtB,MAAM,QAAQ;IACZ;QAAE,IAAI;QAAG,OAAO;QAAW,MAAM;IAAK;IACtC;QAAE,IAAI;QAAG,OAAO;QAAS,MAAM;IAAK;IACpC;QAAE,IAAI;QAAG,OAAO;QAAW,MAAM;IAAK;IACtC;QAAE,IAAI;QAAG,OAAO;QAAQ,MAAM;IAAI;CACnC;AAEc,SAAS;;IACtB,+BAA+B;IAC/B,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,4LAAQ,EAAC;IAC7C,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,4LAAQ,EAAC;IACzD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,4LAAQ,EAAC;IAC7C,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,4LAAQ,EAAC;IACzD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,4LAAQ,EAAW,EAAE;IACzD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,4LAAQ,EAAC;IACzC,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,4LAAQ,EAAC;IAC/B,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,4LAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,4LAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,4LAAQ,EAAa,EAAE;IACzD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,4LAAQ,EAAa,EAAE;IAC/C,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,4LAAQ,EAAW,EAAE;IACrE,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,4LAAQ,EAAC;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,4LAAQ,EAAC;IAC3C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,4LAAQ,EAAkB;IAClE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,4LAAQ,EAAC;QAC/C,MAAM;QACN,OAAO;QACP,OAAO;QACP,SAAS;QACT,SAAS;IACX;IACA,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,4LAAQ,EAAC;QACnD,eAAe;QACf,oBAAoB;IACtB;IACA,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,4LAAQ,EAAC;QACvC,WAAW;QACX,SAAS;IACX;IACA,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,4LAAQ,EAAC;QAC3C,gBAAgB;QAChB,cAAc;IAChB;IACA,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,4LAAQ,EAAC;IACvC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,4LAAQ,EAAgB;IACpE,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,4LAAQ,EAAgB;IAEpE,iCAAiC;IACjC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,4LAAQ,EAAS;IACzD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,4LAAQ,EAAS;IAC3D,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,4LAAQ,EAAS;IACzD,MAAM,CAAC,4BAA4B,8BAA8B,GAAG,IAAA,4LAAQ,EAAS;IAErF,iCAAiC;IACjC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,4LAAQ,EAAS;IACrD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,4LAAQ,EAAS;IACvD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,4LAAQ,EAAS;IACrD,MAAM,CAAC,0BAA0B,4BAA4B,GAAG,IAAA,4LAAQ,EAAS;IAEjF,iCAAiC;IACjC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,4LAAQ,EAAS;IACnD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,4LAAQ,EAAS;IACrD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,4LAAQ,EAAS;IACnD,MAAM,CAAC,yBAAyB,2BAA2B,GAAG,IAAA,4LAAQ,EAAS;IAE/E,6CAA6C;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,4LAAQ,EAAQ,EAAE;IACpD,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,4LAAQ,EAAgB;IAC5E,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,4LAAQ,EAAW,EAAE;IACzE,MAAM,CAAC,0BAA0B,4BAA4B,GAAG,IAAA,4LAAQ,EAAC;IACzE,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,4LAAQ,EAAY,EAAE;IAEtE,0DAA0D;IAC1D,MAAM,sBAAsB,eAAe,gBAAgB;IAC3D,MAAM,oBAAoB,sBAAsB;IAEhD,MAAM,oBAAoB,aAAa,cAAc;IACrD,MAAM,kBAAkB,oBAAoB;IAE5C,MAAM,mBAAmB,YAAY,aAAa;IAClD,MAAM,iBAAiB,mBAAmB;IAE1C,6BAA6B;IAC7B,MAAM,sBAAsB,IAAM,SAAS,MAAM,CAAC,CAAC;YACjD,MAAM,gBACJ,CAAC,cACD,QAAQ,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW,OACzD,QAAQ,KAAK,IAAI,QAAQ,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW,OAC5E,QAAQ,KAAK,IAAI,QAAQ,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW;YAE/E,MAAM,kBAAkB,CAAC,oBAAoB,QAAQ,QAAQ,KAAK;YAElE,OAAO,iBAAiB;QAC1B;IAEA,IAAA,6LAAS;0BAAC;YACR;YACA;YACA;QACF;yBAAG,EAAE;IAEL,6BAA6B;IAC7B,MAAM,gBAAgB;QACpB,IAAI;YACF,MAAM,WAAW,MAAM,MAAM;YAC7B,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,aAAa;QACf,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,kCAAkC;QAClD;IACF;IAEA,MAAM,uBAAuB,OAAO;QAClC,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,AAAC,kBAA4B,OAAX,YAAW;YAC1D,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,MAAM,OAAO,OAAO,IAAI,CAAC,KAAK,UAAU,EAAE,IAAI;YAC9C,sBAAsB;QACxB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wCAAwC;QACxD;IACF;IAEA,MAAM,uBAAuB,OAAO,YAAoB;QACtD,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,AAAC,kBAA4B,OAAX,YAAW;YAC1D,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,oBAAoB,KAAK,UAAU,CAAC,SAAS,IAAI,EAAE;QACrD,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,uCAAuC;QACvD;IACF;IAEA,MAAM,uBAAuB,CAAC;QAC5B,sBAAsB;QACtB,4BAA4B;QAC5B,oBAAoB,EAAE;QACtB,sBAAsB,EAAE;QACxB,IAAI,YAAY;YACd,qBAAqB;QACvB;IACF;IAEA,MAAM,+BAA+B,CAAC;QACpC,4BAA4B;QAC5B,IAAI,sBAAsB,UAAU;YAClC,qBAAqB,oBAAoB;QAC3C;IACF;IAEA,0BAA0B;IAC1B,MAAM,gBAAgB;QACpB,IAAI;YACF,MAAM,WAAW,MAAM,MAAM;YAC7B,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,YAAY;QACd,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6BAA6B;QAC7C,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,iBAAiB;QACrB,IAAI;YACF,MAAM,WAAW,MAAM,MAAM;YAC7B,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,aAAa;QACf,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gCAAgC;QAChD;IACF;IAEA,kBAAkB;IAClB,MAAM,sBAAsB;QAC1B,IAAI,iBAAiB,MAAM,GAAG,GAAG;YAC/B,MAAM;YACN;QACF;QACA,cAAc;IAChB;IAEA,MAAM,cAAc;QAClB,IAAI,CAAC,WAAW;YACd,MAAM;YACN;QACF;QAEA,MAAM,gBAAgB,KAAK,MAAM,CAAC,CAAA,OAAQ,iBAAiB,QAAQ,CAAC,KAAK,OAAO,CAAC,EAAE;QAEnF,sCAAsC;QACtC,MAAM,aAAa,cAAc,MAAM,CAAC,CAAC,KAAK;gBACzB;YAAnB,MAAM,aAAa,CAAA,mBAAA,KAAK,UAAU,cAAf,8BAAA,mBAAmB,KAAK,SAAS;YACpD,OAAO,MAAO,aAAa,KAAK,QAAQ;QAC1C,GAAG;QAEH,MAAM,cAAwB;YAC5B,SAAS;gBACP,IAAI,KAAK,GAAG;gBACZ,MAAM;gBACN,OAAO;gBACP,UAAU;gBACV,gBAAgB;YAClB;YACA,UAAU;YACV,WAAW;YACX,WAAW;YACX,YAAY;YACZ,YAAY;YACZ,kBAAkB;QACpB;QAEA,QAAQ,CAAA,OAAQ;mBACX,KAAK,MAAM,CAAC,CAAA,OAAQ,CAAC,iBAAiB,QAAQ,CAAC,KAAK,OAAO,CAAC,EAAE;gBACjE;aACD;QAED,oBAAoB,EAAE;QACtB,cAAc;QACd,aAAa;IACf;IAEA,4BAA4B;IAC5B,MAAM,YAAY,CAAC;QACjB,MAAM,eAAe,KAAK,IAAI,CAAC,CAAA,OAAQ,KAAK,OAAO,CAAC,EAAE,KAAK,QAAQ,EAAE;QACrE,IAAI,cAAc;YAChB,QAAQ,KAAK,GAAG,CAAC,CAAA,OACf,KAAK,OAAO,CAAC,EAAE,KAAK,QAAQ,EAAE,GAC1B;oBAAE,GAAG,IAAI;oBAAE,UAAU,KAAK,QAAQ,GAAG;gBAAE,IACvC;QAER,OAAO;YACL,QAAQ;mBACH;gBACH;oBACE;oBACA,UAAU;oBACV,WAAW,QAAQ,KAAK,IAAI;oBAC5B,UAAU;oBACV,QAAQ;oBACR,YAAY;oBACZ,YAAY,QAAQ,KAAK,IAAI;oBAC7B,kBAAkB;gBACpB;aACD;QACH;IACF;IAEA,kCAAkC;IAClC,MAAM,mBAAmB;QACvB,IAAI,uBAAuB,GAAG;YAC5B,MAAM;YACN;QACF;QAEA,IAAI,8BAA8B,GAAG;YACnC,MAAM;YACN;QACF;QAEA,MAAM,sBAAsB,AAAC,UAAwC,OAA/B,oBAAoB,OAAO,CAAC,IAAG;QAErE,MAAM,iBAA0B;YAC9B,IAAI,KAAK,GAAG,KAAK;YACjB,MAAM,AAAC,UAAwC,OAA/B,oBAAoB,OAAO,CAAC,IAAG;YAC/C,OAAO;YACP,UAAU;YACV,gBAAgB;YAChB,MAAM;YACN,aAAa;QACf;QAEA,QAAQ;eACH;YACH;gBACE,SAAS;gBACT,UAAU;gBACV,WAAW;gBACX,UAAU;gBACV,QAAQ;gBACR,YAAY,AAAC,UAAwC,OAA/B,oBAAoB,OAAO,CAAC,IAAG;gBACrD,YAAY;gBACZ,kBAAkB;YACpB;SACD;QAED,2BAA2B;QAC3B,gBAAgB;QAChB,iBAAiB;QACjB,gBAAgB;QAChB,8BAA8B;IAChC;IAEA,kCAAkC;IAClC,MAAM,iBAAiB;QACrB,IAAI,qBAAqB,GAAG;YAC1B,MAAM;YACN;QACF;QAEA,IAAI,4BAA4B,GAAG;YACjC,MAAM;YACN;QACF;QAEA,MAAM,sBAAsB,AAAC,UAAsC,OAA7B,kBAAkB,OAAO,CAAC,IAAG;QAEnE,MAAM,eAAwB;YAC5B,IAAI,KAAK,GAAG,KAAK;YACjB,MAAM,AAAC,UAAsC,OAA7B,kBAAkB,OAAO,CAAC,IAAG;YAC7C,OAAO;YACP,UAAU;YACV,gBAAgB;YAChB,MAAM;YACN,aAAa;QACf;QAEA,QAAQ;eACH;YACH;gBACE,SAAS;gBACT,UAAU;gBACV,WAAW;gBACX,UAAU;gBACV,QAAQ;gBACR,YAAY,AAAC,UAAsC,OAA7B,kBAAkB,OAAO,CAAC,IAAG;gBACnD,YAAY;gBACZ,kBAAkB;YACpB;SACD;QAED,2BAA2B;QAC3B,cAAc;QACd,eAAe;QACf,cAAc;QACd,4BAA4B;IAC9B;IAEA,kCAAkC;IAClC,MAAM,gBAAgB;QACpB,IAAI,oBAAoB,GAAG;YACzB,MAAM;YACN;QACF;QAEA,IAAI,2BAA2B,GAAG;YAChC,MAAM;YACN;QACF;QAEA,MAAM,sBAAsB,AAAC,UAAqC,OAA5B,iBAAiB,OAAO,CAAC,IAAG;QAElE,MAAM,cAAuB;YAC3B,IAAI,KAAK,GAAG,KAAK;YACjB,MAAM,AAAC,UAAqC,OAA5B,iBAAiB,OAAO,CAAC,IAAG;YAC5C,OAAO;YACP,UAAU;YACV,gBAAgB;YAChB,MAAM;YACN,aAAa;QACf;QAEA,QAAQ;eACH;YACH;gBACE,SAAS;gBACT,UAAU;gBACV,WAAW;gBACX,UAAU;gBACV,QAAQ;gBACR,YAAY,AAAC,UAAqC,OAA5B,iBAAiB,OAAO,CAAC,IAAG;gBAClD,YAAY;gBACZ,kBAAkB;YACpB;SACD;QAED,2BAA2B;QAC3B,aAAa;QACb,cAAc;QACd,aAAa;QACb,2BAA2B;IAC7B;IAEA,6BAA6B;IAC7B,MAAM,oBAAoB,CAAC,WAAmB;QAC5C,QAAQ,KAAK,GAAG,CAAC,CAAA,OACf,KAAK,OAAO,CAAC,EAAE,KAAK,YAChB;gBAAE,GAAG,IAAI;gBAAE;YAAW,IACtB;IAER;IAEA,MAAM,iBAAiB,CAAC;QACtB,QAAQ,KAAK,MAAM,CAAC,CAAA,OAAQ,KAAK,OAAO,CAAC,EAAE,KAAK;IAClD;IAEA,MAAM,iBAAiB,CAAC,WAAmB;QACzC,IAAI,YAAY,GAAG;YACjB,eAAe;YACf;QACF;QACA,QAAQ,KAAK,GAAG,CAAC,CAAA,OACf,KAAK,OAAO,CAAC,EAAE,KAAK,YAChB;gBAAE,GAAG,IAAI;gBAAE;YAAS,IACpB;IAER;IAEA,MAAM,kBAAkB,CAAC,WAAmB;QAC1C,QAAQ,KAAK,GAAG,CAAC,CAAA;YACf,IAAI,KAAK,OAAO,CAAC,EAAE,KAAK,WAAW;gBACjC,IAAI,gBAAgB,KAAK,gBAAgB,GACrC,KAAK,UAAU,GACf,oBAAoB,WAAW,KAAK,QAAQ,IAAI,GAAG,KAAK,MAAM,IAAI;gBACtE,OAAO;oBAAE,GAAG,IAAI;oBAAE;oBAAW,YAAY;gBAAc;YACzD;YACA,OAAO;QACT;IACF;IAEA,MAAM,iBAAiB,CAAC,WAAmB;QACzC,QAAQ,KAAK,GAAG,CAAC,CAAA;YACf,IAAI,KAAK,OAAO,CAAC,EAAE,KAAK,WAAW;gBACjC,IAAI,gBAAgB,KAAK,gBAAgB,GACrC,KAAK,UAAU,GACf,oBAAoB,KAAK,SAAS,EAAE,UAAU,KAAK,MAAM,IAAI;gBACjE,OAAO;oBAAE,GAAG,IAAI;oBAAE;oBAAU,YAAY;gBAAc;YACxD;YACA,OAAO;QACT;IACF;IAEA,MAAM,eAAe,CAAC,WAAmB;QACvC,QAAQ,KAAK,GAAG,CAAC,CAAA;YACf,IAAI,KAAK,OAAO,CAAC,EAAE,KAAK,WAAW;gBACjC,IAAI,gBAAgB,KAAK,gBAAgB,GACrC,KAAK,UAAU,GACf,oBAAoB,KAAK,SAAS,EAAE,KAAK,QAAQ,IAAI,GAAG;gBAC5D,OAAO;oBAAE,GAAG,IAAI;oBAAE;oBAAQ,YAAY;gBAAc;YACtD;YACA,OAAO;QACT;IACF;IAEA,MAAM,mBAAmB,CAAC,WAAmB;QAC3C,QAAQ,KAAK,GAAG,CAAC,CAAA;YACf,IAAI,KAAK,OAAO,CAAC,EAAE,KAAK,WAAW;gBACjC,OAAO;oBAAE,GAAG,IAAI;oBAAE;oBAAY,kBAAkB;gBAAK;YACvD;YACA,OAAO;QACT;IACF;IAEA,+CAA+C;IAC/C,MAAM,oBAAoB,CAAC,SAAiB;QAC1C,QAAQ,KAAK,GAAG,CAAC,CAAA;YACf,IAAI,KAAK,OAAO,CAAC,EAAE,KAAK,WAAW,KAAK,SAAS,EAAE;gBACjD,2DAA2D;gBAC3D,MAAM,EAAE,OAAO,EAAE,GAAG,cAAc,GAAG;gBACrC,MAAM,cAAc;oBAAE,GAAG,IAAI;oBAAE,GAAG,YAAY;gBAAC;gBAE/C,4EAA4E;gBAC5E,IAAI,QAAQ,SAAS,KAAK,aAAa,QAAQ,QAAQ,KAAK,aAAa,QAAQ,MAAM,KAAK,WAAW;oBACrG,MAAM,eAAe,QAAQ,SAAS,KAAK,YAAY,QAAQ,SAAS,GAAI,KAAK,SAAS,IAAI;oBAC9F,MAAM,cAAc,QAAQ,QAAQ,KAAK,YAAY,QAAQ,QAAQ,GAAI,KAAK,QAAQ,IAAI;oBAC1F,MAAM,YAAY,QAAQ,MAAM,KAAK,YAAY,QAAQ,MAAM,GAAI,KAAK,MAAM,IAAI;oBAElF,0BAA0B;oBAC1B,MAAM,aAAa,eAAe,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,GAAG;oBAC/D,MAAM,aAAa,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,GAAG;oBAC3D,MAAM,gBAAgB,WAAW,WAAW,OAAO,CAAC;oBAEpD,YAAY,SAAS,GAAG;oBACxB,YAAY,UAAU,GAAG;oBACzB,YAAY,QAAQ,GAAG;oBACvB,YAAY,MAAM,GAAG;gBACvB;gBAEA,OAAO;YACT;YACA,OAAO;QACT;IACF;IAEA,MAAM,oBAAoB,CAAC;QACzB,QAAQ,KAAK,MAAM,CAAC,CAAA,OAAQ,KAAK,OAAO,CAAC,EAAE,KAAK;IAClD;IAEA,mBAAmB;IACnB,MAAM,sBAAsB,CAAC,WAAmB,UAAkB;QAChE,MAAM,aAAa,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,GAAG;QACzD,MAAM,aAAa,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG;QACxD,OAAO,WAAW,WAAW,OAAO,CAAC;IACvC;IAEA,6BAA6B;IAC7B,MAAM,uBAAuB,CAAC;QAC5B,oBAAoB;QACpB,IAAI,YAAY;YACd,MAAM,WAAW,UAAU,IAAI,CAAC,CAAA;oBAAK;uBAAA,EAAA,QAAA,EAAE,EAAE,cAAJ,4BAAA,MAAM,QAAQ,QAAO;;YAC1D,IAAI,UAAU;gBACZ,gBAAgB;oBACd,MAAM,SAAS,IAAI;oBACnB,OAAO,SAAS,KAAK,IAAI;oBACzB,OAAO,SAAS,KAAK,IAAI;oBACzB,SAAS,SAAS,OAAO,IAAI;oBAC7B,SAAS,SAAS,OAAO,IAAI;gBAC/B;YACF;QACF,OAAO;YACL,gBAAgB;gBACd,MAAM;gBACN,OAAO;gBACP,OAAO;gBACP,SAAS;gBACT,SAAS;YACX;QACF;IACF;IAEA,MAAM,sBAAsB,OAAO;QACjC,IAAI;gBAYoB,cACK,eACT,eACF,eACO,eACF;YAhBrB,kBAAkB,UAAU,EAAE;YAE9B,gBAAgB;gBACd,MAAM,UAAU,aAAa,IAAI;gBACjC,OAAO,UAAU,cAAc,IAAI;gBACnC,OAAO,UAAU,cAAc,IAAI;gBACnC,SAAS,UAAU,OAAO,IAAI;gBAC9B,SAAS;YACX;YAEA,MAAM,QAAQ,UAAU,KAAK,IAAI;YACjC,MAAM,gBAAgB,EAAA,eAAA,MAAM,KAAK,CAAC,wCAAZ,mCAAA,YAAwC,CAAC,EAAE,KAAI;YACrE,MAAM,qBAAqB,EAAA,gBAAA,MAAM,KAAK,CAAC,yCAAZ,oCAAA,aAAyC,CAAC,EAAE,KAAI;YAC3E,MAAM,YAAY,EAAA,gBAAA,MAAM,KAAK,CAAC,oCAAZ,oCAAA,aAAoC,CAAC,EAAE,KAAI;YAC7D,MAAM,UAAU,EAAA,gBAAA,MAAM,KAAK,CAAC,gCAAZ,oCAAA,aAAgC,CAAC,EAAE,KAAI;YACvD,MAAM,iBAAiB,EAAA,gBAAA,MAAM,KAAK,CAAC,qCAAZ,oCAAA,aAAqC,CAAC,EAAE,KAAI;YACnE,MAAM,eAAe,EAAA,gBAAA,MAAM,KAAK,CAAC,iCAAZ,oCAAA,aAAiC,CAAC,EAAE,KAAI;YAE7D,kBAAkB;gBAChB;gBACA;YACF;YAEA,YAAY;gBACV;gBACA;YACF;YAEA,cAAc;gBACZ,gBAAgB,eAAe,OAAO,CAAC,QAAQ;gBAC/C;YACF;YAEA,MAAM,WAAW,MAAM,MAAM,AAAC,eAA2B,OAAb,UAAU,EAAE;YACxD,IAAI,SAAS,EAAE,EAAE;oBAEe;gBAD9B,MAAM,UAAU,MAAM,SAAS,IAAI;gBACnC,MAAM,YAAwB,EAAA,iBAAA,QAAQ,KAAK,cAAb,qCAAA,eAAe,GAAG,CAAC,CAAC,OAAc,CAAC;wBAC/D,SAAS;4BACP,IAAI,KAAK,UAAU;4BACnB,MAAM,KAAK,YAAY,IAAI;4BAC3B,OAAO,KAAK,KAAK,IAAI;4BACrB,OAAO,KAAK,KAAK,IAAI;4BACrB,MAAM,KAAK,IAAI,IAAI;4BACnB,UAAU;4BACV,OAAO,KAAK,UAAU;4BACtB,aAAa;4BACb,gBAAgB;4BAChB,gBAAgB;4BAChB,MAAM;wBACR;wBACA,UAAU,KAAK,QAAQ;wBACvB,WAAW,KAAK,UAAU;oBAC5B,CAAC,OAAM,EAAE;gBAET,QAAQ;YACV;YAEA,cAAc;QAChB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;YACtC,MAAM;QACR;IACF;IAEA,MAAM,cAAc;QAClB,IAAI,CAAC,aAAa,IAAI,CAAC,IAAI,IAAI;YAC7B,MAAM;YACN;QACF;QAEA,IAAI,KAAK,MAAM,KAAK,GAAG;YACrB,MAAM;YACN;QACF;QAEA,IAAI;YACF,MAAM,cAAc,KAAK,MAAM,CAAC,CAAC,KAAK,OACpC,MAAM,KAAK,SAAS,GAAG,KAAK,QAAQ,EAAE;YAGxC,MAAM,QAAe;gBACnB,eAAe,aAAa,IAAI;gBAChC,gBAAgB,aAAa,KAAK,IAAI;gBACtC,gBAAgB,aAAa,KAAK,IAAI;gBACtC,SAAS,aAAa,OAAO,IAAI;gBACjC,cAAc;gBACd,QAAQ;gBACR,OAAO,AAAC,kBACE,OADe,eAAe,aAAa,EAAC,sBAEjD,OADK,eAAe,kBAAkB,EAAC,iBAE3C,OADI,SAAS,SAAS,EAAC,aAElB,OADL,SAAS,OAAO,EAAC,kBAEhB,OADI,WAAW,cAAc,EAAC,kBACN,OAAxB,WAAW,YAAY;YAC3B;YAEA,MAAM,QAAqB,KACxB,MAAM,CAAC,CAAA,OAAQ,CAAC,KAAK,SAAS,EAAE,4CAA4C;aAC5E,GAAG,CAAC,CAAA,OAAQ,CAAC;oBACZ,YAAY,KAAK,OAAO,CAAC,EAAE;oBAC3B,UAAU,KAAK,QAAQ;oBACvB,YAAY,KAAK,SAAS;oBAC1B,aAAa,KAAK,SAAS,GAAG,KAAK,QAAQ;oBAC3C,UAAU;gBACZ,CAAC;YAEH,MAAM,WAAW,MAAM,MAAM,eAAe;gBAC1C,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAO;gBAAM;YACtC;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,SAAS,MAAM,SAAS,IAAI;gBAClC,MAAM,UAAU,OAAO,OAAO;gBAE9B,MAAM,UAAwB;oBAC5B,SAAS;oBACT,cAAc;wBACZ,MAAM,aAAa,IAAI;wBACvB,SAAS,aAAa,OAAO;wBAC7B,OAAO,aAAa,KAAK;wBACzB,OAAO,aAAa,KAAK;wBACzB,SAAS,aAAa,OAAO;oBAC/B;oBACA,gBAAgB;wBACd,eAAe,eAAe,aAAa;wBAC3C,oBAAoB,eAAe,kBAAkB;oBACvD;oBACA,UAAU;wBACR,WAAW,SAAS,SAAS;wBAC7B,SAAS,SAAS,OAAO;oBAC3B;oBACA,YAAY;wBACV,gBAAgB,WAAW,cAAc;wBACzC,cAAc,WAAW,YAAY;oBACvC;oBACA,OAAO,KAAK,GAAG,CAAC,CAAA;4BASH,kBACH;+BAVe;4BACvB,SAAS;gCACP,MAAM,KAAK,UAAU,IAAI,KAAK,OAAO,CAAC,IAAI;gCAC1C,OAAO,KAAK,SAAS,GAAG,KAAK,KAAK,OAAO,CAAC,KAAK;gCAC/C,OAAO,KAAK,SAAS,GAAG,KAAK,KAAK,OAAO,CAAC,KAAK;gCAC/C,MAAM,KAAK,SAAS,GAAG,KAAK,KAAK,OAAO,CAAC,IAAI;gCAC7C,aAAa,KAAK,SAAS,GAAG,SAAS,KAAK,OAAO,CAAC,WAAW;4BACjE;4BACA,UAAU,KAAK,QAAQ;4BACvB,WAAW,CAAA,mBAAA,KAAK,UAAU,cAAf,8BAAA,mBAAmB,KAAK,SAAS;4BAC5C,OAAO,CAAC,CAAA,oBAAA,KAAK,UAAU,cAAf,+BAAA,oBAAmB,KAAK,SAAS,IAAI,KAAK,QAAQ;wBAC5D;;oBACA,UAAU,KAAK,MAAM,CAAC,CAAC,KAAK;4BAAgB;+BAAP,MAAM,CAAC,CAAA,mBAAA,KAAK,UAAU,cAAf,8BAAA,mBAAmB,KAAK,SAAS,IAAI,KAAK,QAAQ;uBAAE;oBAChG,KAAK,KAAK,MAAM,CAAC,CAAC,KAAK;4BAAgB;+BAAP,MAAM,CAAC,CAAA,mBAAA,KAAK,UAAU,cAAf,8BAAA,mBAAmB,KAAK,SAAS,IAAI,KAAK,QAAQ;uBAAE,KAAK;oBAChG,OAAO,KAAK,MAAM,CAAC,CAAC,KAAK;4BAAgB;+BAAP,MAAM,CAAC,CAAA,mBAAA,KAAK,UAAU,cAAf,8BAAA,mBAAmB,KAAK,SAAS,IAAI,KAAK,QAAQ;uBAAE,KAAK;oBAClG,WAAW,IAAI,OAAO,WAAW;gBACnC;gBAEA,MAAM,IAAA,oKAAgB,EAAC;gBAEvB,MAAM;gBAEN,QAAQ,EAAE;gBACV,gBAAgB;oBACd,MAAM;oBACN,OAAO;oBACP,OAAO;oBACP,SAAS;oBACT,SAAS;gBACX;gBACA,kBAAkB;oBAChB,eAAe;oBACf,oBAAoB;gBACtB;gBACA,YAAY;oBACV,WAAW;oBACX,SAAS;gBACX;gBACA,cAAc;oBACZ,gBAAgB;oBAChB,cAAc;gBAChB;gBACA,oBAAoB;gBACpB,cAAc;YAChB,OAAO;gBACL,MAAM;YACR;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,MAAM;QACR;IACF;IAEA,sBAAsB;IACtB,IAAA,6LAAS;0BAAC;YACR,oBAAoB;YACpB,cAAc;mBAAI,IAAI,IAAI,SAAS,GAAG;sCAAC,CAAA,IAAK,EAAE,QAAQ;qCAAE,MAAM;sCAAC,CAAC,MAAuB,QAAQ,aAAa,QAAQ;;aAAO;YAE3H,gCAAgC;YAChC,MAAM,qBAAqB,KAAK,MAAM;qDAAC,CAAC,KAAK;wBACpC;2BAAP,MAAM,CAAC,CAAA,mBAAA,KAAK,UAAU,cAAf,8BAAA,mBAAmB,KAAK,SAAS,IAAI,KAAK,QAAQ;;oDAAE;YAC7D,YAAY;YAEZ,MAAM,gBAAgB,qBAAqB;YAC3C,OAAO;YAEP,SAAS,qBAAqB;QAChC;yBAAG;QAAC;QAAU;KAAK;IACnB,MAAM,kBAAkB,WAAW;IAEnC,MAAM,YAAY,KAAK,MAAM,CAAC,CAAC,KAAK;YACjB;QAAjB,MAAM,WAAW,CAAA,iBAAA,KAAK,QAAQ,cAAb,4BAAA,iBAAiB;QAClC,MAAM,iBAAiB,KAAK,SAAS,GAAG,CAAC,IAAI,WAAW,GAAG;QAC3D,OAAO,MAAM,iBAAiB,KAAK,QAAQ;IAC7C,GAAG;IAEH,MAAM,cAAc,KAAK,MAAM,CAAC,CAAC,KAAK;YACnB;QAAjB,MAAM,WAAW,CAAA,iBAAA,KAAK,QAAQ,cAAb,4BAAA,iBAAiB;YACnB;QAAf,MAAM,SAAS,CAAA,eAAA,KAAK,MAAM,cAAX,0BAAA,eAAe;QAC9B,MAAM,iBAAiB,KAAK,SAAS,GAAG,CAAC,IAAI,WAAW,GAAG;QAC3D,MAAM,gBAAgB,iBAAiB,CAAC,SAAS,GAAG;QACpD,OAAO,MAAM,gBAAgB,KAAK,QAAQ;IAC5C,GAAG;IAEH,IAAI,SAAS;QACX,qBACE,gNAAC;YAAI,WAAU;sBACb,cAAA,gNAAC;gBAAI,WAAU;0BAAU;;;;;;;;;;;IAG/B;IAEA,qBACE,gNAAC;QAAI,WAAU;;0BACb,gNAAC,6JAAM;;;;;0BACP,gNAAC;gBAAK,WAAU;;kCAEd,gNAAC;wBAAI,WAAU;kCACb,cAAA,gNAAC;4BAAI,WAAU;sCACb,cAAA,gNAAC;gCAAI,WAAU;0CACZ,MAAM,GAAG,CAAC,CAAC,MAAM,sBAChB,gNAAC;wCAAkB,WAAU;;0DAC3B,gNAAC;gDACC,SAAS,IAAM,cAAc,KAAK,EAAE;gDACpC,WAAW,AAAC,2HAMX,OALC,eAAe,KAAK,EAAE,GAClB,iFACA,aAAa,KAAK,EAAE,GACpB,2EACA;;kEAGN,gNAAC;wDAAK,WAAW,AAAC,YAA0D,OAA/C,eAAe,KAAK,EAAE,GAAG,mBAAmB;kEACtE,KAAK,IAAI;;;;;;kEAEZ,gNAAC;wDAAK,WAAU;kEAA0C,KAAK,KAAK;;;;;;;;;;;;4CAErE,QAAQ,MAAM,MAAM,GAAG,mBACtB,gNAAC;gDAAI,WAAW,AAAC,0DAMhB,OALC,aAAa,KAAK,EAAE,GAChB,mDACA,eAAe,KAAK,EAAE,GACtB,+CACA;;;;;;;uCAtBA,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;kCAgCzB,gNAAC;wBAAI,WAAU;;4BAEZ,eAAe,mBACd,gNAAC;gCAAI,WAAU;;kDACb,gNAAC;wCAAG,WAAU;kDAAwC;;;;;;kDACtD,gNAAC;wCAAI,WAAU;;0DACb,gNAAC;gDAAI,WAAU;;kEACb,gNAAC;wDAAM,WAAU;kEAA+C;;;;;;kEAChE,gNAAC;wDACC,OAAO;wDACP,UAAU,CAAC,IAAM,qBAAqB,EAAE,MAAM,CAAC,KAAK;wDACpD,WAAU;;0EAEV,gNAAC;gEAAO,OAAM;0EAAG;;;;;;4DAChB,UAAU,GAAG,CAAC,CAAC,yBACd,gNAAC;oEAAyB,OAAO,SAAS,EAAE;oEAAE,WAAU;8EACrD,SAAS,IAAI;mEADH,SAAS,EAAE;;;;;;;;;;;;;;;;;0DAM9B,gNAAC;gDAAI,WAAU;;kEACb,gNAAC;wDAAM,WAAU;kEAA+C;;;;;;kEAChE,gNAAC;wDACC,MAAK;wDACL,OAAO,aAAa,IAAI;wDACxB,UAAU,CAAC,IAAM,gBAAgB;gEAAE,GAAG,YAAY;gEAAE,MAAM,EAAE,MAAM,CAAC,KAAK;4DAAC;wDACzE,WAAU;wDACV,aAAY;;;;;;;;;;;;0DAGhB,gNAAC;gDAAI,WAAU;;kEACb,gNAAC;wDAAM,WAAU;kEAA+C;;;;;;kEAChE,gNAAC;wDACC,MAAK;wDACL,OAAO,aAAa,KAAK;wDACzB,UAAU,CAAC,IAAM,gBAAgB;gEAAE,GAAG,YAAY;gEAAE,OAAO,EAAE,MAAM,CAAC,KAAK;4DAAC;wDAC1E,WAAU;wDACV,aAAY;;;;;;;;;;;;0DAGhB,gNAAC;gDAAI,WAAU;;kEACb,gNAAC;wDAAM,WAAU;kEAA+C;;;;;;kEAChE,gNAAC;wDACC,MAAK;wDACL,OAAO,aAAa,KAAK;wDACzB,UAAU,CAAC,IAAM,gBAAgB;gEAAE,GAAG,YAAY;gEAAE,OAAO,EAAE,MAAM,CAAC,KAAK;4DAAC;wDAC1E,WAAU;wDACV,aAAY;;;;;;;;;;;;0DAGhB,gNAAC;gDAAI,WAAU;;kEACb,gNAAC;wDAAM,WAAU;kEAA+C;;;;;;kEAChE,gNAAC;wDACC,MAAK;wDACL,OAAO,aAAa,OAAO;wDAC3B,UAAU,CAAC,IAAM,gBAAgB;gEAAE,GAAG,YAAY;gEAAE,SAAS,EAAE,MAAM,CAAC,KAAK;4DAAC;wDAC5E,WAAU;wDACV,aAAY;;;;;;;;;;;;0DAGhB,gNAAC;gDAAI,WAAU;;kEACb,gNAAC;wDAAM,WAAU;kEAA+C;;;;;;kEAChE,gNAAC;wDACC,OAAO,aAAa,OAAO;wDAC3B,UAAU,CAAC,IAAM,gBAAgB;gEAAE,GAAG,YAAY;gEAAE,SAAS,EAAE,MAAM,CAAC,KAAK;4DAAC;wDAC5E,WAAU;wDACV,MAAM;wDACN,aAAY;;;;;;;;;;;;;;;;;;;;;;;;4BAQrB,eAAe,mBACd,gNAAC;gCAAI,WAAU;;kDACb,gNAAC;wCAAG,WAAU;kDAAyC;;;;;;kDACvD,gNAAC;wCAAI,WAAU;;0DACb,gNAAC;gDAAI,WAAU;;kEACb,gNAAC;wDAAM,WAAU;kEAAgD;;;;;;kEACjE,gNAAC;wDACC,OAAO,eAAe,aAAa;wDACnC,UAAU,CAAC,IACT,kBAAkB;gEAAE,GAAG,cAAc;gEAAE,eAAe,EAAE,MAAM,CAAC,KAAK;4DAAC;wDAEvE,WAAU;wDACV,MAAM;wDACN,aAAY;;;;;;;;;;;;0DAGhB,gNAAC;gDAAI,WAAU;;kEACb,gNAAC;wDAAM,WAAU;kEAAgD;;;;;;kEACjE,gNAAC;wDACC,OAAO,eAAe,kBAAkB;wDACxC,UAAU,CAAC,IACT,kBAAkB;gEAAE,GAAG,cAAc;gEAAE,oBAAoB,EAAE,MAAM,CAAC,KAAK;4DAAC;wDAE5E,WAAU;wDACV,MAAM;wDACN,aAAY;;;;;;;;;;;;0DAGhB,gNAAC;gDAAI,WAAU;;kEACb,gNAAC;wDAAM,WAAU;kEAAgD;;;;;;kEACjE,gNAAC;wDACC,MAAK;wDACL,OAAO,SAAS,SAAS;wDACzB,UAAU,CAAC,IAAM,YAAY;gEAAE,GAAG,QAAQ;gEAAE,WAAW,EAAE,MAAM,CAAC,KAAK;4DAAC;wDACtE,WAAU;;;;;;;;;;;;0DAGd,gNAAC;gDAAI,WAAU;;kEACb,gNAAC;wDAAM,WAAU;kEAAgD;;;;;;kEACjE,gNAAC;wDACC,MAAK;wDACL,OAAO,SAAS,OAAO;wDACvB,UAAU,CAAC,IAAM,YAAY;gEAAE,GAAG,QAAQ;gEAAE,SAAS,EAAE,MAAM,CAAC,KAAK;4DAAC;wDACpE,WAAU;;;;;;;;;;;;0DAGd,gNAAC;gDAAI,WAAU;;kEACb,gNAAC;wDAAM,WAAU;kEAAgD;;;;;;kEACjE,gNAAC;wDACC,MAAK;wDACL,OAAO,WAAW,cAAc;wDAChC,UAAU,CAAC,IAAM,cAAc;gEAAE,GAAG,UAAU;gEAAE,gBAAgB,EAAE,MAAM,CAAC,KAAK;4DAAC;wDAC/E,WAAU;wDACV,KAAI;;;;;;;;;;;;0DAGR,gNAAC;gDAAI,WAAU;;kEACb,gNAAC;wDAAM,WAAU;kEAAgD;;;;;;kEACjE,gNAAC;wDACC,MAAK;wDACL,OAAO,WAAW,YAAY;wDAC9B,UAAU,CAAC,IAAM,cAAc;gEAAE,GAAG,UAAU;gEAAE,cAAc,EAAE,MAAM,CAAC,KAAK;4DAAC;wDAC7E,WAAU;wDACV,aAAY;;;;;;;;;;;;;;;;;;;;;;;;4BAQrB,eAAe,mBACd,gNAAC;gCAAI,WAAU;;kDACb,gNAAC;wCAAG,WAAU;kDAAyC;;;;;;kDACvD,gNAAC;wCAAI,WAAU;;0DAEb,gNAAC;gDAAI,WAAU;;kEACb,gNAAC;wDAAG,WAAU;kEAA4C;;;;;;kEAG1D,gNAAC;wDAAI,WAAU;;0EACb,gNAAC;;kFACC,gNAAC;wEAAM,WAAU;kFAAgD;;;;;;kFACjE,gNAAC;wEACC,MAAK;wEACL,OAAO,gBAAgB;wEACvB,UAAU,CAAC,IAAM,gBAAgB,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;wEAC/D,WAAU;wEACV,aAAY;wEACZ,MAAK;wEACL,KAAI;;;;;;;;;;;;0EAGR,gNAAC;;kFACC,gNAAC;wEAAM,WAAU;kFAAgD;;;;;;kFACjE,gNAAC;wEACC,MAAK;wEACL,OAAO,iBAAiB;wEACxB,UAAU,CAAC,IAAM,iBAAiB,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;wEAChE,WAAU;wEACV,aAAY;wEACZ,MAAK;wEACL,KAAI;;;;;;;;;;;;0EAGR,gNAAC;;kFACC,gNAAC;wEAAM,WAAU;kFAAgD;;;;;;kFACjE,gNAAC;wEACC,MAAK;wEACL,OAAO,gBAAgB;wEACvB,UAAU,CAAC,IAAM,gBAAgB,SAAS,EAAE,MAAM,CAAC,KAAK,KAAK;wEAC7D,WAAU;wEACV,aAAY;wEACZ,KAAI;;;;;;;;;;;;0EAGR,gNAAC;;kFACC,gNAAC;wEAAM,WAAU;kFAAgD;;;;;;kFACjE,gNAAC;wEACC,MAAK;wEACL,OAAO,8BAA8B;wEACrC,UAAU,CAAC,IAAM,8BAA8B,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;wEAC7E,WAAU;wEACV,aAAY;wEACZ,MAAK;wEACL,KAAI;;;;;;;;;;;;0EAGR,gNAAC;gEAAI,WAAU;0EACb,cAAA,gNAAC;oEAAI,WAAU;;sFACb,gNAAC;4EAAE,WAAU;;gFAAuC;gFAC1C,CAAC,eAAe,gBAAgB,YAAY,EAAE,OAAO,CAAC;gFAAG;;;;;;;sFAEnE,gNAAC;4EAAE,WAAU;;gFAAyB;gFAC3B,CAAC,AAAC,eAAe,gBAAgB,eAAgB,0BAA0B,EAAE,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;kEAOtG,gNAAC;wDAAI,WAAU;;0EACb,gNAAC;;kFACC,gNAAC;wEAAM,WAAU;kFAAgD;;;;;;kFACjE,gNAAC;wEACC,MAAK;wEACL,OAAO,cAAc;wEACrB,UAAU,CAAC,IAAM,cAAc,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;wEAC7D,WAAU;wEACV,aAAY;wEACZ,MAAK;wEACL,KAAI;;;;;;;;;;;;0EAGR,gNAAC;;kFACC,gNAAC;wEAAM,WAAU;kFAAgD;;;;;;kFACjE,gNAAC;wEACC,MAAK;wEACL,OAAO,eAAe;wEACtB,UAAU,CAAC,IAAM,eAAe,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;wEAC9D,WAAU;wEACV,aAAY;wEACZ,MAAK;wEACL,KAAI;;;;;;;;;;;;0EAGR,gNAAC;;kFACC,gNAAC;wEAAM,WAAU;kFAAgD;;;;;;kFACjE,gNAAC;wEACC,MAAK;wEACL,OAAO,cAAc;wEACrB,UAAU,CAAC,IAAM,cAAc,SAAS,EAAE,MAAM,CAAC,KAAK,KAAK;wEAC3D,WAAU;wEACV,aAAY;wEACZ,KAAI;;;;;;;;;;;;0EAGR,gNAAC;;kFACC,gNAAC;wEAAM,WAAU;kFAAgD;;;;;;kFACjE,gNAAC;wEACC,MAAK;wEACL,OAAO,4BAA4B;wEACnC,UAAU,CAAC,IAAM,4BAA4B,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;wEAC3E,WAAU;wEACV,aAAY;wEACZ,MAAK;wEACL,KAAI;;;;;;;;;;;;0EAGR,gNAAC;gEAAI,WAAU;0EACb,cAAA,gNAAC;oEAAI,WAAU;;sFACb,gNAAC;4EAAE,WAAU;;gFAAuC;gFAC1C,CAAC,aAAa,cAAc,UAAU,EAAE,OAAO,CAAC;gFAAG;;;;;;;sFAE7D,gNAAC;4EAAE,WAAU;;gFAAyB;gFAC3B,CAAC,AAAC,aAAa,cAAc,aAAc,wBAAwB,EAAE,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;kEAO9F,gNAAC;wDAAI,WAAU;;0EACb,gNAAC;;kFACC,gNAAC;wEAAM,WAAU;kFAAgD;;;;;;kFACjE,gNAAC;wEACC,MAAK;wEACL,OAAO,aAAa;wEACpB,UAAU,CAAC,IAAM,aAAa,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;wEAC5D,WAAU;wEACV,aAAY;wEACZ,MAAK;wEACL,KAAI;;;;;;;;;;;;0EAGR,gNAAC;;kFACC,gNAAC;wEAAM,WAAU;kFAAgD;;;;;;kFACjE,gNAAC;wEACC,MAAK;wEACL,OAAO,cAAc;wEACrB,UAAU,CAAC,IAAM,cAAc,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;wEAC7D,WAAU;wEACV,aAAY;wEACZ,MAAK;wEACL,KAAI;;;;;;;;;;;;0EAGR,gNAAC;;kFACC,gNAAC;wEAAM,WAAU;kFAAgD;;;;;;kFACjE,gNAAC;wEACC,MAAK;wEACL,OAAO,aAAa;wEACpB,UAAU,CAAC,IAAM,aAAa,SAAS,EAAE,MAAM,CAAC,KAAK,KAAK;wEAC1D,WAAU;wEACV,aAAY;wEACZ,KAAI;;;;;;;;;;;;0EAGR,gNAAC;;kFACC,gNAAC;wEAAM,WAAU;kFAAgD;;;;;;kFACjE,gNAAC;wEACC,MAAK;wEACL,OAAO,2BAA2B;wEAClC,UAAU,CAAC,IAAM,2BAA2B,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;wEAC1E,WAAU;wEACV,aAAY;wEACZ,MAAK;wEACL,KAAI;;;;;;;;;;;;0EAGR,gNAAC;gEAAI,WAAU;0EACb,cAAA,gNAAC;oEAAI,WAAU;;sFACb,gNAAC;4EAAE,WAAU;;gFAAuC;gFAC1C,CAAC,YAAY,aAAa,SAAS,EAAE,OAAO,CAAC;gFAAG;;;;;;;sFAE1D,gNAAC;4EAAE,WAAU;;gFAAyB;gFAC3B,CAAC,AAAC,YAAY,aAAa,YAAa,uBAAuB,EAAE,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;kEAO1F,gNAAC;wDAAI,WAAU;;0EACb,gNAAC;gEACC,SAAS,IAAM;gEACf,WAAU;0EACX;;;;;;0EAGD,gNAAC;gEACC,SAAS,IAAM;gEACf,WAAU;0EACX;;;;;;0EAGD,gNAAC;gEACC,SAAS,IAAM;gEACf,WAAU;0EACX;;;;;;;;;;;;;;;;;;0DAOL,gNAAC;gDAAI,WAAU;;kEACb,gNAAC;wDAAI,WAAU;;0EACb,gNAAC;gEAAM,WAAU;0EAAgD;;;;;;0EACjE,gNAAC;gEACC,WAAU;gEACV,OAAO,sBAAsB;gEAC7B,UAAU,CAAC,IAAM,qBAAqB,SAAS,EAAE,MAAM,CAAC,KAAK;;kFAE7D,gNAAC;wEAAO,OAAM;kFAAG;;;;;;oEAChB,UAAU,GAAG,CAAC,CAAA,yBACb,gNAAC;4EAAyB,OAAO,SAAS,EAAE;sFAAG,SAAS,IAAI;2EAA/C,SAAS,EAAE;;;;;;;;;;;;;;;;;kEAK9B,gNAAC;wDAAI,WAAU;;0EACb,gNAAC;gEAAM,WAAU;0EAAgD;;;;;;0EACjE,gNAAC;gEACC,WAAU;gEACV,OAAO;gEACP,UAAU,CAAC,IAAM,6BAA6B,EAAE,MAAM,CAAC,KAAK;gEAC5D,UAAU,CAAC;;kFAEX,gNAAC;wEAAO,OAAM;kFAAG;;;;;;oEAChB,mBAAmB,GAAG,CAAC,CAAA,oBACtB,gNAAC;4EAAiB,OAAO;sFAAM;2EAAlB;;;;;;;;;;;;;;;;;kEAKnB,gNAAC;wDAAI,WAAU;;0EACb,gNAAC;gEAAM,WAAU;0EAAgD;;;;;;0EACjE,gNAAC;gEACC,WAAU;gEACV,UAAU,CAAC;oEACT,MAAM,YAAY,SAAS,EAAE,MAAM,CAAC,KAAK;oEACzC,MAAM,UAAU,iBAAiB,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;oEACpD,IAAI,SAAS;wEACX,UAAU;wEACV,EAAE,MAAM,CAAC,KAAK,GAAG;oEACnB;gEACF;gEACA,UAAU,CAAC,4BAA4B,iBAAiB,MAAM,KAAK;;kFAEnE,gNAAC;wEAAO,OAAM;kFAAG;;;;;;oEAChB,iBAAiB,GAAG,CAAC,CAAA,wBACpB,gNAAC;4EAAwB,OAAO,QAAQ,EAAE;;gFACvC,QAAQ,IAAI;gFAAC;gFAAE,QAAQ,KAAK,IAAI,QAAQ,KAAK,GAAG,IAAI,AAAC,MAA8B,OAAzB,QAAQ,KAAK,CAAC,OAAO,CAAC,MAAO;;2EAD7E,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;;4CAQ9B,sBAAsB,CAAC,0CACtB,gNAAC;gDAAI,WAAU;0DAA8E;;;;;;4CAK9F,4BAA4B,iBAAiB,MAAM,KAAK,mBACvD,gNAAC;gDAAI,WAAU;0DAAoF;;;;;;0DAMrG,gNAAC;gDAAI,WAAU;;kEACb,gNAAC;wDAAM,WAAU;kEAAgD;;;;;;kEAGjE,gNAAC;wDACC,MAAK;wDACL,OAAO;wDACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;wDAC7C,WAAU;wDACV,aAAY;;;;;;oDAGb,4BACC,gNAAC;wDAAI,WAAU;kEACZ,sBAAsB,MAAM,KAAK,kBAChC,gNAAC;4DAAI,WAAU;sEAAiC;;;;;iFAIhD,gNAAC;4DAAI,WAAU;sEACZ,sBAAsB,GAAG,CAAC,CAAC;oEAkBgC;qFAjB1D,gNAAC;oEAEC,SAAS;wEACP,UAAU;wEACV,cAAc,KAAK,kBAAkB;oEACvC;oEACA,WAAU;8EAEV,cAAA,gNAAC;wEAAI,WAAU;;0FACb,gNAAC;gFAAI,WAAU;;kGACb,gNAAC;wFAAI,WAAU;kGAAgC,QAAQ,IAAI;;;;;;kGAC3D,gNAAC;wFAAI,WAAU;;4FACZ,QAAQ,KAAK;4FAAC;4FAAE,QAAQ,KAAK;4FAC7B,QAAQ,QAAQ,kBAAI,gNAAC;gGAAK,WAAU;;oGAAiB;oGAAI,QAAQ,QAAQ;;;;;;;;;;;;;;;;;;;0FAG9E,gNAAC;gFAAI,WAAU;;kGACb,gNAAC;wFAAI,WAAU;;4FAAmC;6FAAE,iBAAA,QAAQ,KAAK,cAAb,qCAAA,eAAe,OAAO,CAAC;;;;;;;kGAC3E,gNAAC;wFAAI,WAAU;;4FAAyB;4FAAO,QAAQ,cAAc;;;;;;;;;;;;;;;;;;;mEAjBpE,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;kDA8B/B,gNAAC;wCAAI,WAAU;;0DACb,gNAAC;gDAAI,WAAU;;kEACb,gNAAC;wDAAG,WAAU;;4DAAuC;4DAAQ,KAAK,MAAM;4DAAC;;;;;;;oDACxE,iBAAiB,MAAM,GAAG,mBACzB,gNAAC;wDACC,SAAS;wDACT,WAAU;;0EAEV,gNAAC;0EAAK;;;;;;0EACN,gNAAC;;oEAAK;oEAAqB,iBAAiB,MAAM;oEAAC;;;;;;;;;;;;;;;;;;;0DAIzD,gNAAC;gDAAI,WAAU;0DACZ,KAAK,MAAM,KAAK,kBACf,gNAAC;oDAAE,WAAU;8DAAkC;;;;;yEAE/C;;sEACE,gNAAC;4DAAI,WAAU;sEACb,cAAA,gNAAC;gEAAM,WAAU;;kFACf,gNAAC;kFACC,cAAA,gNAAC;4EAAG,WAAU;;8FACZ,gNAAC;oFAAG,WAAU;8FACZ,cAAA,gNAAC;wFACC,MAAK;wFACL,UAAU,CAAC;4FACT,IAAI,EAAE,MAAM,CAAC,OAAO,EAAE;gGACpB,oBAAoB,KAAK,GAAG,CAAC,CAAA,OAAQ,KAAK,OAAO,CAAC,EAAE;4FACtD,OAAO;gGACL,oBAAoB,EAAE;4FACxB;wFACF;wFACA,SAAS,iBAAiB,MAAM,KAAK,KAAK,MAAM,IAAI,KAAK,MAAM,GAAG;wFAClE,WAAU;;;;;;;;;;;8FAGd,gNAAC;oFAAG,WAAU;8FAA+B;;;;;;8FAC7C,gNAAC;oFAAG,WAAU;8FAAiC;;;;;;8FAC/C,gNAAC;oFAAG,WAAU;8FAAgC;;;;;;8FAC9C,gNAAC;oFAAG,WAAU;8FAAgC;;;;;;8FAC9C,gNAAC;oFAAG,WAAU;8FAAgC;;;;;;8FAC9C,gNAAC;oFAAG,WAAU;8FAAgC;;;;;;8FAC9C,gNAAC;oFAAG,WAAU;8FAAgC;;;;;;8FAC9C,gNAAC;oFAAG,WAAU;8FAAgC;;;;;;8FAC9C,gNAAC;oFAAG,WAAU;8FAAiC;;;;;;;;;;;;;;;;;kFAGnD,gNAAC;kFACE,KAAK,GAAG,CAAC,CAAC;gFA2CoB;4EA1C7B,MAAM,kBAAkB,KAAK,SAAS,GAAG,CAAC,IAAI,CAAC,KAAK,QAAQ,IAAI,CAAC,IAAI,GAAG;4EACxE,MAAM,uBAAuB,KAAK,gBAAgB,GAC9C,KAAK,UAAU,IAAI,KAAK,SAAS,GACjC,kBAAkB,CAAC,IAAI,CAAC,KAAK,MAAM,IAAI,CAAC,IAAI,GAAG;4EACnD,MAAM,YAAY,uBAAuB,KAAK,QAAQ;4EAEtD,qBACE,gNAAC;gFAAyB,WAAU;;kGAClC,gNAAC;wFAAG,WAAU;kGACZ,cAAA,gNAAC;4FACC,MAAK;4FACL,SAAS,iBAAiB,QAAQ,CAAC,KAAK,OAAO,CAAC,EAAE;4FAClD,UAAU,CAAC;gGACT,IAAI,EAAE,MAAM,CAAC,OAAO,EAAE;oGACpB,oBAAoB;2GAAI;wGAAkB,KAAK,OAAO,CAAC,EAAE;qGAAE;gGAC7D,OAAO;oGACL,oBAAoB,iBAAiB,MAAM,CAAC,CAAA,KAAM,OAAO,KAAK,OAAO,CAAC,EAAE;gGAC1E;4FACF;4FACA,WAAU;;;;;;;;;;;kGAGd,gNAAC;wFAAG,WAAU;;0GACZ,gNAAC;gGAAI,WAAU;;kHACb,gNAAC;wGACC,MAAK;wGACL,OAAO,KAAK,UAAU,IAAI,KAAK,OAAO,CAAC,IAAI;wGAC3C,UAAU,CAAC,IAAM,kBAAkB,KAAK,OAAO,CAAC,EAAE,EAAG,EAAE,MAAM,CAAC,KAAK;wGACnE,WAAU;wGACV,aAAY;;;;;;oGAEb,KAAK,SAAS,IAAI,KAAK,UAAU,kBAChC,gNAAC;wGACC,SAAS,IAAM,kBAAkB,KAAK,OAAO,CAAC,EAAE;wGAChD,WAAU;wGACV,OAAM;kHACP;;;;;;;;;;;;0GAKL,gNAAC;gGAAI,WAAU;0GACZ,KAAK,SAAS,GAAG,AAAC,GAA+B,OAA7B,EAAA,mBAAA,KAAK,UAAU,cAAf,uCAAA,iBAAiB,MAAM,KAAI,GAAE,kBAAgB,AAAC,GAAwB,OAAtB,KAAK,OAAO,CAAC,KAAK,EAAC,KAAsB,OAAnB,KAAK,OAAO,CAAC,KAAK;;;;;;;;;;;;kGAGjH,gNAAC;wFAAG,WAAU;kGACZ,cAAA,gNAAC;4FACC,MAAK;4FACL,KAAI;4FACJ,OAAO,KAAK,QAAQ;4FACpB,UAAU,CAAC,IAAM,eAAe,KAAK,OAAO,CAAC,EAAE,EAAG,SAAS,EAAE,MAAM,CAAC,KAAK,KAAK;4FAC9E,WAAU;;;;;;;;;;;kGAGd,gNAAC;wFAAG,WAAU;kGACZ,cAAA,gNAAC;4FACC,MAAK;4FACL,MAAK;4FACL,KAAI;4FACJ,OAAO,KAAK,SAAS;4FACrB,UAAU,CAAC,IAAM,gBAAgB,KAAK,OAAO,CAAC,EAAE,EAAG,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;4FACjF,WAAU;;;;;;;;;;;kGAGd,gNAAC;wFAAG,WAAU;kGACZ,cAAA,gNAAC;4FACC,MAAK;4FACL,MAAK;4FACL,KAAI;4FACJ,KAAI;4FACJ,OAAO,KAAK,QAAQ,IAAI;4FACxB,UAAU,CAAC,IAAM,eAAe,KAAK,OAAO,CAAC,EAAE,EAAG,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;4FAChF,WAAU;;;;;;;;;;;kGAGd,gNAAC;wFAAG,WAAU;;4FAA4C;4FACtD,gBAAgB,OAAO,CAAC;;;;;;;kGAE5B,gNAAC;wFAAG,WAAU;kGACZ,cAAA,gNAAC;4FACC,MAAK;4FACL,MAAK;4FACL,KAAI;4FACJ,OAAO,KAAK,MAAM,IAAI;4FACtB,UAAU,CAAC,IAAM,aAAa,KAAK,OAAO,CAAC,EAAE,EAAG,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;4FAC9E,WAAU;;;;;;;;;;;kGAGd,gNAAC;wFAAG,WAAU;kGACZ,cAAA,gNAAC;4FACC,MAAK;4FACL,MAAK;4FACL,KAAI;4FACJ,OAAO,qBAAqB,OAAO,CAAC;4FACpC,UAAU,CAAC,IAAM,iBAAiB,KAAK,OAAO,CAAC,EAAE,EAAG,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;4FAClF,WAAU;;;;;;;;;;;kGAGd,gNAAC;wFAAG,WAAU;;4FAA0C;4FACpD,UAAU,OAAO,CAAC;;;;;;;kGAEtB,gNAAC;wFAAG,WAAU;kGACZ,cAAA,gNAAC;4FACC,SAAS,IAAM,eAAe,KAAK,OAAO,CAAC,EAAE;4FAC7C,WAAU;sGACX;;;;;;;;;;;;+EAlGI,KAAK,OAAO,CAAC,EAAE;;;;;wEAwG5B;;;;;;;;;;;;;;;;;sEAIN,gNAAC;4DAAI,WAAU;;8EACb,gNAAC;oEAAI,WAAU;;sFACb,gNAAC;4EAAK,WAAU;sFAA6B;;;;;;sFAC7C,gNAAC;4EAAK,WAAU;;gFAA6B;gFAAE,SAAS,OAAO,CAAC;;;;;;;;;;;;;8EAElE,gNAAC;oEAAI,WAAU;;sFACb,gNAAC;4EAAK,WAAU;sFAA6B;;;;;;sFAC7C,gNAAC;4EAAK,WAAU;;gFAA6B;gFAAE,IAAI,OAAO,CAAC;;;;;;;;;;;;;8EAE7D,gNAAC;oEAAI,WAAU;;sFACb,gNAAC;4EAAK,WAAU;sFAAmC;;;;;;sFACnD,gNAAC;4EAAK,WAAU;;gFAAmC;gFAAE,MAAM,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4BAWlF,eAAe,mBACd,gNAAC;gCAAI,WAAU;;kDACb,gNAAC;wCAAG,WAAU;kDAAwC;;;;;;kDACtD,gNAAC;wCAAI,WAAU;;0DACb,gNAAC;gDAAI,WAAU;;kEACb,gNAAC;wDAAG,WAAU;kEAA2C;;;;;;kEACzD,gNAAC;wDAAE,WAAU;;4DAAgB;4DAAM,aAAa,IAAI;;;;;;;kEACpD,gNAAC;wDAAE,WAAU;;4DAAgB;4DAAU,aAAa,KAAK;;;;;;;kEACzD,gNAAC;wDAAE,WAAU;;4DAAgB;4DAAU,aAAa,KAAK;;;;;;;kEACzD,gNAAC;wDAAE,WAAU;;4DAAgB;4DAAY,aAAa,OAAO;;;;;;;kEAC7D,gNAAC;wDAAE,WAAU;;4DAAgB;4DAAQ,aAAa,OAAO;;;;;;;;;;;;;0DAE3D,gNAAC;gDAAI,WAAU;;kEACb,gNAAC;wDAAG,WAAU;kEAA2C;;;;;;kEACzD,gNAAC;wDAAE,WAAU;;4DAAgB;4DAAiB,eAAe,aAAa;;;;;;;kEAC1E,gNAAC;wDAAE,WAAU;;4DAAgB;4DAAmB,eAAe,kBAAkB;;;;;;;kEACjF,gNAAC;wDAAE,WAAU;;4DAAgB;4DAAmB,SAAS,SAAS;;;;;;;kEAClE,gNAAC;wDAAE,WAAU;;4DAAgB;4DAAe,SAAS,OAAO;;;;;;;kEAC5D,gNAAC;wDAAE,WAAU;;4DAAgB;4DAAoB,WAAW,cAAc;4DAAC;;;;;;;kEAC3E,gNAAC;wDAAE,WAAU;;4DAAgB;4DAAkB,WAAW,YAAY;;;;;;;;;;;;;0DAExE,gNAAC;gDAAI,WAAU;;kEACb,gNAAC;wDAAG,WAAU;kEAA2C;;;;;;kEACzD,gNAAC;wDAAI,WAAU;kEACZ,KAAK,GAAG,CAAC,CAAC,MAAM;gEAOP;iFANR,gNAAC;gEAAgB,WAAU;;kFACzB,gNAAC;;0FACC,gNAAC;gFAAK,WAAU;0FAA6B,KAAK,UAAU,IAAI,KAAK,OAAO,CAAC,IAAI;;;;;;0FACjF,gNAAC;gFAAK,WAAU;;oFAA6B;oFAAG,KAAK,QAAQ;;;;;;;;;;;;;kFAE/D,gNAAC;wEAAK,WAAU;;4EAA4B;4EACxC,CAAC,CAAC,CAAA,mBAAA,KAAK,UAAU,cAAf,8BAAA,mBAAmB,KAAK,SAAS,IAAI,KAAK,QAAQ,EAAE,OAAO,CAAC;;;;;;;;+DAN1D;;;;;;;;;;;kEAWd,gNAAC;wDAAI,WAAU;;0EAEb,gNAAC;gEAAI,WAAU;;kFACb,gNAAC;wEAAI,WAAU;;0FACb,gNAAC;gFAAK,WAAU;0FAA4B;;;;;;0FAC5C,gNAAC;gFAAK,WAAU;;oFAA0B;oFAAE,UAAU,OAAO,CAAC;;;;;;;;;;;;;kFAEhE,gNAAC;wEAAI,WAAU;;0FACb,gNAAC;gFAAK,WAAU;0FAA6B;;;;;;0FAC7C,gNAAC;gFAAK,WAAU;;oFAA2B;oFAAE,YAAY,OAAO,CAAC;;;;;;;;;;;;;kFAEnE,gNAAC;wEAAI,WAAU;;0FACb,gNAAC;0FAAK;;;;;;0FACN,gNAAC;gFAAK,WAAU;;oFACb,YAAY,IAAI,CAAC,AAAC,cAAc,YAAa,GAAG,EAAE,OAAO,CAAC,KAAK;oFAAO;;;;;;;;;;;;;;;;;;;0EAM7E,gNAAC;gEAAI,WAAU;;kFACb,gNAAC;wEAAI,WAAU;;0FACb,gNAAC;gFAAK,WAAU;0FAA4B;;;;;;0FAC5C,gNAAC;gFAAK,WAAU;;oFAA4B;oFAAE,SAAS,OAAO,CAAC;;;;;;;;;;;;;kFAEjE,gNAAC;wEAAI,WAAU;;0FACb,gNAAC;gFAAK,WAAU;0FAA4B;;;;;;0FAC5C,gNAAC;gFAAK,WAAU;;oFAA4B;oFAAE,IAAI,OAAO,CAAC;;;;;;;;;;;;;kFAE5D,gNAAC;wEAAI,WAAU;;0FACb,gNAAC;gFAAK,WAAU;0FAAkC;;;;;;0FAClD,gNAAC;gFAAK,WAAU;;oFAAkC;oFAAE,MAAM,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kDAM5E,gNAAC;wCAAI,WAAU;;0DACb,gNAAC;gDACC,SAAS,IAAM,cAAc;gDAC7B,WAAU;0DACX;;;;;;0DAGD,gNAAC;gDACC,SAAS;gDACT,WAAU;0DACX;;;;;;;;;;;;;;;;;;0CAQP,gNAAC;gCAAI,WAAU;;kDACb,gNAAC;wCACC,SAAS,IAAM,cAAc,KAAK,GAAG,CAAC,GAAG,aAAa;wCACtD,UAAU,eAAe;wCACzB,WAAW,AAAC,wBAIX,OAHC,eAAe,IACX,mCACA;kDAEP;;;;;;kDAGD,gNAAC;wCACC,SAAS,IAAM,cAAc,KAAK,GAAG,CAAC,GAAG,aAAa;wCACtD,UAAU,eAAe;wCACzB,WAAW,AAAC,wBAIX,OAHC,eAAe,IACX,mCACA;kDAEP;;;;;;;;;;;;;;;;;;;;;;;;0BAMP,gNAAC,6JAAM;;;;;YAGN,4BACC,gNAAC;gBAAI,WAAU;0BACb,cAAA,gNAAC;oBAAI,WAAU;;sCACb,gNAAC;4BAAG,WAAU;sCAAuC;;;;;;sCACrD,gNAAC;4BAAE,WAAU;;gCACV,iBAAiB,MAAM;gCAAC;;;;;;;sCAE3B,gNAAC;4BACC,MAAK;4BACL,OAAO;4BACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;4BAC5C,aAAY;4BACZ,WAAU;4BACV,SAAS;;;;;;sCAEX,gNAAC;4BAAI,WAAU;sCACb,cAAA,gNAAC;gCAAE,WAAU;;oCAAwB;kDAChC,gNAAC;kDAAO;;;;;;oCAAa;;;;;;;;;;;;sCAI5B,gNAAC;4BAAI,WAAU;;8CACb,gNAAC;oCACC,SAAS;wCACP,cAAc;wCACd,aAAa;oCACf;oCACA,WAAU;8CACX;;;;;;8CAGD,gNAAC;oCACC,SAAS;oCACT,UAAU,CAAC,UAAU,IAAI;oCACzB,WAAW,AAAC,0CAIX,OAHC,UAAU,IAAI,KACV,6CACA;8CAEP;;;;;;;;;;;;;;;;;;;;;;;YASR,mBAAmB,QAAQ,CAAC;gBAC3B,MAAM,YAAY,KAAK,IAAI,CAAC,CAAA,OAAQ,KAAK,OAAO,CAAC,EAAE,KAAK;gBACxD,IAAI,CAAC,aAAa,CAAC,UAAU,UAAU,EAAE,OAAO;gBAEhD,qBACE,gNAAC;oBAAI,WAAU;8BACb,cAAA,gNAAC;wBAAI,WAAU;;0CAEb,gNAAC;gCAAI,WAAU;0CACb,cAAA,gNAAC;oCAAI,WAAU;;sDACb,gNAAC;;8DACC,gNAAC;oDAAG,WAAU;;wDAAmC;wDAAI,UAAU,UAAU,IAAI,UAAU,OAAO,CAAC,IAAI;;;;;;;8DACnG,gNAAC;oDAAE,WAAU;;wDAA8B,UAAU,UAAU,CAAC,MAAM;wDAAC;;;;;;;;;;;;;sDAEzE,gNAAC;4CACC,SAAS,IAAM,kBAAkB;4CACjC,WAAU;sDACX;;;;;;;;;;;;;;;;;0CAOL,gNAAC;gCAAI,WAAU;;kDAEb,gNAAC;wCAAI,WAAU;;0DACb,gNAAC;gDAAG,WAAU;0DAAoC;;;;;;0DAClD,gNAAC;gDAAI,WAAU;;kEACb,gNAAC;;0EACC,gNAAC;gEAAM,WAAU;0EAAmC;;;;;;0EACpD,gNAAC;gEACC,OAAO;gEACP,UAAU,CAAC,IAAM,oBAAoB,EAAE,MAAM,CAAC,KAAK;gEACnD,WAAU;;kFAEV,gNAAC;wEAAO,OAAM;kFAAG;;;;;;oEAChB,WAAW,GAAG,CAAC,CAAC,yBACf,gNAAC;4EAAsB,OAAO;sFAC3B;2EADU;;;;;;;;;;;;;;;;;kEAMnB,gNAAC;wDAAI,WAAU;;0EACb,gNAAC;gEAAM,WAAU;0EAAmC;;;;;;0EACpD,gNAAC;gEACC,MAAK;gEACL,OAAO;gEACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;gEAC7C,WAAU;gEACV,aAAY;;;;;;4DAGb,4BACC,gNAAC;gEAAI,WAAU;0EACZ,sBAAsB,MAAM,KAAK,kBAChC,gNAAC;oEAAI,WAAU;8EAAgC;;;;;yFAI/C,gNAAC;oEAAI,WAAU;8EACZ,sBAAsB,GAAG,CAAC,CAAC;4EAqCgC;6FApC1D,gNAAC;4EAEC,SAAS;gFACP,IAAI,mBAAmB,MAAM;oFAC3B,MAAM,YAAY,KAAK,IAAI,CAAC,CAAA,OAAQ,KAAK,OAAO,CAAC,EAAE,KAAK;oFACxD,IAAI,aAAa,UAAU,UAAU,EAAE;wFACrC,MAAM,UAAoB;4FACxB;4FACA,UAAU;4FACV,WAAW,QAAQ,KAAK,IAAI;4FAC5B,UAAU;4FACV,QAAQ;4FACR,YAAY,QAAQ,KAAK,IAAI;4FAC7B,kBAAkB;wFACpB;wFACA,MAAM,oBAAoB;+FAAI,UAAU,UAAU;4FAAE;yFAAQ;wFAC5D,QAAQ,KAAK,GAAG,CAAC,CAAA,OACf,KAAK,OAAO,CAAC,EAAE,KAAK,iBAChB;gGAAE,GAAG,IAAI;gGAAE,YAAY;4FAAkB,IACzC;oFAER;oFACA,cAAc,KAAK,kBAAkB;gFACvC;4EACF;4EACA,WAAU;sFAEV,cAAA,gNAAC;gFAAI,WAAU;;kGACb,gNAAC;wFAAI,WAAU;;0GACb,gNAAC;gGAAI,WAAU;0GAA+B,QAAQ,IAAI;;;;;;0GAC1D,gNAAC;gGAAI,WAAU;;oGACZ,QAAQ,KAAK;oGAAC;oGAAE,QAAQ,KAAK;oGAC7B,QAAQ,QAAQ,kBAAI,gNAAC;wGAAK,WAAU;;4GAAgB;4GAAI,QAAQ,QAAQ;;;;;;;;;;;;;;;;;;;kGAG7E,gNAAC;wFAAI,WAAU;;0GACb,gNAAC;gGAAI,WAAU;;oGAAmC;qGAAE,iBAAA,QAAQ,KAAK,cAAb,qCAAA,eAAe,OAAO,CAAC;;;;;;;0GAC3E,gNAAC;gGAAI,WAAU;;oGAAwB;oGAAO,QAAQ,cAAc;;;;;;;;;;;;;;;;;;;2EApCnE,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kDAkDjC,gNAAC;wCAAI,WAAU;kDACZ,UAAU,UAAU,CAAC,GAAG,CAAC,CAAC,SAAS,sBAClC,gNAAC;gDAAgB,WAAU;0DACzB,cAAA,gNAAC;oDAAI,WAAU;;sEAEb,gNAAC;4DAAI,WAAU;;8EACb,gNAAC;oEACC,MAAK;oEACL,OAAO,QAAQ,UAAU,IAAI,QAAQ,OAAO,CAAC,IAAI;oEACjD,UAAU,CAAC;wEACT,MAAM,oBAAoB;+EAAI,UAAU,UAAU;yEAAE;wEACpD,iBAAiB,CAAC,MAAM,GAAG;4EAAE,GAAG,OAAO;4EAAE,YAAY,EAAE,MAAM,CAAC,KAAK;wEAAC;wEACpE,QAAQ,KAAK,GAAG,CAAC,CAAA,OACf,KAAK,OAAO,CAAC,EAAE,KAAK,iBAChB;gFAAE,GAAG,IAAI;gFAAE,YAAY;4EAAkB,IACzC;oEAER;oEACA,WAAU;oEACV,aAAY;;;;;;8EAEd,gNAAC;oEAAI,WAAU;;wEACZ,QAAQ,OAAO,CAAC,KAAK;wEAAC;wEAAE,QAAQ,OAAO,CAAC,KAAK;;;;;;;;;;;;;sEAKlD,gNAAC;4DAAI,WAAU;;8EACb,gNAAC;oEAAM,WAAU;8EAAmC;;;;;;8EACpD,gNAAC;oEACC,MAAK;oEACL,KAAI;oEACJ,OAAO,QAAQ,QAAQ;oEACvB,UAAU,CAAC;wEACT,MAAM,oBAAoB;+EAAI,UAAU,UAAU;yEAAE;wEACpD,iBAAiB,CAAC,MAAM,GAAG;4EAAE,GAAG,OAAO;4EAAE,UAAU,SAAS,EAAE,MAAM,CAAC,KAAK,KAAK;wEAAE;wEACjF,QAAQ,KAAK,GAAG,CAAC,CAAA,OACf,KAAK,OAAO,CAAC,EAAE,KAAK,iBAChB;gFAAE,GAAG,IAAI;gFAAE,YAAY;4EAAkB,IACzC;oEAER;oEACA,WAAU;;;;;;;;;;;;sEAKd,gNAAC;4DAAI,WAAU;;8EACb,gNAAC;oEAAM,WAAU;8EAAmC;;;;;;8EACpD,gNAAC;oEACC,MAAK;oEACL,MAAK;oEACL,OAAO,QAAQ,SAAS;oEACxB,UAAU,CAAC;wEACT,MAAM,WAAW,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;wEAC/C,MAAM,oBAAoB;+EAAI,UAAU,UAAU;yEAAE;wEACpD,iBAAiB,CAAC,MAAM,GAAG;4EACzB,GAAG,OAAO;4EACV,WAAW;4EACX,YAAY,oBAAoB,UAAU,QAAQ,QAAQ,IAAI,GAAG,QAAQ,MAAM,IAAI;wEACrF;wEACA,QAAQ,KAAK,GAAG,CAAC,CAAA,OACf,KAAK,OAAO,CAAC,EAAE,KAAK,iBAChB;gFAAE,GAAG,IAAI;gFAAE,YAAY;4EAAkB,IACzC;oEAER;oEACA,WAAU;;;;;;;;;;;;sEAKd,gNAAC;4DAAI,WAAU;;8EACb,gNAAC;oEAAM,WAAU;8EAAmC;;;;;;8EACpD,gNAAC;oEACC,MAAK;oEACL,MAAK;oEACL,OAAO,QAAQ,QAAQ,IAAI;oEAC3B,UAAU,CAAC;wEACT,MAAM,cAAc,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;wEAClD,MAAM,oBAAoB;+EAAI,UAAU,UAAU;yEAAE;wEACpD,iBAAiB,CAAC,MAAM,GAAG;4EACzB,GAAG,OAAO;4EACV,UAAU;4EACV,YAAY,oBAAoB,QAAQ,SAAS,EAAE,aAAa,QAAQ,MAAM,IAAI;wEACpF;wEACA,QAAQ,KAAK,GAAG,CAAC,CAAA,OACf,KAAK,OAAO,CAAC,EAAE,KAAK,iBAChB;gFAAE,GAAG,IAAI;gFAAE,YAAY;4EAAkB,IACzC;oEAER;oEACA,WAAU;;;;;;;;;;;;sEAKd,gNAAC;4DAAI,WAAU;;8EACb,gNAAC;oEAAM,WAAU;8EAAmC;;;;;;8EACpD,gNAAC;oEACC,MAAK;oEACL,MAAK;oEACL,OAAO,QAAQ,MAAM,IAAI;oEACzB,UAAU,CAAC;wEACT,MAAM,YAAY,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;wEAChD,MAAM,oBAAoB;+EAAI,UAAU,UAAU;yEAAE;wEACpD,iBAAiB,CAAC,MAAM,GAAG;4EACzB,GAAG,OAAO;4EACV,QAAQ;4EACR,YAAY,oBAAoB,QAAQ,SAAS,EAAE,QAAQ,QAAQ,IAAI,GAAG;wEAC5E;wEACA,QAAQ,KAAK,GAAG,CAAC,CAAA,OACf,KAAK,OAAO,CAAC,EAAE,KAAK,iBAChB;gFAAE,GAAG,IAAI;gFAAE,YAAY;4EAAkB,IACzC;oEAER;oEACA,WAAU;;;;;;;;;;;;sEAKd,gNAAC;4DAAI,WAAU;;8EACb,gNAAC;oEAAM,WAAU;8EAAmC;;;;;;8EACpD,gNAAC;oEACC,MAAK;oEACL,MAAK;oEACL,OAAO,CAAC,QAAQ,UAAU,IAAI,QAAQ,SAAS,EAAE,OAAO,CAAC;oEACzD,UAAU,CAAC;wEACT,MAAM,oBAAoB;+EAAI,UAAU,UAAU;yEAAE;wEACpD,iBAAiB,CAAC,MAAM,GAAG;4EACzB,GAAG,OAAO;4EACV,YAAY,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;4EAC1C,kBAAkB;wEACpB;wEACA,QAAQ,KAAK,GAAG,CAAC,CAAA,OACf,KAAK,OAAO,CAAC,EAAE,KAAK,iBAChB;gFAAE,GAAG,IAAI;gFAAE,YAAY;4EAAkB,IACzC;oEAER;oEACA,WAAU;;;;;;;;;;;;sEAKd,gNAAC;4DAAI,WAAU;;8EACb,gNAAC;oEAAM,WAAU;8EAAmC;;;;;;8EACpD,gNAAC;oEAAI,WAAU;;wEAA6D;wEACxE,CAAC,CAAC,QAAQ,UAAU,IAAI,QAAQ,SAAS,IAAI,QAAQ,QAAQ,EAAE,OAAO,CAAC;;;;;;;;;;;;;sEAK7E,gNAAC;4DAAI,WAAU;sEACb,cAAA,gNAAC;gEACC,SAAS;oEACP,IAAI,UAAU,UAAU,CAAE,MAAM,IAAI,GAAG;wEACrC,MAAM;wEACN;oEACF;oEACA,MAAM,oBAAoB,UAAU,UAAU,CAAE,MAAM,CAAC,CAAC,GAAG,IAAM,MAAM;oEACvE,QAAQ,KAAK,GAAG,CAAC,CAAA,OACf,KAAK,OAAO,CAAC,EAAE,KAAK,iBAChB;4EAAE,GAAG,IAAI;4EAAE,YAAY;wEAAkB,IACzC;gEAER;gEACA,WAAU;gEACV,OAAM;0EACP;;;;;;;;;;;;;;;;;+CAxKG;;;;;;;;;;kDAkLd,gNAAC;wCAAI,WAAU;kDACb,cAAA,gNAAC;4CAAI,WAAU;;8DACb,gNAAC;oDAAK,WAAU;8DAAkC;;;;;;8DAClD,gNAAC;oDAAK,WAAU;;wDAAmC;wDAC/C,UAAU,UAAU,CAAC,MAAM,CAAC,CAAC,KAAK,OAClC,MAAM,CAAC,KAAK,UAAU,IAAI,KAAK,SAAS,IAAI,KAAK,QAAQ,EAAE,GAC3D,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;0CAOlB,gNAAC;gCAAI,WAAU;0CACb,cAAA,gNAAC;oCACC,SAAS,IAAM,kBAAkB;oCACjC,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;YAOX,CAAC;;;;;;;AAGP;GAt5DwB;KAAA","debugId":null}}]
}