{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/AOM/Desktop/Baran%20Proje/EkimSogutma/teklif-formu/src/components/Header.tsx"],"sourcesContent":["import Image from 'next/image';\r\nimport Link from 'next/link';\r\n\r\nexport default function Header() {\r\n  return (\r\n    <header className=\"bg-white/95 backdrop-blur-lg shadow-premium border-b border-gray-200/50 sticky top-0 z-50\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"flex justify-between items-center py-4\">\r\n          <Link href=\"/\" className=\"flex items-center space-x-4 group\">\r\n            <div className=\"relative\">\r\n              <Image\r\n                src=\"/image/49125941466.jpg\"\r\n                alt=\"Ekim Soƒüutma Logo\"\r\n                width={220}\r\n                height={220}\r\n                className=\"rounded-xl shadow-lg border-2 border-blue-100 hover:border-blue-300 transition-all duration-300 group-hover:scale-105\"\r\n              />\r\n            </div>\r\n          </Link>\r\n          \r\n          <nav className=\"hidden md:flex items-center space-x-8\">\r\n            {/* Enhanced Navigation Links */}\r\n            <Link \r\n              href=\"/products\" \r\n              className=\"group relative px-3 py-2 rounded-xl transition-all duration-300 hover:bg-gradient-to-r hover:from-green-50 hover:to-emerald-50 hover:shadow-lg\"\r\n            >\r\n              <div className=\"flex items-center space-x-2\">\r\n                <span className=\"text-xl group-hover:scale-110 transition-transform duration-300\">üì¶</span>\r\n                <span className=\"font-bold text-sm text-gray-800 group-hover:text-green-600 transition-colors duration-300\">√úr√ºnler</span>\r\n              </div>\r\n              <div className=\"absolute bottom-0 left-1/2 w-0 h-0.5 bg-gradient-to-r from-green-500 to-emerald-600 transition-all duration-300 group-hover:w-full group-hover:left-0\"></div>\r\n            </Link>\r\n            \r\n            <Link \r\n              href=\"/customers\" \r\n              className=\"group relative px-3 py-2 rounded-xl transition-all duration-300 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 hover:shadow-lg\"\r\n            >\r\n              <div className=\"flex items-center space-x-2\">\r\n                <span className=\"text-xl group-hover:scale-110 transition-transform duration-300\">üë•</span>\r\n                <span className=\"font-bold text-sm text-gray-800 group-hover:text-blue-600 transition-colors duration-300\">M√º≈üteriler</span>\r\n              </div>\r\n              <div className=\"absolute bottom-0 left-1/2 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-indigo-600 transition-all duration-300 group-hover:w-full group-hover:left-0\"></div>\r\n            </Link>\r\n            \r\n            <Link \r\n              href=\"/quotes\" \r\n              className=\"group relative px-3 py-2 rounded-xl transition-all duration-300 hover:bg-gradient-to-r hover:from-purple-50 hover:to-pink-50 hover:shadow-lg\"\r\n            >\r\n              <div className=\"flex items-center space-x-2\">\r\n                <span className=\"text-xl group-hover:scale-110 transition-transform duration-300\">üìã</span>\r\n                <span className=\"font-bold text-sm text-gray-800 group-hover:text-purple-600 transition-colors duration-300\">Teklifler</span>\r\n              </div>\r\n              <div className=\"absolute bottom-0 left-1/2 w-0 h-0.5 bg-gradient-to-r from-purple-500 to-pink-600 transition-all duration-300 group-hover:w-full group-hover:left-0\"></div>\r\n            </Link>\r\n\r\n            <Link \r\n              href=\"/tedarikciler\" \r\n              className=\"group relative px-3 py-2 rounded-xl transition-all duration-300 hover:bg-gradient-to-r hover:from-orange-50 hover:to-red-50 hover:shadow-lg\"\r\n            >\r\n              <div className=\"flex items-center space-x-2\">\r\n                <span className=\"text-xl group-hover:scale-110 transition-transform duration-300\">üè≠</span>\r\n                <span className=\"font-bold text-sm text-gray-800 group-hover:text-orange-600 transition-colors duration-300\">Tedarik√ßiler</span>\r\n              </div>\r\n              <div className=\"absolute bottom-0 left-1/2 w-0 h-0.5 bg-gradient-to-r from-orange-500 to-red-600 transition-all duration-300 group-hover:w-full group-hover:left-0\"></div>\r\n            </Link>\r\n\r\n            <Link \r\n              href=\"/projeler\" \r\n              className=\"group relative px-3 py-2 rounded-xl transition-all duration-300 hover:bg-gradient-to-r hover:from-yellow-50 hover:to-orange-50 hover:shadow-lg\"\r\n            >\r\n              <div className=\"flex items-center space-x-2\">\r\n                <span className=\"text-xl group-hover:scale-110 transition-transform duration-300\">üèóÔ∏è</span>\r\n                <span className=\"font-bold text-sm text-gray-800 group-hover:text-yellow-600 transition-colors duration-300\">Tanƒ±mlƒ± Projeler</span>\r\n              </div>\r\n              <div className=\"absolute bottom-0 left-1/2 w-0 h-0.5 bg-gradient-to-r from-yellow-500 to-orange-500 transition-all duration-300 group-hover:w-full group-hover:left-0\"></div>\r\n            </Link>\r\n          </nav>\r\n\r\n          {/* Enhanced Mobile menu button */}\r\n          <div className=\"md:hidden\">\r\n            <button className=\"group relative p-3 rounded-xl bg-gradient-to-r from-gray-100 to-gray-200 hover:from-blue-100 hover:to-indigo-100 transition-all duration-300 shadow-lg hover:shadow-xl\">\r\n              <svg className=\"h-6 w-6 text-gray-700 group-hover:text-blue-600 transition-colors duration-300\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\r\n              </svg>\r\n              <div className=\"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-500 rounded-xl opacity-0 group-hover:opacity-20 transition-opacity duration-300\"></div>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEe,SAAS;IACtB,qBACE,gNAAC;QAAO,WAAU;kBAChB,cAAA,gNAAC;YAAI,WAAU;sBACb,cAAA,gNAAC;gBAAI,WAAU;;kCACb,gNAAC,6LAAI;wBAAC,MAAK;wBAAI,WAAU;kCACvB,cAAA,gNAAC;4BAAI,WAAU;sCACb,cAAA,gNAAC,8JAAK;gCACJ,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,QAAQ;gCACR,WAAU;;;;;;;;;;;;;;;;kCAKhB,gNAAC;wBAAI,WAAU;;0CAEb,gNAAC,6LAAI;gCACH,MAAK;gCACL,WAAU;;kDAEV,gNAAC;wCAAI,WAAU;;0DACb,gNAAC;gDAAK,WAAU;0DAAkE;;;;;;0DAClF,gNAAC;gDAAK,WAAU;0DAA4F;;;;;;;;;;;;kDAE9G,gNAAC;wCAAI,WAAU;;;;;;;;;;;;0CAGjB,gNAAC,6LAAI;gCACH,MAAK;gCACL,WAAU;;kDAEV,gNAAC;wCAAI,WAAU;;0DACb,gNAAC;gDAAK,WAAU;0DAAkE;;;;;;0DAClF,gNAAC;gDAAK,WAAU;0DAA2F;;;;;;;;;;;;kDAE7G,gNAAC;wCAAI,WAAU;;;;;;;;;;;;0CAGjB,gNAAC,6LAAI;gCACH,MAAK;gCACL,WAAU;;kDAEV,gNAAC;wCAAI,WAAU;;0DACb,gNAAC;gDAAK,WAAU;0DAAkE;;;;;;0DAClF,gNAAC;gDAAK,WAAU;0DAA6F;;;;;;;;;;;;kDAE/G,gNAAC;wCAAI,WAAU;;;;;;;;;;;;0CAGjB,gNAAC,6LAAI;gCACH,MAAK;gCACL,WAAU;;kDAEV,gNAAC;wCAAI,WAAU;;0DACb,gNAAC;gDAAK,WAAU;0DAAkE;;;;;;0DAClF,gNAAC;gDAAK,WAAU;0DAA6F;;;;;;;;;;;;kDAE/G,gNAAC;wCAAI,WAAU;;;;;;;;;;;;0CAGjB,gNAAC,6LAAI;gCACH,MAAK;gCACL,WAAU;;kDAEV,gNAAC;wCAAI,WAAU;;0DACb,gNAAC;gDAAK,WAAU;0DAAkE;;;;;;0DAClF,gNAAC;gDAAK,WAAU;0DAA6F;;;;;;;;;;;;kDAE/G,gNAAC;wCAAI,WAAU;;;;;;;;;;;;;;;;;;kCAKnB,gNAAC;wBAAI,WAAU;kCACb,cAAA,gNAAC;4BAAO,WAAU;;8CAChB,gNAAC;oCAAI,WAAU;oCAAiF,MAAK;oCAAO,SAAQ;oCAAY,QAAO;8CACrI,cAAA,gNAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAa;wCAAG,GAAE;;;;;;;;;;;8CAEvE,gNAAC;oCAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO7B;KAxFwB","debugId":null}},
    {"offset": {"line": 337, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/AOM/Desktop/Baran%20Proje/EkimSogutma/teklif-formu/src/lib/pdfGenerator.ts"],"sourcesContent":["import jsPDF from 'jspdf';\r\nimport html2canvas from 'html2canvas';\r\n\r\n// Helper function to load image as base64\r\nconst loadImageAsBase64 = async (imagePath: string): Promise<string> => {\r\n  try {\r\n    // Tam URL olu≈ütur\r\n    const fullPath = window.location.origin + imagePath;\r\n    console.log('Logo y√ºkleniyor:', fullPath);\r\n    \r\n    const response = await fetch(fullPath);\r\n    if (!response.ok) {\r\n      console.warn('Logo y√ºklenemedi, HTTP status:', response.status);\r\n      return '';\r\n    }\r\n    \r\n    const blob = await response.blob();\r\n    \r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      reader.onload = () => {\r\n        console.log('Logo ba≈üarƒ±yla y√ºklendi');\r\n        resolve(reader.result as string);\r\n      };\r\n      reader.onerror = (err) => {\r\n        console.error('FileReader hatasƒ±:', err);\r\n        resolve(''); // Hata durumunda bo≈ü string d√∂nd√ºr\r\n      };\r\n      reader.readAsDataURL(blob);\r\n    });\r\n  } catch (error) {\r\n    console.error('Logo y√ºklenirken hata:', error);\r\n    return ''; // Return empty string if logo fails to load\r\n  }\r\n};\r\n\r\nexport interface QuotePDFData {\r\n  quoteId: number;\r\n  customerInfo: {\r\n    name: string;\r\n    company?: string;\r\n    email?: string;\r\n    phone?: string;\r\n    address?: string;\r\n  };\r\n  projectDetails: {\r\n    projectDesign: string;\r\n    projectDescription: string;\r\n  };\r\n  schedule: {\r\n    startDate: string;\r\n    endDate: string;\r\n  };\r\n  conditions: {\r\n    validityPeriod: string;\r\n    deliveryTime: string;\r\n  };\r\n  items: Array<{\r\n    product: {\r\n      name: string;\r\n      customName?: string;\r\n      brand?: string;\r\n      model?: string;\r\n      code?: string;\r\n      description?: string; // Yeni eklenen alan\r\n    };\r\n    quantity: number;\r\n    unitPrice: number;\r\n    total: number;\r\n  }>;\r\n  subtotal: number;\r\n  kdv: number;\r\n  total: number;\r\n  createdAt: string;\r\n}\r\n\r\nexport const generateQuotePDF = async (data: QuotePDFData): Promise<void> => {\r\n  try {\r\n    console.log('PDF olu≈üturma ba≈üladƒ±...');\r\n    \r\n    // Load logo as base64\r\n    console.log('Logo y√ºkleniyor...');\r\n    const logoBase64 = await loadImageAsBase64('/image/49125941466.jpg');\r\n    console.log('Logo y√ºkleme tamamlandƒ±:', logoBase64 ? 'Ba≈üarƒ±lƒ±' : 'Logo yok');\r\n    \r\n    // Create a temporary container for the PDF content\r\n    const tempDiv = document.createElement('div');\r\n  tempDiv.style.position = 'absolute';\r\n  tempDiv.style.left = '-9999px';\r\n  tempDiv.style.top = '0';\r\n  tempDiv.style.width = '794px'; // A4 width in pixels at 96 DPI\r\n  tempDiv.style.backgroundColor = 'white';\r\n  tempDiv.style.fontFamily = 'Arial, sans-serif';\r\n  tempDiv.style.maxHeight = '1050px'; // Tek sayfa i√ßin y√ºkseklik sƒ±nƒ±rƒ± (A4: 1122px, biraz bo≈üluk bƒ±rak)\r\n  tempDiv.style.overflow = 'hidden';\r\n  \r\n  // Create the HTML content for the PDF\r\n  tempDiv.innerHTML = `\r\n  <div style=\"padding: 0; font-family: 'Segoe UI', Arial, sans-serif; color: #2c3e50; line-height: 1.2; font-size: 7px; min-height: 1122px; position: relative;\">\r\n      <!-- Modern Header with Logo -->\r\n  <div style=\"background: #f8fafc; border-bottom: 2.5px solid #1e40af; padding: 0 0 8px 0; margin-bottom: 6px;\">\r\n    <div style=\"display: flex; justify-content: space-between; align-items: flex-end;\">\r\n      <div style=\"padding: 12px 18px 0 18px;\">\r\n        <div style=\"display: flex; align-items: center; gap: 10px;\">\r\n          ${logoBase64 ? `\r\n            <div style=\"text-align: center;\">\r\n              <img src=\"${logoBase64}\" style=\"width: 38px; height: 38px; border-radius: 6px; object-fit: cover; border: 1.5px solid #1e40af; background: white; display: block;\" alt=\"Ekim Soƒüutma Logo\" />\r\n              <div style=\"font-size: 5px; color: #64748b; font-weight: 600; margin-top: 2px; letter-spacing: 0.3px;\">MET GRUP MARKASIDIR</div>\r\n            </div>\r\n          ` : ''}\r\n          <div>\r\n            <h1 style=\"font-size: 13px; margin: 0; font-weight: 800; color: #1e40af; letter-spacing: 0.5px;\">EKƒ∞M SOƒûUTMA</h1>\r\n            <div style=\"font-size: 7px; color: #64748b; font-weight: 500; margin-top: 1px;\">Profesyonel Soƒüutma ve Klima Sistemleri</div>\r\n          </div>\r\n        </div>\r\n        <div style=\"font-size: 6.5px; color: #334155; margin-top: 4px;\">\r\n          <span>üìû +90 (532) 123 45 67</span> &nbsp;|&nbsp; <span>‚úâÔ∏è info@ekimsogutma.com</span> &nbsp;|&nbsp; <span>üåê www.ekimsogutma.com</span>\r\n        </div>\r\n      </div>\r\n      <div style=\"padding: 10px 18px 0 0; text-align: right; min-width: 180px;\">\r\n        <div style=\"font-size: 7.5px; color: #1e40af; font-weight: 700; letter-spacing: 0.2px; margin-bottom: 2px;\">M√ú≈ûTERƒ∞ Bƒ∞LGƒ∞LERƒ∞</div>\r\n        <div style=\"background: white; padding: 6px 8px; border-radius: 6px; box-shadow: 0 1px 4px rgba(30,64,175,0.06);\">\r\n          <div style=\"font-size: 7.5px; font-weight: 700; color: #0f172a; margin-bottom: 1px;\">${data.customerInfo.name}</div>\r\n          ${data.customerInfo.company ? `<div style=\\\"font-size: 6.5px; color: #64748b;\\\">${data.customerInfo.company}</div>` : ''}\r\n          ${data.customerInfo.email ? `<div style=\\\"font-size: 6.5px;\\\">üìß ${data.customerInfo.email}</div>` : ''}\r\n          ${data.customerInfo.phone ? `<div style=\\\"font-size: 6.5px;\\\">üì± ${data.customerInfo.phone}</div>` : ''}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div style=\"display: flex; justify-content: space-between; align-items: flex-end; padding: 0 18px 0 18px; margin-top: 2px;\">\r\n      <div style=\"font-size: 8px; color: #1e40af; font-weight: 700;\">ÔøΩ TEKLƒ∞F</div>\r\n      <div style=\"font-size: 7px; color: #0f172a; font-weight: 500; text-align: right;\">\r\n        <span style=\"margin-right: 10px;\"><strong>Teklif No:</strong> <span style=\"color: #1e40af; font-weight: 700;\">#${data.quoteId}</span></span>\r\n        <span style=\"margin-right: 10px;\"><strong>Tarih:</strong> ${new Date(data.createdAt).toLocaleDateString('tr-TR', { year: 'numeric', month: 'long', day: 'numeric' })}</span>\r\n        <span><strong>Ge√ßerlilik:</strong> <span style=\"color: #dc2626; font-weight: 600;\">${data.conditions.validityPeriod} g√ºn</span></span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n      <!-- Quote Info Section -->\r\n\r\n      <!-- Project Details -->\r\n  <div style=\"background: #f1f5f9; padding: 6px 18px 6px 18px; border-radius: 6px; margin-bottom: 7px; border-left: 3px solid #1e40af; font-size: 7px;\">\r\n    <div style=\"font-size: 8px; color: #0c4a6e; font-weight: 700; margin-bottom: 2px;\">üèóÔ∏è PROJE DETAYLARI</div>\r\n    <div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 7px; font-size: 7px;\">\r\n      <div><strong>Konu:</strong> ${data.projectDetails.projectDesign || '-'}</div>\r\n      <div><strong>Teslimat:</strong> ${data.conditions.deliveryTime || '-'}</div>\r\n      <div><strong>Ba≈ülangƒ±√ß:</strong> ${data.schedule.startDate ? new Date(data.schedule.startDate).toLocaleDateString('tr-TR') : '-'}</div>\r\n      <div><strong>Biti≈ü:</strong> ${data.schedule.endDate ? new Date(data.schedule.endDate).toLocaleDateString('tr-TR') : '-'}</div>\r\n    </div>\r\n    ${data.projectDetails.projectDescription ? `<div style=\"margin-top: 5px; padding-top: 5px; border-top: 1px solid #bae6fd; font-size: 7px;\"><strong>A√ßƒ±klama:</strong><br>${data.projectDetails.projectDescription}</div>` : ''}\r\n  </div>\r\n\r\n      <!-- Items Table -->\r\n  <div style=\"margin-bottom: 4px;\">\r\n    <h3 style=\"color: #1e40af; font-size: 10px; margin: 0 0 6px 0; font-weight: 700;\">üì¶ TEKLƒ∞F KALEMLERƒ∞</h3>\r\n  <table style=\"width: 100%; border-collapse: collapse; border-radius: 1px; overflow: hidden; box-shadow: 0 1px 1px rgba(0,0,0,0.02); table-layout: fixed; font-size: 9.5px;\">\r\n      <thead>\r\n        <tr style=\"background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%); color: white;\">\r\n          <th style=\"padding: 4px 3px; text-align: left; font-size: 10px; font-weight: 700; width: 40%;\">√úR√úN</th>\r\n          <th style=\"padding: 4px 2px; text-align: center; font-size: 10px; font-weight: 700; width: 10%;\">ADET</th>\r\n          <th style=\"padding: 4px 2px; text-align: right; font-size: 10px; font-weight: 700; width: 18%;\">SATI≈û Fƒ∞YATI</th>\r\n          <th style=\"padding: 4px 2px; text-align: right; font-size: 10px; font-weight: 700; width: 18%;\">TOPLAM Fƒ∞YAT</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        ${data.items.map((item, index) => `\r\n          <tr style=\"background: ${index % 2 === 0 ? '#f8fafc' : 'white'}; border-bottom: 1px solid #e5e7eb;\">\r\n            <td style=\"padding: 4px 3px; font-size: 10px; word-wrap: break-word; vertical-align: top;\">\r\n              <div style=\"font-weight: 700; color: #1f2937; line-height: 1.08;\">${item.product.customName || item.product.name}</div>\r\n              ${item.product.name.includes('Tavan') || item.product.name.includes('Zemin') || item.product.name.includes('Duvar') ? \r\n                `<div style=\"font-size: 7px; color: #6b7280; margin-top: 1px;\">${item.product.description || 'Metrekare hesaplamasƒ±'}</div>` : \r\n                `${item.product.brand || item.product.model ? `<div style=\\\"font-size: 7.5px; color: #6b7280; margin-top: 1px;\\\">${item.product.brand || ''} ${item.product.model || ''}</div>` : ''}`\r\n              }\r\n              ${item.product.code ? `<div style=\\\"font-size: 7px; color: #9ca3af; margin-top: 1px;\\\">Kod: ${item.product.code}</div>` : ''}\r\n            </td>\r\n            <td style=\"padding: 4px 2px; text-align: center; font-size: 10px; font-weight: 700; color: #1e40af; vertical-align: middle;\">${item.quantity}</td>\r\n            <td style=\"padding: 4px 2px; text-align: right; font-size: 10px; font-weight: 700; color: #059669; vertical-align: middle; white-space: nowrap;\">‚Ç¨${item.unitPrice.toLocaleString('tr-TR', { minimumFractionDigits: 2 })}</td>\r\n            <td style=\"padding: 4px 2px; text-align: right; font-size: 10px; font-weight: 800; color: #dc2626; vertical-align: middle; white-space: nowrap;\">‚Ç¨${item.total.toLocaleString('tr-TR', { minimumFractionDigits: 2 })}</td>\r\n          </tr>\r\n        `).join('')}\r\n      </tbody>\r\n    </table>\r\n    <div style=\"width: 100%; text-align: right; font-size: 7.5px; font-weight: 800; color: #1e293b; margin-top: 4px; margin-bottom: 0;\">\r\n      Ara Toplam: ‚Ç¨${data.items.reduce((sum, item) => sum + item.total, 0).toLocaleString('tr-TR', { minimumFractionDigits: 2 })}<br/>\r\n      KDV (%20) Dahil Toplam: <span style=\"color:#dc2626;\">‚Ç¨${(data.items.reduce((sum, item) => sum + item.total, 0) * 1.2).toLocaleString('tr-TR', { minimumFractionDigits: 2 })}</span>\r\n    </div>\r\n    <div style=\"font-size: 5px; margin-top: 1px;\">‚Ä¢ √úr√ºnlere <strong>2 yƒ±l garanti</strong></div>\r\n    <div style=\"font-size: 5px;\">‚Ä¢ Teklif sadece belirtilen √ºr√ºnler i√ßin ge√ßerli</div>\r\n    \r\n    <!-- Metrekare hesaplama detaylarƒ± -->\r\n    ${data.items.some(item => item.product.name.includes('Metrekare Hesaplama')) ? `\r\n      <div style=\"margin-top: 10px; padding: 8px; background-color: #f0f9ff; border-radius: 6px; border: 1px solid #bae6fd;\">\r\n        <div style=\"font-size: 8px; font-weight: 700; color: #0c4a6e; margin-bottom: 4px;\">üìê Metrekare Hesaplama Detaylarƒ±:</div>\r\n        <div style=\"font-size: 7px; color: #0c4a6e;\">\r\n          Bu teklif, tavan, zemin ve duvar alanlarƒ±nƒ±n ayrƒ± ayrƒ± hesaplanmasƒ±ndan olu≈ümaktadƒ±r. \r\n          Her bir alan i√ßin en, boy ve adet deƒüerleri girilerek toplam metrekare hesaplanmƒ±≈ütƒ±r.\r\n        </div>\r\n      </div>\r\n    ` : ''}\r\n  </div>\r\n\r\n      <!-- ƒ∞mza i√ßin daha geni≈ü bo≈üluk ve yazƒ±lar -->\r\n      <div style=\"height: 60px; position: relative;\">\r\n        <div style=\"position: absolute; left: 24px; bottom: 6px; font-size: 9px; font-weight: bold; color: #1e293b;\">Ekim Soƒüutma</div>\r\n        <div style=\"position: absolute; right: 24px; bottom: 6px; font-size: 9px; font-weight: bold; color: #1e293b;\">M√º≈üteri Onayƒ±</div>\r\n      </div>\r\n\r\n      <!-- Footer -->\r\n      <div style=\"position: absolute; left: 0; right: 0; bottom: 0; background: linear-gradient(135deg, #1f2937 0%, #374151 100%); color: white; padding: 12px 0 8px 0; border-radius: 10px 10px 0 0; text-align: center; font-size: 10px; width: 100%; margin: 0; z-index: 10; display: block;\">\r\n        <div style=\"font-size: 10px; opacity: 0.9; display: flex; justify-content: center; gap: 10px;\">\r\n          <span>üåê www.ekimsogutma.com</span>\r\n          <span>‚úâÔ∏è info@ekimsogutma.com</span>\r\n          <span>üìû +90 (532) 123 45 67</span>\r\n        </div>\r\n        <p style=\"margin: 4px 0 0 0; font-size: 9px; opacity: 0.7;\">¬© ${new Date().getFullYear()} Ekim Soƒüutma. T√ºm haklarƒ± saklƒ±dƒ±r.</p>\r\n      </div>\r\n    </div>\r\n  `;\r\n\r\n  // Add the temporary div to the document\r\n  document.body.appendChild(tempDiv);\r\n\r\n  try {\r\n    // Convert HTML to canvas (tek sayfa i√ßin y√ºkseklik sƒ±nƒ±rƒ±)\r\n    console.log('HTML canvas\\'a d√∂n√º≈üt√ºr√ºl√ºyor...');\r\n    const canvas = await html2canvas(tempDiv, {\r\n      useCORS: true,\r\n      allowTaint: true,\r\n      background: '#ffffff',\r\n      width: 794,\r\n      height: 1050 // Tek sayfa i√ßin sabit y√ºkseklik\r\n    });\r\n    console.log('Canvas olu≈üturuldu');\r\n\r\n    // Create PDF (tek sayfa)\r\n    console.log('PDF olu≈üturuluyor...');\r\n    const imgData = canvas.toDataURL('image/png');\r\n    const pdf = new jsPDF('p', 'mm', 'a4');\r\n    const imgWidth = 210; // A4 width in mm\r\n    const imgHeight = 297; // A4 height in mm\r\n    pdf.addImage(imgData, 'PNG', 0, 0, imgWidth, imgHeight);\r\n\r\n    // Download the PDF\r\n    const fileName = `Teklif_${data.quoteId}_${data.customerInfo.name.replace(/[^a-zA-Z0-9]/g, '_')}.pdf`;\r\n    console.log('PDF indiriliyor:', fileName);\r\n    pdf.save(fileName);\r\n    console.log('PDF ba≈üarƒ±yla olu≈üturuldu!');\r\n  } catch (error) {\r\n    console.error('PDF olu≈üturma hatasƒ±:', error);\r\n    throw error;\r\n  } finally {\r\n    // Clean up: remove the temporary div\r\n    document.body.removeChild(tempDiv);\r\n  }\r\n  } catch (error) {\r\n    console.error('generateQuotePDF genel hatasƒ±:', error);\r\n    throw error;\r\n  }\r\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 449, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/AOM/Desktop/Baran%20Proje/EkimSogutma/teklif-formu/src/app/projeler/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Header from \"@/components/Header\";\r\nimport { Product } from \"@/lib/database\";\r\nimport { generateQuotePDF } from '@/lib/pdfGenerator';\r\n\r\ntype Project = {\r\n  id: number;\r\n  name: string;\r\n  description?: string;\r\n  created_at?: string;\r\n};\r\n\r\ntype Customer = {\r\n  id: number;\r\n  name: string;\r\n  company?: string;\r\n  email?: string;\r\n  phone?: string;\r\n};\r\n\r\nexport default function ProjectsPage() {\r\n  const router = useRouter();\r\n  const [projects, setProjects] = useState<Project[]>([]);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [projectName, setProjectName] = useState(\"\");\r\n  const [projectDescription, setProjectDescription] = useState(\"\");\r\n  \r\n  // PDF i√ßin m√º≈üteri se√ßim modalƒ±\r\n  const [showCustomerModal, setShowCustomerModal] = useState(false);\r\n  const [selectedProjectId, setSelectedProjectId] = useState<number | null>(null);\r\n  const [customers, setCustomers] = useState<Customer[]>([]);\r\n  const [selectedCustomerId, setSelectedCustomerId] = useState<number | null>(null);\r\n  const [validityPeriod, setValidityPeriod] = useState('15');\r\n  const [deliveryTime, setDeliveryTime] = useState('2 hafta');\r\n\r\n  useEffect(() => {\r\n    loadProjects();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (showCustomerModal) {\r\n      loadCustomers();\r\n    }\r\n  }, [showCustomerModal]);\r\n\r\n  async function loadProjects() {\r\n    try {\r\n      const res = await fetch(\"/api/projects\");\r\n      if (res.ok) {\r\n        const data = await res.json();\r\n        setProjects(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Projeler y√ºklenemedi:', error);\r\n    }\r\n  }\r\n\r\n  async function loadCustomers() {\r\n    try {\r\n      const res = await fetch('/api/customers');\r\n      if (res.ok) {\r\n        const data = await res.json();\r\n        setCustomers(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('M√º≈üteriler y√ºklenemedi:', error);\r\n    }\r\n  }\r\n\r\n  function handlePDFClick(projectId: number) {\r\n    setSelectedProjectId(projectId);\r\n    setShowCustomerModal(true);\r\n  }\r\n\r\n  async function handleGeneratePDF() {\r\n    if (!selectedCustomerId || !selectedProjectId) {\r\n      alert('L√ºtfen bir m√º≈üteri se√ßin!');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Proje detaylarƒ±nƒ± y√ºkle\r\n      const projectRes = await fetch(`/api/projects/${selectedProjectId}`);\r\n      if (!projectRes.ok) {\r\n        const errorText = await projectRes.text();\r\n        console.error('Proje API hatasƒ±:', errorText);\r\n        throw new Error('Proje y√ºklenemedi');\r\n      }\r\n      \r\n      const projectData = await projectRes.json();\r\n      console.log('Proje verisi:', projectData);\r\n      \r\n      const customer = customers.find(c => c.id === selectedCustomerId);\r\n      \r\n      if (!customer) throw new Error('M√º≈üteri bulunamadƒ±');\r\n\r\n      // PDF i√ßin √ºr√ºn listesini hazƒ±rla - items yoksa bo≈ü array kullan\r\n      const items = (projectData.items || []).map((item: any) => ({\r\n        product: {\r\n          name: item.product_name || 'ƒ∞simsiz √úr√ºn',\r\n          brand: item.brand || '',\r\n          model: item.model || '',\r\n          code: item.code || '',\r\n        },\r\n        quantity: item.quantity || 1,\r\n        unitPrice: item.sales_price || item.unit_price || 0,\r\n        total: (item.sales_price || item.unit_price || 0) * (item.quantity || 1),\r\n      }));\r\n\r\n      console.log('PDF i√ßin hazƒ±rlanan items:', items);\r\n\r\n      const subtotal = items.reduce((sum: number, item: any) => sum + item.total, 0);\r\n      const kdv = subtotal * 0.2;\r\n      const total = subtotal + kdv;\r\n\r\n      console.log('Hesaplamalar - Subtotal:', subtotal, 'KDV:', kdv, 'Total:', total);\r\n\r\n      // PDF olu≈ütur\r\n      await generateQuotePDF({\r\n        quoteId: selectedProjectId,\r\n        customerInfo: {\r\n          name: customer.name || '',\r\n          company: customer.company || '',\r\n          email: customer.email || '',\r\n          phone: customer.phone || '',\r\n        },\r\n        projectDetails: {\r\n          projectDesign: projectData.name || 'ƒ∞simsiz Proje',\r\n          projectDescription: projectData.description || '',\r\n        },\r\n        schedule: {\r\n          startDate: '',\r\n          endDate: '',\r\n        },\r\n        conditions: {\r\n          validityPeriod: validityPeriod || '15',\r\n          deliveryTime: deliveryTime || '2 hafta',\r\n        },\r\n        items: items,\r\n        subtotal: subtotal,\r\n        kdv: kdv,\r\n        total: total,\r\n        createdAt: new Date().toISOString(),\r\n      });\r\n\r\n      console.log('PDF ba≈üarƒ±yla olu≈üturuldu!');\r\n\r\n      // Modal'ƒ± kapat ve state'i temizle\r\n      setShowCustomerModal(false);\r\n      setSelectedProjectId(null);\r\n      setSelectedCustomerId(null);\r\n      setValidityPeriod('15');\r\n      setDeliveryTime('2 hafta');\r\n      \r\n    } catch (error) {\r\n      console.error('PDF olu≈üturma hatasƒ±:', error);\r\n      alert(`PDF olu≈üturulamadƒ±! Hata: ${error instanceof Error ? error.message : 'Bilinmeyen hata'}`);\r\n    }\r\n  }\r\n\r\n  async function handleCreateProject() {\r\n    if (!projectName.trim()) {\r\n      alert('Proje adƒ± gereklidir!');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const res = await fetch(\"/api/projects\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ \r\n          name: projectName, \r\n          description: projectDescription \r\n        }),\r\n      });\r\n      \r\n      if (res.ok) {\r\n        const newProject = await res.json();\r\n        // Yeni projeyi d√ºzenleme sayfasƒ±na y√∂nlendir\r\n        router.push(`/projeler/${newProject.id}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Proje olu≈üturulamadƒ±:', error);\r\n      alert('Proje olu≈üturulamadƒ±!');\r\n    }\r\n  }\r\n\r\n  async function handleDeleteProject(id: number) {\r\n    if (!confirm('Bu projeyi silmek istediƒüinizden emin misiniz?')) return;\r\n    \r\n    try {\r\n      const res = await fetch(`/api/projects/${id}`, { method: 'DELETE' });\r\n      if (res.ok) {\r\n        setProjects(prev => prev.filter(p => p.id !== id));\r\n      }\r\n    } catch (error) {\r\n      console.error('Proje silinemedi:', error);\r\n      alert('Proje silinemedi!');\r\n    }\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Header />\r\n      <main className=\"min-h-screen bg-gradient-to-br from-yellow-50 via-orange-50 to-white py-10 px-2 md:px-8\">\r\n        <div className=\"max-w-6xl mx-auto flex flex-col gap-8\">\r\n          <div className=\"bg-white/95 rounded-3xl shadow-premium p-8 border border-white/20\">\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n              <h2 className=\"text-2xl font-black text-gray-900\">Tanƒ±mlƒ± Projeler</h2>\r\n              <button\r\n                onClick={() => setShowModal(true)}\r\n                className=\"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white px-4 py-2 rounded-lg font-bold text-sm\"\r\n              >\r\n                + Yeni Proje Olu≈ütur\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n              {projects.map((project) => (\r\n                <div key={project.id} className=\"border border-gray-200 rounded-xl p-4 hover:shadow-lg transition-shadow\">\r\n                  <h3 className=\"font-bold text-gray-900 text-lg mb-2\">{project.name}</h3>\r\n                  {project.description && (\r\n                    <p className=\"text-gray-600 text-sm mb-4\">{project.description}</p>\r\n                  )}\r\n                  <div className=\"flex gap-2\">\r\n                    <button\r\n                      onClick={() => router.push(`/projeler/${project.id}`)}\r\n                      className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg font-bold text-sm\"\r\n                    >\r\n                      üìù D√ºzenle\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handlePDFClick(project.id)}\r\n                      className=\"flex-1 bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg font-bold text-sm\"\r\n                    >\r\n                      üìÑ PDF\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleDeleteProject(project.id)}\r\n                      className=\"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-lg font-bold text-sm\"\r\n                    >\r\n                      üóëÔ∏è\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            \r\n            {projects.length === 0 && (\r\n              <div className=\"py-16 text-center text-gray-500\">\r\n                <p className=\"text-lg mb-4\">Hen√ºz tanƒ±mlƒ± proje yok.</p>\r\n                <p className=\"text-sm\">Yeni bir proje olu≈üturarak ba≈ülayƒ±n.</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Proje olu≈üturma modalƒ± */}\r\n        {showModal && (\r\n          <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4\">\r\n            <div className=\"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md\">\r\n              <h3 className=\"text-xl font-bold text-gray-900 mb-4\">Yeni Proje Olu≈ütur</h3>\r\n              \r\n              <div className=\"flex flex-col gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                    Proje Adƒ± *\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"w-full border border-gray-300 rounded-lg px-4 py-2 text-gray-800 focus:ring-2 focus:ring-orange-500 focus:border-orange-500\"\r\n                    placeholder=\"√ñrn: Villa Projesi\"\r\n                    value={projectName}\r\n                    onChange={(e) => setProjectName(e.target.value)}\r\n                  />\r\n                </div>\r\n                \r\n                <div>\r\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                    A√ßƒ±klama (Opsiyonel)\r\n                  </label>\r\n                  <textarea\r\n                    className=\"w-full border border-gray-300 rounded-lg px-4 py-2 text-gray-800 focus:ring-2 focus:ring-orange-500 focus:border-orange-500\"\r\n                    placeholder=\"Proje hakkƒ±nda kƒ±sa a√ßƒ±klama...\"\r\n                    rows={3}\r\n                    value={projectDescription}\r\n                    onChange={(e) => setProjectDescription(e.target.value)}\r\n                  />\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"flex gap-3 mt-6\">\r\n                <button\r\n                  onClick={handleCreateProject}\r\n                  className=\"flex-1 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white px-4 py-2 rounded-lg font-bold\"\r\n                >\r\n                  Olu≈ütur\r\n                </button>\r\n                <button\r\n                  onClick={() => {\r\n                    setShowModal(false);\r\n                    setProjectName(\"\");\r\n                    setProjectDescription(\"\");\r\n                  }}\r\n                  className=\"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded-lg font-bold\"\r\n                >\r\n                  ƒ∞ptal\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* M√º≈üteri se√ßim modalƒ± (PDF i√ßin) */}\r\n        {showCustomerModal && (\r\n          <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4\">\r\n            <div className=\"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md\">\r\n              <h3 className=\"text-xl font-bold text-gray-900 mb-4\">PDF ƒ∞√ßin M√º≈üteri Se√ßin</h3>\r\n              \r\n              <div className=\"flex flex-col gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                    M√º≈üteri *\r\n                  </label>\r\n                  <select\r\n                    className=\"w-full border border-gray-300 rounded-lg px-4 py-2 text-gray-800 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\r\n                    value={selectedCustomerId || ''}\r\n                    onChange={(e) => setSelectedCustomerId(Number(e.target.value))}\r\n                  >\r\n                    <option value=\"\">M√º≈üteri Se√ßin</option>\r\n                    {customers.map(c => (\r\n                      <option key={c.id} value={c.id}>\r\n                        {c.name} {c.company ? `(${c.company})` : ''}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                {selectedCustomerId && (\r\n                  <>\r\n                    <div className=\"bg-gray-50 p-3 rounded-lg\">\r\n                      {customers.find(c => c.id === selectedCustomerId) && (\r\n                        <div className=\"text-sm text-gray-700 space-y-1\">\r\n                          <div><strong>Ad Soyad:</strong> {customers.find(c => c.id === selectedCustomerId)?.name}</div>\r\n                          {customers.find(c => c.id === selectedCustomerId)?.company && (\r\n                            <div><strong>Firma:</strong> {customers.find(c => c.id === selectedCustomerId)?.company}</div>\r\n                          )}\r\n                          {customers.find(c => c.id === selectedCustomerId)?.email && (\r\n                            <div><strong>E-posta:</strong> {customers.find(c => c.id === selectedCustomerId)?.email}</div>\r\n                          )}\r\n                          {customers.find(c => c.id === selectedCustomerId)?.phone && (\r\n                            <div><strong>Telefon:</strong> {customers.find(c => c.id === selectedCustomerId)?.phone}</div>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-2 gap-3\">\r\n                      <div>\r\n                        <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                          Ge√ßerlilik (g√ºn)\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"w-full border border-gray-300 rounded-lg px-4 py-2 text-gray-800\"\r\n                          value={validityPeriod}\r\n                          onChange={(e) => setValidityPeriod(e.target.value)}\r\n                          placeholder=\"15\"\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                          Teslim S√ºresi\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"w-full border border-gray-300 rounded-lg px-4 py-2 text-gray-800\"\r\n                          value={deliveryTime}\r\n                          onChange={(e) => setDeliveryTime(e.target.value)}\r\n                          placeholder=\"2 hafta\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n              \r\n              <div className=\"flex gap-3 mt-6\">\r\n                <button\r\n                  onClick={handleGeneratePDF}\r\n                  disabled={!selectedCustomerId}\r\n                  className=\"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white px-4 py-2 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  üìÑ PDF Olu≈ütur\r\n                </button>\r\n                <button\r\n                  onClick={() => {\r\n                    setShowCustomerModal(false);\r\n                    setSelectedProjectId(null);\r\n                    setSelectedCustomerId(null);\r\n                    setValidityPeriod('15');\r\n                    setDeliveryTime('2 hafta');\r\n                  }}\r\n                  className=\"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded-lg font-bold\"\r\n                >\r\n                  ƒ∞ptal\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;;;AANA;;;;;AAuBe,SAAS;QAmUmC,iBAChC,kBAC+B,kBAE/B,kBACiC,kBAEjC,kBACiC;;IA1U1D,MAAM,SAAS,IAAA,qKAAS;IACxB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,4LAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,4LAAQ,EAAC;IAC3C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,4LAAQ,EAAC;IAC/C,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,4LAAQ,EAAC;IAE7D,gCAAgC;IAChC,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,4LAAQ,EAAC;IAC3D,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,4LAAQ,EAAgB;IAC1E,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,4LAAQ,EAAa,EAAE;IACzD,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,4LAAQ,EAAgB;IAC5E,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,4LAAQ,EAAC;IACrD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,4LAAQ,EAAC;IAEjD,IAAA,6LAAS;kCAAC;YACR;QACF;iCAAG,EAAE;IAEL,IAAA,6LAAS;kCAAC;YACR,IAAI,mBAAmB;gBACrB;YACF;QACF;iCAAG;QAAC;KAAkB;IAEtB,eAAe;QACb,IAAI;YACF,MAAM,MAAM,MAAM,MAAM;YACxB,IAAI,IAAI,EAAE,EAAE;gBACV,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,YAAY;YACd;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,yBAAyB;QACzC;IACF;IAEA,eAAe;QACb,IAAI;YACF,MAAM,MAAM,MAAM,MAAM;YACxB,IAAI,IAAI,EAAE,EAAE;gBACV,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,aAAa;YACf;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;QAC3C;IACF;IAEA,SAAS,eAAe,SAAiB;QACvC,qBAAqB;QACrB,qBAAqB;IACvB;IAEA,eAAe;QACb,IAAI,CAAC,sBAAsB,CAAC,mBAAmB;YAC7C,MAAM;YACN;QACF;QAEA,IAAI;YACF,0BAA0B;YAC1B,MAAM,aAAa,MAAM,MAAM,AAAC,iBAAkC,OAAlB;YAChD,IAAI,CAAC,WAAW,EAAE,EAAE;gBAClB,MAAM,YAAY,MAAM,WAAW,IAAI;gBACvC,QAAQ,KAAK,CAAC,qBAAqB;gBACnC,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,cAAc,MAAM,WAAW,IAAI;YACzC,QAAQ,GAAG,CAAC,iBAAiB;YAE7B,MAAM,WAAW,UAAU,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;YAE9C,IAAI,CAAC,UAAU,MAAM,IAAI,MAAM;YAE/B,iEAAiE;YACjE,MAAM,QAAQ,CAAC,YAAY,KAAK,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,OAAc,CAAC;oBAC1D,SAAS;wBACP,MAAM,KAAK,YAAY,IAAI;wBAC3B,OAAO,KAAK,KAAK,IAAI;wBACrB,OAAO,KAAK,KAAK,IAAI;wBACrB,MAAM,KAAK,IAAI,IAAI;oBACrB;oBACA,UAAU,KAAK,QAAQ,IAAI;oBAC3B,WAAW,KAAK,WAAW,IAAI,KAAK,UAAU,IAAI;oBAClD,OAAO,CAAC,KAAK,WAAW,IAAI,KAAK,UAAU,IAAI,CAAC,IAAI,CAAC,KAAK,QAAQ,IAAI,CAAC;gBACzE,CAAC;YAED,QAAQ,GAAG,CAAC,8BAA8B;YAE1C,MAAM,WAAW,MAAM,MAAM,CAAC,CAAC,KAAa,OAAc,MAAM,KAAK,KAAK,EAAE;YAC5E,MAAM,MAAM,WAAW;YACvB,MAAM,QAAQ,WAAW;YAEzB,QAAQ,GAAG,CAAC,4BAA4B,UAAU,QAAQ,KAAK,UAAU;YAEzE,cAAc;YACd,MAAM,IAAA,oKAAgB,EAAC;gBACrB,SAAS;gBACT,cAAc;oBACZ,MAAM,SAAS,IAAI,IAAI;oBACvB,SAAS,SAAS,OAAO,IAAI;oBAC7B,OAAO,SAAS,KAAK,IAAI;oBACzB,OAAO,SAAS,KAAK,IAAI;gBAC3B;gBACA,gBAAgB;oBACd,eAAe,YAAY,IAAI,IAAI;oBACnC,oBAAoB,YAAY,WAAW,IAAI;gBACjD;gBACA,UAAU;oBACR,WAAW;oBACX,SAAS;gBACX;gBACA,YAAY;oBACV,gBAAgB,kBAAkB;oBAClC,cAAc,gBAAgB;gBAChC;gBACA,OAAO;gBACP,UAAU;gBACV,KAAK;gBACL,OAAO;gBACP,WAAW,IAAI,OAAO,WAAW;YACnC;YAEA,QAAQ,GAAG,CAAC;YAEZ,mCAAmC;YACnC,qBAAqB;YACrB,qBAAqB;YACrB,sBAAsB;YACtB,kBAAkB;YAClB,gBAAgB;QAElB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,yBAAyB;YACvC,MAAM,AAAC,6BAAuF,OAA3D,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QAC9E;IACF;IAEA,eAAe;QACb,IAAI,CAAC,YAAY,IAAI,IAAI;YACvB,MAAM;YACN;QACF;QAEA,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,iBAAiB;gBACvC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB,MAAM;oBACN,aAAa;gBACf;YACF;YAEA,IAAI,IAAI,EAAE,EAAE;gBACV,MAAM,aAAa,MAAM,IAAI,IAAI;gBACjC,6CAA6C;gBAC7C,OAAO,IAAI,CAAC,AAAC,aAA0B,OAAd,WAAW,EAAE;YACxC;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,yBAAyB;YACvC,MAAM;QACR;IACF;IAEA,eAAe,oBAAoB,EAAU;QAC3C,IAAI,CAAC,QAAQ,mDAAmD;QAEhE,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,AAAC,iBAAmB,OAAH,KAAM;gBAAE,QAAQ;YAAS;YAClE,IAAI,IAAI,EAAE,EAAE;gBACV,YAAY,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;YAChD;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,qBAAqB;YACnC,MAAM;QACR;IACF;IAEA,qBACE,gNAAC,2LAAK,CAAC,QAAQ;;0BACb,gNAAC,6JAAM;;;;;0BACP,gNAAC;gBAAK,WAAU;;kCACd,gNAAC;wBAAI,WAAU;kCACb,cAAA,gNAAC;4BAAI,WAAU;;8CACb,gNAAC;oCAAI,WAAU;;sDACb,gNAAC;4CAAG,WAAU;sDAAoC;;;;;;sDAClD,gNAAC;4CACC,SAAS,IAAM,aAAa;4CAC5B,WAAU;sDACX;;;;;;;;;;;;8CAKH,gNAAC;oCAAI,WAAU;8CACZ,SAAS,GAAG,CAAC,CAAC,wBACb,gNAAC;4CAAqB,WAAU;;8DAC9B,gNAAC;oDAAG,WAAU;8DAAwC,QAAQ,IAAI;;;;;;gDACjE,QAAQ,WAAW,kBAClB,gNAAC;oDAAE,WAAU;8DAA8B,QAAQ,WAAW;;;;;;8DAEhE,gNAAC;oDAAI,WAAU;;sEACb,gNAAC;4DACC,SAAS,IAAM,OAAO,IAAI,CAAC,AAAC,aAAuB,OAAX,QAAQ,EAAE;4DAClD,WAAU;sEACX;;;;;;sEAGD,gNAAC;4DACC,SAAS,IAAM,eAAe,QAAQ,EAAE;4DACxC,WAAU;sEACX;;;;;;sEAGD,gNAAC;4DACC,SAAS,IAAM,oBAAoB,QAAQ,EAAE;4DAC7C,WAAU;sEACX;;;;;;;;;;;;;2CArBK,QAAQ,EAAE;;;;;;;;;;gCA6BvB,SAAS,MAAM,KAAK,mBACnB,gNAAC;oCAAI,WAAU;;sDACb,gNAAC;4CAAE,WAAU;sDAAe;;;;;;sDAC5B,gNAAC;4CAAE,WAAU;sDAAU;;;;;;;;;;;;;;;;;;;;;;;oBAO9B,2BACC,gNAAC;wBAAI,WAAU;kCACb,cAAA,gNAAC;4BAAI,WAAU;;8CACb,gNAAC;oCAAG,WAAU;8CAAuC;;;;;;8CAErD,gNAAC;oCAAI,WAAU;;sDACb,gNAAC;;8DACC,gNAAC;oDAAM,WAAU;8DAAiD;;;;;;8DAGlE,gNAAC;oDACC,MAAK;oDACL,WAAU;oDACV,aAAY;oDACZ,OAAO;oDACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;sDAIlD,gNAAC;;8DACC,gNAAC;oDAAM,WAAU;8DAAiD;;;;;;8DAGlE,gNAAC;oDACC,WAAU;oDACV,aAAY;oDACZ,MAAM;oDACN,OAAO;oDACP,UAAU,CAAC,IAAM,sBAAsB,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;;;;;;;8CAK3D,gNAAC;oCAAI,WAAU;;sDACb,gNAAC;4CACC,SAAS;4CACT,WAAU;sDACX;;;;;;sDAGD,gNAAC;4CACC,SAAS;gDACP,aAAa;gDACb,eAAe;gDACf,sBAAsB;4CACxB;4CACA,WAAU;sDACX;;;;;;;;;;;;;;;;;;;;;;;oBASR,mCACC,gNAAC;wBAAI,WAAU;kCACb,cAAA,gNAAC;4BAAI,WAAU;;8CACb,gNAAC;oCAAG,WAAU;8CAAuC;;;;;;8CAErD,gNAAC;oCAAI,WAAU;;sDACb,gNAAC;;8DACC,gNAAC;oDAAM,WAAU;8DAAiD;;;;;;8DAGlE,gNAAC;oDACC,WAAU;oDACV,OAAO,sBAAsB;oDAC7B,UAAU,CAAC,IAAM,sBAAsB,OAAO,EAAE,MAAM,CAAC,KAAK;;sEAE5D,gNAAC;4DAAO,OAAM;sEAAG;;;;;;wDAChB,UAAU,GAAG,CAAC,CAAA,kBACb,gNAAC;gEAAkB,OAAO,EAAE,EAAE;;oEAC3B,EAAE,IAAI;oEAAC;oEAAE,EAAE,OAAO,GAAG,AAAC,IAAa,OAAV,EAAE,OAAO,EAAC,OAAK;;+DAD9B,EAAE,EAAE;;;;;;;;;;;;;;;;;wCAOtB,oCACC;;8DACE,gNAAC;oDAAI,WAAU;8DACZ,UAAU,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,qCAC5B,gNAAC;wDAAI,WAAU;;0EACb,gNAAC;;kFAAI,gNAAC;kFAAO;;;;;;oEAAkB;qEAAE,kBAAA,UAAU,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,iCAA7B,sCAAA,gBAAkD,IAAI;;;;;;;4DACtF,EAAA,mBAAA,UAAU,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,iCAA7B,uCAAA,iBAAkD,OAAO,mBACxD,gNAAC;;kFAAI,gNAAC;kFAAO;;;;;;oEAAe;qEAAE,mBAAA,UAAU,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,iCAA7B,uCAAA,iBAAkD,OAAO;;;;;;;4DAExF,EAAA,mBAAA,UAAU,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,iCAA7B,uCAAA,iBAAkD,KAAK,mBACtD,gNAAC;;kFAAI,gNAAC;kFAAO;;;;;;oEAAiB;qEAAE,mBAAA,UAAU,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,iCAA7B,uCAAA,iBAAkD,KAAK;;;;;;;4DAExF,EAAA,mBAAA,UAAU,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,iCAA7B,uCAAA,iBAAkD,KAAK,mBACtD,gNAAC;;kFAAI,gNAAC;kFAAO;;;;;;oEAAiB;qEAAE,mBAAA,UAAU,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,iCAA7B,uCAAA,iBAAkD,KAAK;;;;;;;;;;;;;;;;;;8DAM/F,gNAAC;oDAAI,WAAU;;sEACb,gNAAC;;8EACC,gNAAC;oEAAM,WAAU;8EAAiD;;;;;;8EAGlE,gNAAC;oEACC,MAAK;oEACL,WAAU;oEACV,OAAO;oEACP,UAAU,CAAC,IAAM,kBAAkB,EAAE,MAAM,CAAC,KAAK;oEACjD,aAAY;;;;;;;;;;;;sEAGhB,gNAAC;;8EACC,gNAAC;oEAAM,WAAU;8EAAiD;;;;;;8EAGlE,gNAAC;oEACC,MAAK;oEACL,WAAU;oEACV,OAAO;oEACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;oEAC/C,aAAY;;;;;;;;;;;;;;;;;;;;;;;;;;8CAQxB,gNAAC;oCAAI,WAAU;;sDACb,gNAAC;4CACC,SAAS;4CACT,UAAU,CAAC;4CACX,WAAU;sDACX;;;;;;sDAGD,gNAAC;4CACC,SAAS;gDACP,qBAAqB;gDACrB,qBAAqB;gDACrB,sBAAsB;gDACtB,kBAAkB;gDAClB,gBAAgB;4CAClB;4CACA,WAAU;sDACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUjB;GA1YwB;;QACP,qKAAS;;;KADF","debugId":null}}]
}